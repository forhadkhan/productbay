"use strict";(globalThis.webpackChunkproductbay=globalThis.webpackChunkproductbay||[]).push([[308],{308(e,t,a){a.r(t),a.d(t,{default:()=>y});var s=a(723),l=a(609),r=a(492),d=a(1),i=a(162),c=a(292),n=a(554),o=a(49),u=a(6),p=a(790);const y=(0,l.memo)(({loading:e})=>{const[t,a]=(0,l.useState)(!1),[y,b]=(0,l.useState)(""),{resetSettings:m,saving:h}=(0,u.C)(),{toast:_}=(0,n.d)();return e?(0,p.jsxs)("div",{className:"p-6",children:[(0,p.jsx)("div",{className:"h-7 w-40 bg-gray-200 rounded animate-pulse mb-6"}),(0,p.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-100 rounded-lg",children:[(0,p.jsxs)("div",{className:"space-y-2",children:[(0,p.jsx)("div",{className:"h-5 w-48 bg-gray-200 rounded animate-pulse"}),(0,p.jsx)("div",{className:"h-4 w-64 bg-gray-200 rounded animate-pulse"})]}),(0,p.jsx)(o.E,{className:"h-10 w-32 rounded"})]})]}):(0,p.jsxs)("div",{className:"p-6",children:[(0,p.jsx)("h3",{className:"text-lg font-semibold text-red-600 mt-0 mb-4",children:(0,s.__)("Clear Data","productbay")}),(0,p.jsxs)("div",{className:"flex items-center justify-between p-4 border border-red-200 bg-red-50 rounded-lg",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"font-medium text-red-800",children:(0,s.__)("Reset to Factory Defaults","productbay")}),(0,p.jsx)("p",{className:"text-sm text-red-600 mt-1",children:(0,s.__)("This will permanently delete all saved tables, settings, styles, and configurations â€” restoring the plugin to its freshly installed state.","productbay")})]}),(0,p.jsxs)(c.$,{variant:"destructive",onClick:()=>a(!0),disabled:h,title:(0,s.__)("Reset all data of ProductBay","productbay"),className:"flex-shrink-0 cursor-pointer",children:[(0,s.__)("Reset Data","productbay"),(0,p.jsx)(r.A,{className:"w-4 h-4 ml-2"})]})]}),(0,p.jsx)(d.a,{isOpen:t,onClose:()=>{a(!1),b("")},title:(0,s.__)("Reset All Plugin Data?","productbay"),maxWidth:"sm",closeOnBackdropClick:!0,primaryButton:{text:h?(0,s.__)("Resetting...","productbay"):(0,s.__)("Yes, Reset Everything","productbay"),onClick:async()=>{try{var e;const t=await m(),l=null!==(e=t?.deleted_tables)&&void 0!==e?e:0;_({title:(0,s.__)("Factory Reset Complete","productbay"),description:l>0?`${l} ${1===l?(0,s.__)("table","productbay"):(0,s.__)("tables","productbay")} ${(0,s.__)("deleted. All data has been reset to factory defaults. Reloading...","productbay")}`:(0,s.__)("All data has been reset to factory defaults. Reloading...","productbay"),type:"success"}),a(!1),b(""),setTimeout(()=>{window.location.reload()},1500)}catch(e){_({title:(0,s.__)("Reset Failed","productbay"),description:(0,s.__)("Failed to reset plugin data. Please try again.","productbay"),type:"error"})}},variant:"danger",icon:(0,p.jsx)(r.A,{className:"w-4 h-4"}),disabled:h||"RESET"!==y},secondaryButton:{text:(0,s.__)("Cancel","productbay"),onClick:()=>{a(!1),b("")},variant:"secondary",disabled:h},children:(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsx)("p",{className:"text-gray-800 font-medium m-0",children:(0,s.__)("This action is irreversible.","productbay")}),(0,p.jsx)("p",{className:"text-gray-600 m-0 text-sm",children:(0,s.__)("This will delete all your saved tables and reset every setting to factory defaults. The plugin will return to its freshly installed state. This cannot be undone.","productbay")}),(0,p.jsxs)("div",{className:"pt-2",children:[(0,p.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:(0,s.__)('Type "RESET" to confirm:',"productbay")}),(0,p.jsx)(i.p,{type:"text",value:y,onChange:e=>b(e.target.value),placeholder:(0,s.__)("RESET","productbay"),className:"w-full"})]})]})})]})})}}]);