/*!
 * ProductBay
 * Copyright (c) 2026 WP Anchor Bay - https://wpanchorbay.com
 *
 * This software is licensed under the GPLv2 or later.
 * This file is generated from un-compiled source code. Do not edit this file directly.
 *
 * Source Code (Root): https://github.com/forhadkhan/productbay/tree/1.0.0/
 * Source Code (Admin): https://github.com/forhadkhan/productbay/tree/1.0.0/src
 *
 * For license information please see [base].LICENSE.txt
 */
(()=>{"use strict";var e,t,r={6(e,t,r){r.d(t,{C:()=>s});var a=r(511),n=r(512);const s=(0,a.v)((e,t)=>({settings:{},originalSettings:{},loading:!1,saving:!1,error:null,hasLoaded:!1,isDirty:!1,fetchSettings:async(r=!1)=>{const{hasLoaded:a,loading:s}=t();if(!(a&&!r||s)){e({loading:!0,error:null});try{const t=await(0,n.n)("settings");e({settings:t,originalSettings:JSON.parse(JSON.stringify(t)),loading:!1,hasLoaded:!0,isDirty:!1})}catch(t){console.error("Failed to fetch settings:",t),e({error:"Failed to load settings",loading:!1})}}},updateSettings:r=>{const{originalSettings:a}=t(),n=JSON.stringify(r)!==JSON.stringify(a);e({settings:r,isDirty:n})},saveSettings:async()=>{const{settings:r}=t();e({saving:!0,error:null});try{await(0,n.n)("settings",{method:"POST",body:JSON.stringify({settings:r})}),e({saving:!1,originalSettings:JSON.parse(JSON.stringify(r)),isDirty:!1})}catch(t){throw console.error("Failed to save settings:",t),e({error:"Failed to save settings",saving:!1}),t}},resetSettings:async()=>{e({saving:!0,error:null});try{const t=await(0,n.n)("settings/reset",{method:"POST"});return e({settings:t.settings,originalSettings:JSON.parse(JSON.stringify(t.settings)),saving:!1,isDirty:!1}),t}catch(t){throw console.error("Failed to reset settings:",t),e({error:"Failed to reset settings",saving:!1}),t}}}))},511(e,t,r){r.d(t,{v:()=>l});var a=r(609);const n=e=>{let t;const r=new Set,a=(e,a)=>{const n="function"==typeof e?e(t):e;if(!Object.is(n,t)){const e=t;t=(null!=a?a:"object"!=typeof n||null===n)?n:Object.assign({},t,n),r.forEach(r=>r(t,e))}},n=()=>t,s={setState:a,getState:n,getInitialState:()=>o,subscribe:e=>(r.add(e),()=>r.delete(e))},o=t=e(a,n,s);return s},s=e=>e,o=e=>{const t=(e=>e?n(e):n)(e),r=e=>function(e,t=s){const r=a.useSyncExternalStore(e.subscribe,a.useCallback(()=>t(e.getState()),[e,t]),a.useCallback(()=>t(e.getInitialState()),[e,t]));return a.useDebugValue(r),r}(t,e);return Object.assign(r,t),r},l=e=>e?o(e):o},512(e,t,r){r.d(t,{n:()=>a});const a=async(e,t={})=>{const r=`${productBaySettings.apiUrl}${e.replace(/^\//,"")}`,a={"X-WP-Nonce":productBaySettings.nonce,"Content-Type":"application/json",...t.headers},n=await fetch(r,{...t,headers:a});if(!n.ok){const e=await n.text();throw new Error(e||"API Request Failed")}return n.json()}},609(e){e.exports=window.React}},a={};function n(e){var t=a[e];if(void 0!==t)return t.exports;var s=a[e]={exports:{}};return r[e](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"==typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"==typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var l=2&a&&r;("object"==typeof l||"function"==typeof l)&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach(e=>o[e]=()=>r[e]);return o.default=()=>r,n.d(s,o),s},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s=n(609),o=n.t(s,2),l=n.n(s),i="popstate";function c(e={}){return function(e,t,r,a={}){let{window:n=document.defaultView,v5Compat:s=!1}=a,o=n.history,l="POP",c=null,u=b();function b(){return(o.state||{idx:null}).idx}function g(){l="POP";let e=b(),t=null==e?null:e-u;u=e,c&&c({action:l,location:f.location,delta:t})}function x(e){return function(e,t=!1){let r="http://localhost";"undefined"!=typeof window&&(r="null"!==window.location.origin?window.location.origin:window.location.href),d(r,"No window.location.(origin|href) available to create URL");let a="string"==typeof e?e:m(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=r+a),new URL(a,r)}(e)}null==u&&(u=0,o.replaceState({...o.state,idx:u},""));let f={get action(){return l},get location(){return e(n,o)},listen(e){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(i,g),c=e,()=>{n.removeEventListener(i,g),c=null}},createHref:e=>t(n,e),createURL:x,encodeLocation(e){let t=x(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l="PUSH";let a=h(f.location,e,t);r&&r(a,e),u=b()+1;let i=p(a,u),d=f.createHref(a);try{o.pushState(i,"",d)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;n.location.assign(d)}s&&c&&c({action:l,location:f.location,delta:1})},replace:function(e,t){l="REPLACE";let a=h(f.location,e,t);r&&r(a,e),u=b();let n=p(a,u),i=f.createHref(a);o.replaceState(n,"",i),s&&c&&c({action:l,location:f.location,delta:0})},go:e=>o.go(e)};return f}(function(e,t){let{pathname:r="/",search:a="",hash:n=""}=b(e.location.hash.substring(1));return r.startsWith("/")||r.startsWith(".")||(r="/"+r),h("",{pathname:r,search:a,hash:n},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let r=e.document.querySelector("base"),a="";if(r&&r.getAttribute("href")){let t=e.location.href,r=t.indexOf("#");a=-1===r?t:t.slice(0,r)}return a+"#"+("string"==typeof t?t:m(t))},function(e,t){u("/"===e.pathname.charAt(0),`relative pathnames are not supported in hash history.push(${JSON.stringify(t)})`)},e)}function d(e,t){if(!1===e||null==e)throw new Error(t)}function u(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function p(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,r=null,a){return{pathname:"string"==typeof e?e:e.pathname,search:"",hash:"",..."string"==typeof t?b(t):t,state:r,key:t&&t.key||a||Math.random().toString(36).substring(2,10)}}function m({pathname:e="/",search:t="",hash:r=""}){return t&&"?"!==t&&(e+="?"===t.charAt(0)?t:"?"+t),r&&"#"!==r&&(e+="#"===r.charAt(0)?r:"#"+r),e}function b(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function g(e,t,r="/"){return function(e,t,r,a){let n=D(("string"==typeof t?b(t):t).pathname||"/",r);if(null==n)return null;let s=x(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r])?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let o=null;for(let e=0;null==o&&e<s.length;++e){let t=R(n);o=S(s[e],t,a)}return o}(e,t,r,!1)}function x(e,t=[],r=[],a="",n=!1){let s=(e,s,o=n,l)=>{let i={relativePath:void 0===l?e.path||"":l,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};if(i.relativePath.startsWith("/")){if(!i.relativePath.startsWith(a)&&o)return;d(i.relativePath.startsWith(a),`Absolute route path "${i.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),i.relativePath=i.relativePath.slice(a.length)}let c=P([a,i.relativePath]),u=r.concat(i);e.children&&e.children.length>0&&(d(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),x(e.children,t,u,c,o)),(null!=e.path||e.index)&&t.push({path:c,score:C(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let r of f(e.path))s(e,t,!0,r);else s(e,t)}),t}function f(e){let t=e.split("/");if(0===t.length)return[];let[r,...a]=t,n=r.endsWith("?"),s=r.replace(/\?$/,"");if(0===a.length)return n?[s,""]:[s];let o=f(a.join("/")),l=[];return l.push(...o.map(e=>""===e?s:[s,e].join("/"))),n&&l.push(...o),l.map(t=>e.startsWith("/")&&""===t?"/":t)}new WeakMap;var y=/^:[\w-]+$/,v=3,w=2,j=1,N=10,_=-2,k=e=>"*"===e;function C(e,t){let r=e.split("/"),a=r.length;return r.some(k)&&(a+=_),t&&(a+=w),r.filter(e=>!k(e)).reduce((e,t)=>e+(y.test(t)?v:""===t?j:N),a)}function S(e,t,r=!1){let{routesMeta:a}=e,n={},s="/",o=[];for(let e=0;e<a.length;++e){let l=a[e],i=e===a.length-1,c="/"===s?t:t.slice(s.length)||"/",d=E({path:l.relativePath,caseSensitive:l.caseSensitive,end:i},c),u=l.route;if(!d&&i&&r&&!a[a.length-1].route.index&&(d=E({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(n,d.params),o.push({params:n,pathname:P([s,d.pathname]),pathnameBase:I(P([s,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(s=P([s,d.pathnameBase]))}return o}function E(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=function(e,t=!1,r=!0){u("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(a.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),n+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":""!==e&&"/"!==e&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),a]}(e.path,e.caseSensitive,e.end),n=t.match(r);if(!n)return null;let s=n[0],o=s.replace(/(.)\/+$/,"$1"),l=n.slice(1);return{params:a.reduce((e,{paramName:t,isOptional:r},a)=>{if("*"===t){let e=l[a]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const n=l[a];return e[t]=r&&!n?void 0:(n||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:o,pattern:e}}function R(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return u(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&"/"!==a?null:e.slice(r)||"/"}var T=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function M(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}function A(e,t,r,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function z(e){let t=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t.map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function L(e,t,r,a=!1){let n;"string"==typeof e?n=b(e):(n={...e},d(!n.pathname||!n.pathname.includes("?"),A("?","pathname","search",n)),d(!n.pathname||!n.pathname.includes("#"),A("#","pathname","hash",n)),d(!n.search||!n.search.includes("#"),A("#","search","hash",n)));let s,o=""===e||""===n.pathname,l=o?"/":n.pathname;if(null==l)s=r;else{let e=t.length-1;if(!a&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}s=e>=0?t[e]:"/"}let i=function(e,t="/"){let r,{pathname:a,search:n="",hash:s=""}="string"==typeof e?b(e):e;if(a)if(o=a,T.test(o))r=a;else{if(a.includes("//")){let e=a;a=a.replace(/\/\/+/g,"/"),u(!1,`Pathnames cannot have embedded double slashes - normalizing ${e} -> ${a}`)}r=a.startsWith("/")?M(a.substring(1),"/"):M(a,t)}else r=t;var o;return{pathname:r,search:B(n),hash:$(s)}}(n,s),c=l&&"/"!==l&&l.endsWith("/"),p=(o||"."===l)&&r.endsWith("/");return i.pathname.endsWith("/")||!c&&!p||(i.pathname+="/"),i}var P=e=>e.join("/").replace(/\/\/+/g,"/"),I=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",$=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"",O=class{constructor(e,t,r,a=!1){this.status=e,this.statusText=t||"",this.internal=a,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function F(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}function H(e){return e.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var W="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function q(e,t){let r=e;if("string"!=typeof r||!T.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let a=r,n=!1;if(W)try{let e=new URL(window.location.href),a=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=D(a.pathname,t);a.origin===e.origin&&null!=s?r=s+a.search+a.hash:n=!0}catch(e){u(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:n,to:r}}Symbol("Uninstrumented"),Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var U=["POST","PUT","PATCH","DELETE"],V=(new Set(U),["GET",...U]);new Set(V),Symbol("ResetLoaderData");var K=s.createContext(null);K.displayName="DataRouter";var Y=s.createContext(null);Y.displayName="DataRouterState";var J=s.createContext(!1);var G=s.createContext({isTransitioning:!1});G.displayName="ViewTransition",s.createContext(new Map).displayName="Fetchers",s.createContext(null).displayName="Await";var X=s.createContext(null);X.displayName="Navigation";var Q=s.createContext(null);Q.displayName="Location";var Z=s.createContext({outlet:null,matches:[],isDataRoute:!1});Z.displayName="Route";var ee=s.createContext(null);ee.displayName="RouteError";var te="REACT_ROUTER_ERROR";function re(){return null!=s.useContext(Q)}function ae(){return d(re(),"useLocation() may be used only in the context of a <Router> component."),s.useContext(Q).location}var ne="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function se(e){s.useContext(X).static||s.useLayoutEffect(e)}function oe(){let{isDataRoute:e}=s.useContext(Z);return e?function(){let{router:e}=function(e){let t=s.useContext(K);return d(t,be(e)),t}("useNavigate"),t=ge("useNavigate"),r=s.useRef(!1);return se(()=>{r.current=!0}),s.useCallback(async(a,n={})=>{u(r.current,ne),r.current&&("number"==typeof a?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...n}))},[e,t])}():function(){d(re(),"useNavigate() may be used only in the context of a <Router> component.");let e=s.useContext(K),{basename:t,navigator:r}=s.useContext(X),{matches:a}=s.useContext(Z),{pathname:n}=ae(),o=JSON.stringify(z(a)),l=s.useRef(!1);return se(()=>{l.current=!0}),s.useCallback((a,s={})=>{if(u(l.current,ne),!l.current)return;if("number"==typeof a)return void r.go(a);let i=L(a,JSON.parse(o),n,"path"===s.relative);null==e&&"/"!==t&&(i.pathname="/"===i.pathname?t:P([t,i.pathname])),(s.replace?r.replace:r.push)(i,s.state,s)},[t,r,o,n,e])}()}function le(e,{relative:t}={}){let{matches:r}=s.useContext(Z),{pathname:a}=ae(),n=JSON.stringify(z(r));return s.useMemo(()=>L(e,JSON.parse(n),a,"path"===t),[e,n,a,t])}function ie(e,t,r,a,n){d(re(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=s.useContext(X),{matches:l}=s.useContext(Z),i=l[l.length-1],c=i?i.params:{},p=i?i.pathname:"/",h=i?i.pathnameBase:"/",m=i&&i.route;{let e=m&&m.path||"";fe(p,!m||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let x,f=ae();if(t){let e="string"==typeof t?b(t):t;d("/"===h||e.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${e.pathname}" was given in the \`location\` prop.`),x=e}else x=f;let y=x.pathname||"/",v=y;if("/"!==h){let e=h.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=g(e,{pathname:v});u(m||null!=w,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),u(null==w||void 0!==w[w.length-1].route.element||void 0!==w[w.length-1].route.Component||void 0!==w[w.length-1].route.lazy,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=function(e,t=[],r=null,a=null){if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==t.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let n=e,o=r?.errors;if(null!=o){let e=n.findIndex(e=>e.route.id&&void 0!==o?.[e.route.id]);d(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),n=n.slice(0,Math.min(n.length,e+1))}let l=!1,i=-1;if(r)for(let e=0;e<n.length;e++){let t=n[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(i=e),t.route.id){let{loaderData:e,errors:a}=r,s=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!a||void 0===a[t.route.id]);if(t.route.lazy||s){l=!0,n=i>=0?n.slice(0,i+1):[n[0]];break}}}let c=r&&a?(e,t)=>{a(e,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:H(r.matches),errorInfo:t})}:void 0;return n.reduceRight((e,a,d)=>{let u,p=!1,h=null,m=null;r&&(u=o&&a.route.id?o[a.route.id]:void 0,h=a.route.errorElement||de,l&&(i<0&&0===d?(fe("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,m=null):i===d&&(p=!0,m=a.route.hydrateFallbackElement||null)));let b=t.concat(n.slice(0,d+1)),g=()=>{let t;return t=u?h:p?m:a.route.Component?s.createElement(a.route.Component,null):a.route.element?a.route.element:e,s.createElement(me,{match:a,routeContext:{outlet:e,matches:b,isDataRoute:null!=r},children:t})};return r&&(a.route.ErrorBoundary||a.route.errorElement||0===d)?s.createElement(ue,{location:r.location,revalidation:r.revalidation,component:h,error:u,children:g(),routeContext:{outlet:null,matches:b,isDataRoute:!0},onError:c}):g()},null)}(w&&w.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:P([h,o.encodeLocation?o.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:P([h,o.encodeLocation?o.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),l,r,a,n);return t&&j?s.createElement(Q.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},j):j}function ce(){let e=function(){let e=s.useContext(ee),t=function(e){let t=s.useContext(Y);return d(t,be(e)),t}("useRouteError"),r=ge("useRouteError");return void 0!==e?e:t.errors?.[r]}(),t=F(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:a},o={padding:"2px 4px",backgroundColor:a},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=s.createElement(s.Fragment,null,s.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),s.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",s.createElement("code",{style:o},"ErrorBoundary")," or"," ",s.createElement("code",{style:o},"errorElement")," prop on your route.")),s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},t),r?s.createElement("pre",{style:n},r):null,l)}s.createContext(null);var de=s.createElement(ce,null),ue=class extends s.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&"object"==typeof e&&e&&"digest"in e&&"string"==typeof e.digest){const t=function(e){if(e.startsWith(`${te}:ROUTE_ERROR_RESPONSE:{`))try{let t=JSON.parse(e.slice(40));if("object"==typeof t&&t&&"number"==typeof t.status&&"string"==typeof t.statusText)return new O(t.status,t.statusText,t.data)}catch{}}(e.digest);t&&(e=t)}let t=void 0!==e?s.createElement(Z.Provider,{value:this.props.routeContext},s.createElement(ee.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?s.createElement(he,{error:e},t):t}};ue.contextType=J;var pe=new WeakMap;function he({children:e,error:t}){let{basename:r}=s.useContext(X);if("object"==typeof t&&t&&"digest"in t&&"string"==typeof t.digest){let e=function(e){if(e.startsWith(`${te}:REDIRECT:{`))try{let t=JSON.parse(e.slice(28));if("object"==typeof t&&t&&"number"==typeof t.status&&"string"==typeof t.statusText&&"string"==typeof t.location&&"boolean"==typeof t.reloadDocument&&"boolean"==typeof t.replace)return t}catch{}}(t.digest);if(e){let a=pe.get(t);if(a)throw a;let n=q(e.location,r);if(W&&!pe.get(t)){if(!n.isExternal&&!e.reloadDocument){const r=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(n.to,{replace:e.replace}));throw pe.set(t,r),r}window.location.href=n.absoluteURL||n.to}return s.createElement("meta",{httpEquiv:"refresh",content:`0;url=${n.absoluteURL||n.to}`})}}return e}function me({routeContext:e,match:t,children:r}){let a=s.useContext(K);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),s.createElement(Z.Provider,{value:e},r)}function be(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ge(e){let t=function(e){let t=s.useContext(Z);return d(t,be(e)),t}(e),r=t.matches[t.matches.length-1];return d(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}var xe={};function fe(e,t,r){t||xe[e]||(xe[e]=!0,u(!1,r))}function ye(e){d(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ve({basename:e="/",children:t=null,location:r,navigationType:a="POP",navigator:n,static:o=!1,unstable_useTransitions:l}){d(!re(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),c=s.useMemo(()=>({basename:i,navigator:n,static:o,unstable_useTransitions:l,future:{}}),[i,n,o,l]);"string"==typeof r&&(r=b(r));let{pathname:p="/",search:h="",hash:m="",state:g=null,key:x="default"}=r,f=s.useMemo(()=>{let e=D(p,i);return null==e?null:{location:{pathname:e,search:h,hash:m,state:g,key:x},navigationType:a}},[i,p,h,m,g,x,a]);return u(null!=f,`<Router basename="${i}"> is not able to match the URL "${p}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),null==f?null:s.createElement(X.Provider,{value:c},s.createElement(Q.Provider,{children:t,value:f}))}function we({children:e,location:t}){return function(e,t){return ie(e,t)}(je(e),t)}function je(e,t=[]){let r=[];return s.Children.forEach(e,(e,a)=>{if(!s.isValidElement(e))return;let n=[...t,a];if(e.type===s.Fragment)return void r.push.apply(r,je(e.props.children,n));d(e.type===ye,`[${"string"==typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),d(!e.props.index||!e.props.children,"An index route cannot have child routes.");let o={id:e.props.id||n.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=je(e.props.children,n)),r.push(o)}),r}o.useOptimistic,s.memo(function({routes:e,future:t,state:r,onError:a}){return ie(e,void 0,r,a,t)}),s.Component;var Ne="get",_e="application/x-www-form-urlencoded";function ke(e){return"undefined"!=typeof HTMLElement&&e instanceof HTMLElement}function Ce(e=""){return new URLSearchParams("string"==typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let a=e[r];return t.concat(Array.isArray(a)?a.map(e=>[r,e]):[[r,a]])},[]))}var Se=null,Ee=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Re(e){return null==e||Ee.has(e)?e:(u(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_e}"`),null)}function De(e,t){if(!1===e||null==e)throw new Error(t)}function Te(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"==typeof e.imageSrcSet&&"string"==typeof e.imageSizes:"string"==typeof e.rel&&"string"==typeof e.href)}function Me(e,t,r,a,n,s){let o=(e,t)=>!r[t]||e.route.id!==r[t].route.id,l=(e,t)=>r[t].pathname!==e.pathname||r[t].route.path?.endsWith("*")&&r[t].params["*"]!==e.params["*"];return"assets"===s?t.filter((e,t)=>o(e,t)||l(e,t)):"data"===s?t.filter((t,s)=>{let i=a.routes[t.route.id];if(!i||!i.hasLoader)return!1;if(o(t,s)||l(t,s))return!0;if(t.route.shouldRevalidate){let a=t.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"==typeof a)return a}return!0}):[]}function Ae(e,t,{includeHydrateFallback:r}={}){return a=e.map(e=>{let a=t.routes[e.route.id];if(!a)return[];let n=[a.module];return a.clientActionModule&&(n=n.concat(a.clientActionModule)),a.clientLoaderModule&&(n=n.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(n=n.concat(a.hydrateFallbackModule)),a.imports&&(n=n.concat(a.imports)),n}).flat(1),[...new Set(a)];var a}function ze(){let e=s.useContext(K);return De(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Le(){let e=s.useContext(Y);return De(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0"),"undefined"!=typeof window?window:"undefined"!=typeof globalThis&&globalThis,Symbol("SingleFetchRedirect");var Pe=s.createContext(void 0);function Ie(){let e=s.useContext(Pe);return De(e,"You must render this element inside a <HydratedRouter> element"),e}function Be(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function $e({page:e,...t}){let{router:r}=ze(),a=s.useMemo(()=>g(r.routes,e,r.basename),[r.routes,e,r.basename]);return a?s.createElement(Fe,{page:e,matches:a,...t}):null}function Oe(e){let{manifest:t,routeModules:r}=Ie(),[a,n]=s.useState([]);return s.useEffect(()=>{let a=!1;return async function(e,t,r){return function(e,t){let r=new Set,a=new Set(t);return e.reduce((e,n)=>{if(t&&(null==(s=n)||"string"!=typeof s.page)&&"script"===n.as&&n.href&&a.has(n.href))return e;var s;let o=JSON.stringify(function(e){let t={},r=Object.keys(e).sort();for(let a of r)t[a]=e[a];return t}(n));return r.has(o)||(r.add(o),e.push({key:o,link:n})),e},[])}((await Promise.all(e.map(async e=>{let a=t.routes[e.route.id];if(a){let e=await async function(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(t){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}(a,r);return e.links?e.links():[]}return[]}))).flat(1).filter(Te).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}(e,t,r).then(e=>{a||n(e)}),()=>{a=!0}},[e,t,r]),a}function Fe({page:e,matches:t,...r}){let a=ae(),{future:n,manifest:o,routeModules:l}=Ie(),{basename:i}=ze(),{loaderData:c,matches:d}=Le(),u=s.useMemo(()=>Me(e,t,d,o,a,"data"),[e,t,d,o,a]),p=s.useMemo(()=>Me(e,t,d,o,a,"assets"),[e,t,d,o,a]),h=s.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let r=new Set,s=!1;if(t.forEach(e=>{let t=o.routes[e.route.id];t&&t.hasLoader&&(!u.some(t=>t.route.id===e.route.id)&&e.route.id in c&&l[e.route.id]?.shouldRevalidate||t.hasClientLoader?s=!0:r.add(e.route.id))}),0===r.size)return[];let d=function(e,t,r,a){let n="string"==typeof e?new URL(e,"undefined"==typeof window?"server://singlefetch/":window.location.origin):e;return r?n.pathname.endsWith("/")?n.pathname=`${n.pathname}_.${a}`:n.pathname=`${n.pathname}.${a}`:"/"===n.pathname?n.pathname=`_root.${a}`:t&&"/"===D(n.pathname,t)?n.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${a}`,n}(e,i,n.unstable_trailingSlashAwareDataRequests,"data");return s&&r.size>0&&d.searchParams.set("_routes",t.filter(e=>r.has(e.route.id)).map(e=>e.route.id).join(",")),[d.pathname+d.search]},[i,n.unstable_trailingSlashAwareDataRequests,c,a,o,u,t,e,l]),m=s.useMemo(()=>Ae(p,o),[p,o]),b=Oe(p);return s.createElement(s.Fragment,null,h.map(e=>s.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...r})),m.map(e=>s.createElement("link",{key:e,rel:"modulepreload",href:e,...r})),b.map(({key:e,link:t})=>s.createElement("link",{key:e,nonce:r.nonce,...t})))}Pe.displayName="FrameworkContext";function He(...e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}s.Component;var We="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;try{We&&(window.__reactRouterVersion="7.12.0")}catch(e){}function qe({basename:e,children:t,unstable_useTransitions:r,window:a}){let n=s.useRef();null==n.current&&(n.current=c({window:a,v5Compat:!0}));let o=n.current,[l,i]=s.useState({action:o.action,location:o.location}),d=s.useCallback(e=>{!1===r?i(e):s.startTransition(()=>i(e))},[r]);return s.useLayoutEffect(()=>o.listen(d),[o,d]),s.createElement(ve,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:o,unstable_useTransitions:r})}var Ue=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ve=s.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:n,replace:o,state:l,target:i,to:c,preventScrollReset:u,viewTransition:p,unstable_defaultShouldRevalidate:h,...b},g){let{basename:x,unstable_useTransitions:f}=s.useContext(X),y="string"==typeof c&&Ue.test(c),v=q(c,x),w=function(e,{relative:t}={}){d(re(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=s.useContext(X),{hash:n,pathname:o,search:l}=le(e,{relative:t}),i=o;return"/"!==r&&(i="/"===o?r:P([r,o])),a.createHref({pathname:i,search:l,hash:n})}(c=v.to,{relative:a}),[j,N,_]=function(e,t){let r=s.useContext(Pe),[a,n]=s.useState(!1),[o,l]=s.useState(!1),{onFocus:i,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:p}=t,h=s.useRef(null);s.useEffect(()=>{if("render"===e&&l(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{l(e.isIntersecting)})},{threshold:.5});return h.current&&e.observe(h.current),()=>{e.disconnect()}}},[e]),s.useEffect(()=>{if(a){let e=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(e)}}},[a]);let m=()=>{n(!0)},b=()=>{n(!1),l(!1)};return r?"intent"!==e?[o,h,{}]:[o,h,{onFocus:Be(i,m),onBlur:Be(c,b),onMouseEnter:Be(d,m),onMouseLeave:Be(u,b),onTouchStart:Be(p,m)}]:[!1,h,{}]}(r,b),k=function(e,{target:t,replace:r,state:a,preventScrollReset:n,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:i,unstable_useTransitions:c}={}){let d=oe(),u=ae(),p=le(e,{relative:o});return s.useCallback(h=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(h,t)){h.preventDefault();let t=void 0!==r?r:m(u)===m(p),b=()=>d(e,{replace:t,state:a,preventScrollReset:n,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:i});c?s.startTransition(()=>b()):b()}},[u,d,p,r,a,t,e,n,o,l,i,c])}(c,{replace:o,state:l,target:i,preventScrollReset:u,relative:a,viewTransition:p,unstable_defaultShouldRevalidate:h,unstable_useTransitions:f}),C=s.createElement("a",{...b,..._,href:v.absoluteURL||w,onClick:v.isExternal||n?e:function(t){e&&e(t),t.defaultPrevented||k(t)},ref:He(g,N),target:i,"data-discover":y||"render"!==t?void 0:"true"});return j&&!y?s.createElement(s.Fragment,null,C,s.createElement($e,{page:w})):C});Ve.displayName="Link";var Ke=s.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:n,to:o,viewTransition:l,children:i,...c},u){let p=le(o,{relative:c.relative}),h=ae(),m=s.useContext(Y),{navigator:b,basename:g}=s.useContext(X),x=null!=m&&function(e,{relative:t}={}){let r=s.useContext(G);d(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Ye("useViewTransitionState"),n=le(e,{relative:t});if(!r.isTransitioning)return!1;let o=D(r.currentLocation.pathname,a)||r.currentLocation.pathname,l=D(r.nextLocation.pathname,a)||r.nextLocation.pathname;return null!=E(n.pathname,l)||null!=E(n.pathname,o)}(p)&&!0===l,f=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,y=h.pathname,v=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;t||(y=y.toLowerCase(),v=v?v.toLowerCase():null,f=f.toLowerCase()),v&&g&&(v=D(v,g)||v);const w="/"!==f&&f.endsWith("/")?f.length-1:f.length;let j,N=y===f||!a&&y.startsWith(f)&&"/"===y.charAt(w),_=null!=v&&(v===f||!a&&v.startsWith(f)&&"/"===v.charAt(f.length)),k={isActive:N,isPending:_,isTransitioning:x},C=N?e:void 0;j="function"==typeof r?r(k):[r,N?"active":null,_?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let S="function"==typeof n?n(k):n;return s.createElement(Ve,{...c,"aria-current":C,className:j,ref:u,style:S,to:o,viewTransition:l},"function"==typeof i?i(k):i)});function Ye(e){let t=s.useContext(K);return d(t,function(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}(e)),t}Ke.displayName="NavLink",s.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:a,replace:n,state:o,method:l=Ne,action:i,onSubmit:c,relative:u,preventScrollReset:p,viewTransition:h,unstable_defaultShouldRevalidate:b,...g},x)=>{let{unstable_useTransitions:f}=s.useContext(X),y=function(){let{router:e}=Ye("useSubmit"),{basename:t}=s.useContext(X),r=ge("useRouteId"),a=e.fetch,n=e.navigate;return s.useCallback(async(e,s={})=>{let{action:o,method:l,encType:i,formData:c,body:d}=function(e,t){let r,a,n,s,o;if(ke(l=e)&&"form"===l.tagName.toLowerCase()){let o=e.getAttribute("action");a=o?D(o,t):null,r=e.getAttribute("method")||Ne,n=Re(e.getAttribute("enctype"))||_e,s=new FormData(e)}else if(function(e){return ke(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return ke(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||o.getAttribute("action");if(a=l?D(l,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||Ne,n=Re(e.getAttribute("formenctype"))||Re(o.getAttribute("enctype"))||_e,s=new FormData(o,e),!function(){if(null===Se)try{new FormData(document.createElement("form"),0),Se=!1}catch(e){Se=!0}return Se}()){let{name:t,type:r,value:a}=e;if("image"===r){let e=t?`${t}.`:"";s.append(`${e}x`,"0"),s.append(`${e}y`,"0")}else t&&s.append(t,a)}}else{if(ke(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ne,a=null,n=_e,o=e}var l;return s&&"text/plain"===n&&(o=s,s=void 0),{action:a,method:r.toLowerCase(),encType:n,formData:s,body:o}}(e,t);if(!1===s.navigate){let e=s.fetcherKey||Ge();await a(e,r,s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||l,formEncType:s.encType||i,flushSync:s.flushSync})}else await n(s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||l,formEncType:s.encType||i,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[a,n,t,r])}(),v=function(e,{relative:t}={}){let{basename:r}=s.useContext(X),a=s.useContext(Z);d(a,"useFormAction must be used inside a RouteContext");let[n]=a.matches.slice(-1),o={...le(e||".",{relative:t})},l=ae();if(null==e){o.search=l.search;let e=new URLSearchParams(o.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let r=e.toString();o.search=r?`?${r}`:""}}return e&&"."!==e||!n.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),"/"!==r&&(o.pathname="/"===o.pathname?r:P([r,o.pathname])),m(o)}(i,{relative:u}),w="get"===l.toLowerCase()?"get":"post",j="string"==typeof i&&Ue.test(i);return s.createElement("form",{ref:x,method:w,action:v,onSubmit:a?c:e=>{if(c&&c(e),e.defaultPrevented)return;e.preventDefault();let a=e.nativeEvent.submitter,i=a?.getAttribute("formmethod")||l,d=()=>y(a||e.currentTarget,{fetcherKey:t,method:i,navigate:r,replace:n,state:o,relative:u,preventScrollReset:p,viewTransition:h,unstable_defaultShouldRevalidate:b});f&&!1!==r?s.startTransition(()=>d()):d()},...g,"data-discover":j||"render"!==e?void 0:"true"})}).displayName="Form";var Je=0,Ge=()=>`__${String(++Je)}__`;const Xe=window.ReactJSXRuntime,Qe=(0,s.createContext)(void 0),Ze=({children:e})=>{const[t,r]=(0,s.useState)([]),a=(0,s.useCallback)(e=>{const t=Math.random().toString(36).substring(2,9);r(r=>[...r,{...e,id:t}])},[]),n=(0,s.useCallback)(e=>{r(t=>t.filter(t=>t.id!==e))},[]);return(0,Xe.jsx)(Qe.Provider,{value:{toasts:t,toast:a,dismiss:n},children:e})},et=()=>{const e=(0,s.useContext)(Qe);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},tt=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},rt=(...e)=>e.filter((e,t,r)=>Boolean(e)&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),at=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var nt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const st=(0,s.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:n="",children:o,iconNode:l,...i},c)=>(0,s.createElement)("svg",{ref:c,...nt,width:t,height:t,stroke:e,strokeWidth:a?24*Number(r)/Number(t):r,className:rt("lucide",n),...!o&&!at(i)&&{"aria-hidden":"true"},...i},[...l.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(o)?o:[o]])),ot=(e,t)=>{const r=(0,s.forwardRef)(({className:r,...a},n)=>{return(0,s.createElement)(st,{ref:n,iconNode:t,className:rt(`lucide-${o=tt(e),o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,r),...a});var o});return r.displayName=tt(e),r},lt=ot("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),it=ot("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),ct=ot("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),dt=ot("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),ut=ot("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function pt(e){var t,r,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(r=pt(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function ht(){for(var e,t,r=0,a="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=pt(e))&&(a&&(a+=" "),a+=t);return a}const mt=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),bt="-",gt=[],xt=e=>{const t=vt(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:e=>{if(e.startsWith("[")&&e.endsWith("]"))return yt(e);const r=e.split(bt),a=""===r[0]&&r.length>1?1:0;return ft(r,a,t)},getConflictingClassGroupIds:(e,t)=>{if(t){const t=a[e],n=r[e];return t?n?((e,t)=>{const r=new Array(e.length+t.length);for(let t=0;t<e.length;t++)r[t]=e[t];for(let a=0;a<t.length;a++)r[e.length+a]=t[a];return r})(n,t):t:n||gt}return r[e]||gt}}},ft=(e,t,r)=>{if(0===e.length-t)return r.classGroupId;const a=e[t],n=r.nextPart.get(a);if(n){const r=ft(e,t+1,n);if(r)return r}const s=r.validators;if(null===s)return;const o=0===t?e.join(bt):e.slice(t).join(bt),l=s.length;for(let e=0;e<l;e++){const t=s[e];if(t.validator(o))return t.classGroupId}},yt=e=>-1===e.slice(1,-1).indexOf(":")?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),a=t.slice(0,r);return a?"arbitrary.."+a:void 0})(),vt=e=>{const{theme:t,classGroups:r}=e;return wt(r,t)},wt=(e,t)=>{const r=mt();for(const a in e){const n=e[a];jt(n,r,a,t)}return r},jt=(e,t,r,a)=>{const n=e.length;for(let s=0;s<n;s++){const n=e[s];Nt(n,t,r,a)}},Nt=(e,t,r,a)=>{"string"!=typeof e?"function"!=typeof e?Ct(e,t,r,a):kt(e,t,r,a):_t(e,t,r)},_t=(e,t,r)=>{(""===e?t:St(t,e)).classGroupId=r},kt=(e,t,r,a)=>{Et(e)?jt(e(a),t,r,a):(null===t.validators&&(t.validators=[]),t.validators.push(((e,t)=>({classGroupId:e,validator:t}))(r,e)))},Ct=(e,t,r,a)=>{const n=Object.entries(e),s=n.length;for(let e=0;e<s;e++){const[s,o]=n[e];jt(o,St(t,s),r,a)}},St=(e,t)=>{let r=e;const a=t.split(bt),n=a.length;for(let e=0;e<n;e++){const t=a[e];let n=r.nextPart.get(t);n||(n=mt(),r.nextPart.set(t,n)),r=n}return r},Et=e=>"isThemeGetter"in e&&!0===e.isThemeGetter,Rt=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),a=Object.create(null);const n=(n,s)=>{r[n]=s,t++,t>e&&(t=0,a=r,r=Object.create(null))};return{get(e){let t=r[e];return void 0!==t?t:void 0!==(t=a[e])?(n(e,t),t):void 0},set(e,t){e in r?r[e]=t:n(e,t)}}},Dt=[],Tt=(e,t,r,a,n)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:a,isExternal:n}),Mt=e=>{const{prefix:t,experimentalParseClassName:r}=e;let a=e=>{const t=[];let r,a=0,n=0,s=0;const o=e.length;for(let l=0;l<o;l++){const o=e[l];if(0===a&&0===n){if(":"===o){t.push(e.slice(s,l)),s=l+1;continue}if("/"===o){r=l;continue}}"["===o?a++:"]"===o?a--:"("===o?n++:")"===o&&n--}const l=0===t.length?e:e.slice(s);let i=l,c=!1;return l.endsWith("!")?(i=l.slice(0,-1),c=!0):l.startsWith("!")&&(i=l.slice(1),c=!0),Tt(t,c,i,r&&r>s?r-s:void 0)};if(t){const e=t+":",r=a;a=t=>t.startsWith(e)?r(t.slice(e.length)):Tt(Dt,!1,t,void 0,!0)}if(r){const e=a;a=t=>r({className:t,parseClassName:e})}return a},At=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((e,r)=>{t.set(e,1e6+r)}),e=>{const r=[];let a=[];for(let n=0;n<e.length;n++){const s=e[n],o="["===s[0],l=t.has(s);o||l?(a.length>0&&(a.sort(),r.push(...a),a=[]),r.push(s)):a.push(s)}return a.length>0&&(a.sort(),r.push(...a)),r}},zt=/\s+/,Lt=e=>{if("string"==typeof e)return e;let t,r="";for(let a=0;a<e.length;a++)e[a]&&(t=Lt(e[a]))&&(r&&(r+=" "),r+=t);return r},Pt=[],It=e=>{const t=t=>t[e]||Pt;return t.isThemeGetter=!0,t},Bt=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,$t=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Ot=/^\d+\/\d+$/,Ft=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ht=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Wt=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,qt=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ut=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Vt=e=>Ot.test(e),Kt=e=>!!e&&!Number.isNaN(Number(e)),Yt=e=>!!e&&Number.isInteger(Number(e)),Jt=e=>e.endsWith("%")&&Kt(e.slice(0,-1)),Gt=e=>Ft.test(e),Xt=()=>!0,Qt=e=>Ht.test(e)&&!Wt.test(e),Zt=()=>!1,er=e=>qt.test(e),tr=e=>Ut.test(e),rr=e=>!nr(e)&&!dr(e),ar=e=>xr(e,wr,Zt),nr=e=>Bt.test(e),sr=e=>xr(e,jr,Qt),or=e=>xr(e,Nr,Kt),lr=e=>xr(e,yr,Zt),ir=e=>xr(e,vr,tr),cr=e=>xr(e,kr,er),dr=e=>$t.test(e),ur=e=>fr(e,jr),pr=e=>fr(e,_r),hr=e=>fr(e,yr),mr=e=>fr(e,wr),br=e=>fr(e,vr),gr=e=>fr(e,kr,!0),xr=(e,t,r)=>{const a=Bt.exec(e);return!!a&&(a[1]?t(a[1]):r(a[2]))},fr=(e,t,r=!1)=>{const a=$t.exec(e);return!!a&&(a[1]?t(a[1]):r)},yr=e=>"position"===e||"percentage"===e,vr=e=>"image"===e||"url"===e,wr=e=>"length"===e||"size"===e||"bg-size"===e,jr=e=>"length"===e,Nr=e=>"number"===e,_r=e=>"family-name"===e,kr=e=>"shadow"===e,Cr=((e,...t)=>{let r,a,n,s;const o=e=>{const t=a(e);if(t)return t;const s=((e,t)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:n,sortModifiers:s}=t,o=[],l=e.trim().split(zt);let i="";for(let e=l.length-1;e>=0;e-=1){const t=l[e],{isExternal:c,modifiers:d,hasImportantModifier:u,baseClassName:p,maybePostfixModifierPosition:h}=r(t);if(c){i=t+(i.length>0?" "+i:i);continue}let m=!!h,b=a(m?p.substring(0,h):p);if(!b){if(!m){i=t+(i.length>0?" "+i:i);continue}if(b=a(p),!b){i=t+(i.length>0?" "+i:i);continue}m=!1}const g=0===d.length?"":1===d.length?d[0]:s(d).join(":"),x=u?g+"!":g,f=x+b;if(o.indexOf(f)>-1)continue;o.push(f);const y=n(b,m);for(let e=0;e<y.length;++e){const t=y[e];o.push(x+t)}i=t+(i.length>0?" "+i:i)}return i})(e,r);return n(e,s),s};return s=l=>{const i=t.reduce((e,t)=>t(e),e());return r=(e=>({cache:Rt(e.cacheSize),parseClassName:Mt(e),sortModifiers:At(e),...xt(e)}))(i),a=r.cache.get,n=r.cache.set,s=o,o(l)},(...e)=>s(((...e)=>{let t,r,a=0,n="";for(;a<e.length;)(t=e[a++])&&(r=Lt(t))&&(n&&(n+=" "),n+=r);return n})(...e))})((Symbol.toStringTag,()=>{const e=It("color"),t=It("font"),r=It("text"),a=It("font-weight"),n=It("tracking"),s=It("leading"),o=It("breakpoint"),l=It("container"),i=It("spacing"),c=It("radius"),d=It("shadow"),u=It("inset-shadow"),p=It("text-shadow"),h=It("drop-shadow"),m=It("blur"),b=It("perspective"),g=It("aspect"),x=It("ease"),f=It("animate"),y=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",dr,nr],v=()=>[dr,nr,i],w=()=>[Vt,"full","auto",...v()],j=()=>[Yt,"none","subgrid",dr,nr],N=()=>["auto",{span:["full",Yt,dr,nr]},Yt,dr,nr],_=()=>[Yt,"auto",dr,nr],k=()=>["auto","min","max","fr",dr,nr],C=()=>["auto",...v()],S=()=>[Vt,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...v()],E=()=>[e,dr,nr],R=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",hr,lr,{position:[dr,nr]}],D=()=>["auto","cover","contain",mr,ar,{size:[dr,nr]}],T=()=>[Jt,ur,sr],M=()=>["","none","full",c,dr,nr],A=()=>["",Kt,ur,sr],z=()=>[Kt,Jt,hr,lr],L=()=>["","none",m,dr,nr],P=()=>["none",Kt,dr,nr],I=()=>["none",Kt,dr,nr],B=()=>[Kt,dr,nr],$=()=>[Vt,"full",...v()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Gt],breakpoint:[Gt],color:[Xt],container:[Gt],"drop-shadow":[Gt],ease:["in","out","in-out"],font:[rr],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Gt],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Gt],shadow:[Gt],spacing:["px",Kt],text:[Gt],"text-shadow":[Gt],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Vt,nr,dr,g]}],container:["container"],columns:[{columns:[Kt,nr,dr,l]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:y()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:w()}],"inset-x":[{"inset-x":w()}],"inset-y":[{"inset-y":w()}],start:[{start:w()}],end:[{end:w()}],top:[{top:w()}],right:[{right:w()}],bottom:[{bottom:w()}],left:[{left:w()}],visibility:["visible","invisible","collapse"],z:[{z:[Yt,"auto",dr,nr]}],basis:[{basis:[Vt,"full","auto",l,...v()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Kt,Vt,"auto","initial","none",nr]}],grow:[{grow:["",Kt,dr,nr]}],shrink:[{shrink:["",Kt,dr,nr]}],order:[{order:[Yt,"first","last","none",dr,nr]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:N()}],"col-start":[{"col-start":_()}],"col-end":[{"col-end":_()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:N()}],"row-start":[{"row-start":_()}],"row-end":[{"row-end":_()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":k()}],"auto-rows":[{"auto-rows":k()}],gap:[{gap:v()}],"gap-x":[{"gap-x":v()}],"gap-y":[{"gap-y":v()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:v()}],px:[{px:v()}],py:[{py:v()}],ps:[{ps:v()}],pe:[{pe:v()}],pt:[{pt:v()}],pr:[{pr:v()}],pb:[{pb:v()}],pl:[{pl:v()}],m:[{m:C()}],mx:[{mx:C()}],my:[{my:C()}],ms:[{ms:C()}],me:[{me:C()}],mt:[{mt:C()}],mr:[{mr:C()}],mb:[{mb:C()}],ml:[{ml:C()}],"space-x":[{"space-x":v()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":v()}],"space-y-reverse":["space-y-reverse"],size:[{size:S()}],w:[{w:[l,"screen",...S()]}],"min-w":[{"min-w":[l,"screen","none",...S()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...S()]}],h:[{h:["screen","lh",...S()]}],"min-h":[{"min-h":["screen","lh","none",...S()]}],"max-h":[{"max-h":["screen","lh",...S()]}],"font-size":[{text:["base",r,ur,sr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,dr,or]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Jt,nr]}],"font-family":[{font:[pr,nr,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[n,dr,nr]}],"line-clamp":[{"line-clamp":[Kt,"none",dr,or]}],leading:[{leading:[s,...v()]}],"list-image":[{"list-image":["none",dr,nr]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",dr,nr]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:E()}],"text-color":[{text:E()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[Kt,"from-font","auto",dr,sr]}],"text-decoration-color":[{decoration:E()}],"underline-offset":[{"underline-offset":[Kt,"auto",dr,nr]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:v()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",dr,nr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",dr,nr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:R()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:D()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Yt,dr,nr],radial:["",dr,nr],conic:[Yt,dr,nr]},br,ir]}],"bg-color":[{bg:E()}],"gradient-from-pos":[{from:T()}],"gradient-via-pos":[{via:T()}],"gradient-to-pos":[{to:T()}],"gradient-from":[{from:E()}],"gradient-via":[{via:E()}],"gradient-to":[{to:E()}],rounded:[{rounded:M()}],"rounded-s":[{"rounded-s":M()}],"rounded-e":[{"rounded-e":M()}],"rounded-t":[{"rounded-t":M()}],"rounded-r":[{"rounded-r":M()}],"rounded-b":[{"rounded-b":M()}],"rounded-l":[{"rounded-l":M()}],"rounded-ss":[{"rounded-ss":M()}],"rounded-se":[{"rounded-se":M()}],"rounded-ee":[{"rounded-ee":M()}],"rounded-es":[{"rounded-es":M()}],"rounded-tl":[{"rounded-tl":M()}],"rounded-tr":[{"rounded-tr":M()}],"rounded-br":[{"rounded-br":M()}],"rounded-bl":[{"rounded-bl":M()}],"border-w":[{border:A()}],"border-w-x":[{"border-x":A()}],"border-w-y":[{"border-y":A()}],"border-w-s":[{"border-s":A()}],"border-w-e":[{"border-e":A()}],"border-w-t":[{"border-t":A()}],"border-w-r":[{"border-r":A()}],"border-w-b":[{"border-b":A()}],"border-w-l":[{"border-l":A()}],"divide-x":[{"divide-x":A()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":A()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:E()}],"border-color-x":[{"border-x":E()}],"border-color-y":[{"border-y":E()}],"border-color-s":[{"border-s":E()}],"border-color-e":[{"border-e":E()}],"border-color-t":[{"border-t":E()}],"border-color-r":[{"border-r":E()}],"border-color-b":[{"border-b":E()}],"border-color-l":[{"border-l":E()}],"divide-color":[{divide:E()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[Kt,dr,nr]}],"outline-w":[{outline:["",Kt,ur,sr]}],"outline-color":[{outline:E()}],shadow:[{shadow:["","none",d,gr,cr]}],"shadow-color":[{shadow:E()}],"inset-shadow":[{"inset-shadow":["none",u,gr,cr]}],"inset-shadow-color":[{"inset-shadow":E()}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:E()}],"ring-offset-w":[{"ring-offset":[Kt,sr]}],"ring-offset-color":[{"ring-offset":E()}],"inset-ring-w":[{"inset-ring":A()}],"inset-ring-color":[{"inset-ring":E()}],"text-shadow":[{"text-shadow":["none",p,gr,cr]}],"text-shadow-color":[{"text-shadow":E()}],opacity:[{opacity:[Kt,dr,nr]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Kt]}],"mask-image-linear-from-pos":[{"mask-linear-from":z()}],"mask-image-linear-to-pos":[{"mask-linear-to":z()}],"mask-image-linear-from-color":[{"mask-linear-from":E()}],"mask-image-linear-to-color":[{"mask-linear-to":E()}],"mask-image-t-from-pos":[{"mask-t-from":z()}],"mask-image-t-to-pos":[{"mask-t-to":z()}],"mask-image-t-from-color":[{"mask-t-from":E()}],"mask-image-t-to-color":[{"mask-t-to":E()}],"mask-image-r-from-pos":[{"mask-r-from":z()}],"mask-image-r-to-pos":[{"mask-r-to":z()}],"mask-image-r-from-color":[{"mask-r-from":E()}],"mask-image-r-to-color":[{"mask-r-to":E()}],"mask-image-b-from-pos":[{"mask-b-from":z()}],"mask-image-b-to-pos":[{"mask-b-to":z()}],"mask-image-b-from-color":[{"mask-b-from":E()}],"mask-image-b-to-color":[{"mask-b-to":E()}],"mask-image-l-from-pos":[{"mask-l-from":z()}],"mask-image-l-to-pos":[{"mask-l-to":z()}],"mask-image-l-from-color":[{"mask-l-from":E()}],"mask-image-l-to-color":[{"mask-l-to":E()}],"mask-image-x-from-pos":[{"mask-x-from":z()}],"mask-image-x-to-pos":[{"mask-x-to":z()}],"mask-image-x-from-color":[{"mask-x-from":E()}],"mask-image-x-to-color":[{"mask-x-to":E()}],"mask-image-y-from-pos":[{"mask-y-from":z()}],"mask-image-y-to-pos":[{"mask-y-to":z()}],"mask-image-y-from-color":[{"mask-y-from":E()}],"mask-image-y-to-color":[{"mask-y-to":E()}],"mask-image-radial":[{"mask-radial":[dr,nr]}],"mask-image-radial-from-pos":[{"mask-radial-from":z()}],"mask-image-radial-to-pos":[{"mask-radial-to":z()}],"mask-image-radial-from-color":[{"mask-radial-from":E()}],"mask-image-radial-to-color":[{"mask-radial-to":E()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[Kt]}],"mask-image-conic-from-pos":[{"mask-conic-from":z()}],"mask-image-conic-to-pos":[{"mask-conic-to":z()}],"mask-image-conic-from-color":[{"mask-conic-from":E()}],"mask-image-conic-to-color":[{"mask-conic-to":E()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:R()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:D()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",dr,nr]}],filter:[{filter:["","none",dr,nr]}],blur:[{blur:L()}],brightness:[{brightness:[Kt,dr,nr]}],contrast:[{contrast:[Kt,dr,nr]}],"drop-shadow":[{"drop-shadow":["","none",h,gr,cr]}],"drop-shadow-color":[{"drop-shadow":E()}],grayscale:[{grayscale:["",Kt,dr,nr]}],"hue-rotate":[{"hue-rotate":[Kt,dr,nr]}],invert:[{invert:["",Kt,dr,nr]}],saturate:[{saturate:[Kt,dr,nr]}],sepia:[{sepia:["",Kt,dr,nr]}],"backdrop-filter":[{"backdrop-filter":["","none",dr,nr]}],"backdrop-blur":[{"backdrop-blur":L()}],"backdrop-brightness":[{"backdrop-brightness":[Kt,dr,nr]}],"backdrop-contrast":[{"backdrop-contrast":[Kt,dr,nr]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Kt,dr,nr]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Kt,dr,nr]}],"backdrop-invert":[{"backdrop-invert":["",Kt,dr,nr]}],"backdrop-opacity":[{"backdrop-opacity":[Kt,dr,nr]}],"backdrop-saturate":[{"backdrop-saturate":[Kt,dr,nr]}],"backdrop-sepia":[{"backdrop-sepia":["",Kt,dr,nr]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":v()}],"border-spacing-x":[{"border-spacing-x":v()}],"border-spacing-y":[{"border-spacing-y":v()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",dr,nr]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Kt,"initial",dr,nr]}],ease:[{ease:["linear","initial",x,dr,nr]}],delay:[{delay:[Kt,dr,nr]}],animate:[{animate:["none",f,dr,nr]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,dr,nr]}],"perspective-origin":[{"perspective-origin":y()}],rotate:[{rotate:P()}],"rotate-x":[{"rotate-x":P()}],"rotate-y":[{"rotate-y":P()}],"rotate-z":[{"rotate-z":P()}],scale:[{scale:I()}],"scale-x":[{"scale-x":I()}],"scale-y":[{"scale-y":I()}],"scale-z":[{"scale-z":I()}],"scale-3d":["scale-3d"],skew:[{skew:B()}],"skew-x":[{"skew-x":B()}],"skew-y":[{"skew-y":B()}],transform:[{transform:[dr,nr,"","none","gpu","cpu"]}],"transform-origin":[{origin:y()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:$()}],"translate-x":[{"translate-x":$()}],"translate-y":[{"translate-y":$()}],"translate-z":[{"translate-z":$()}],"translate-none":["translate-none"],accent:[{accent:E()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:E()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",dr,nr]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":v()}],"scroll-mx":[{"scroll-mx":v()}],"scroll-my":[{"scroll-my":v()}],"scroll-ms":[{"scroll-ms":v()}],"scroll-me":[{"scroll-me":v()}],"scroll-mt":[{"scroll-mt":v()}],"scroll-mr":[{"scroll-mr":v()}],"scroll-mb":[{"scroll-mb":v()}],"scroll-ml":[{"scroll-ml":v()}],"scroll-p":[{"scroll-p":v()}],"scroll-px":[{"scroll-px":v()}],"scroll-py":[{"scroll-py":v()}],"scroll-ps":[{"scroll-ps":v()}],"scroll-pe":[{"scroll-pe":v()}],"scroll-pt":[{"scroll-pt":v()}],"scroll-pr":[{"scroll-pr":v()}],"scroll-pb":[{"scroll-pb":v()}],"scroll-pl":[{"scroll-pl":v()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",dr,nr]}],fill:[{fill:["none",...E()]}],"stroke-w":[{stroke:[Kt,ur,sr,or]}],stroke:[{stroke:["none",...E()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}}));function Sr(...e){return Cr(ht(e))}const Er={success:(0,Xe.jsx)(lt,{className:"w-5 h-5 text-green-500"}),error:(0,Xe.jsx)(it,{className:"w-5 h-5 text-red-500"}),info:(0,Xe.jsx)(ct,{className:"w-5 h-5 text-blue-500"}),warning:(0,Xe.jsx)(dt,{className:"w-5 h-5 text-amber-500"})},Rr=({id:e,title:t,description:r,type:a="info",duration:n=5e3,onDismiss:o})=>((0,s.useEffect)(()=>{if(n>0){const t=setTimeout(()=>{o(e)},n);return()=>clearTimeout(t)}},[e,n,o]),(0,Xe.jsxs)("div",{className:Sr("flex items-start gap-3 p-4 bg-white rounded-lg shadow-lg border border-gray-200 min-w-[320px] max-w-sm transition-all animate-in slide-in-from-right-full duration-300 relative pointer-events-auto"),role:"alert",children:[(0,Xe.jsx)("div",{className:Sr("flex-shrink-0 p-1 rounded-full"),children:Er[a]}),(0,Xe.jsxs)("div",{className:"flex-1 mt-0.5",children:[(0,Xe.jsx)("h3",{className:"text-sm font-semibold text-gray-900 m-0",children:t}),r&&(0,Xe.jsx)("p",{className:"mb-0 mt-1 text-sm text-gray-500 leading-relaxed",children:r})]}),(0,Xe.jsx)("button",{onClick:()=>o(e),className:"flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors bg-transparent","aria-label":"Close",children:(0,Xe.jsx)(ut,{size:18})})]})),Dr=()=>{const{toasts:e,dismiss:t}=et();return(0,Xe.jsx)("div",{className:"fixed bottom-4 right-4 z-[99999] flex flex-col-reverse gap-3 pointer-events-none",children:e.map(e=>(0,Xe.jsx)(Rr,{id:e.id,title:e.title,description:e.description,type:e.type,duration:e.duration,onDismiss:t},e.id))})},Tr=window.wp.i18n,Mr=ot("wand-sparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),Ar=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,zr=ht,Lr=(e,t)=>r=>{var a;if(null==(null==t?void 0:t.variants))return zr(e,null==r?void 0:r.class,null==r?void 0:r.className);const{variants:n,defaultVariants:s}=t,o=Object.keys(n).map(e=>{const t=null==r?void 0:r[e],a=null==s?void 0:s[e];if(null===t)return null;const o=Ar(t)||Ar(a);return n[e][o]}),l=r&&Object.entries(r).reduce((e,t)=>{let[r,a]=t;return void 0===a||(e[r]=a),e},{}),i=null==t||null===(a=t.compoundVariants)||void 0===a?void 0:a.reduce((e,t)=>{let{class:r,className:a,...n}=t;return Object.entries(n).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...s,...l}[t]):{...s,...l}[t]===r})?[...e,r,a]:e},[]);return zr(e,o,i,null==r?void 0:r.class,null==r?void 0:r.className)},Pr=Lr("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 active:scale-95 transition-transform duration-100",{variants:{variant:{default:"bg-blue-600 text-white hover:bg-blue-700 shadow-sm",destructive:"bg-red-500 text-white hover:bg-red-600 shadow-sm",outline:"border border-gray-200 bg-white hover:bg-gray-100 hover:text-gray-900",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200/80",ghost:"hover:bg-gray-100 hover:text-gray-900",link:"text-blue-600 underline-offset-4 hover:underline",success:"bg-green-600 text-white hover:bg-green-700 shadow-sm"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",xs:"h-7 rounded px-2 text-xs",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ir=s.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...n},s)=>(0,Xe.jsx)("button",{className:Sr(Pr({variant:t,size:r,className:e})),ref:s,...n}));Ir.displayName="Button";const Br=({className:e,...t})=>(0,Xe.jsx)("div",{"data-slot":"skeleton",className:Sr("bg-gray-200 rounded-md animate-pulse",e),...t});var $r=n(511),Or=n(512);const Fr=(0,$r.v)((e,t)=>({status:null,loading:!1,error:null,fetchStatus:async()=>{t().status||e({loading:!0});try{const t=await(0,Or.n)("system/status");e({status:t,loading:!1,error:null})}catch(t){e({error:t.message,loading:!1})}}})),Hr=ot("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),Wr=ot("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),qr=ot("sheet",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"9",y2:"21",key:"1ib60c"}],["line",{x1:"15",x2:"15",y1:"9",y2:"21",key:"1n26ft"}]]),Ur=ot("circle-play",[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Vr=ot("life-buoy",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]),Kr=window.ReactDOM,Yr="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function Jr(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function Gr(e){return"nodeType"in e}function Xr(e){var t,r;return e?Jr(e)?e:Gr(e)&&null!=(t=null==(r=e.ownerDocument)?void 0:r.defaultView)?t:window:window}function Qr(e){const{Document:t}=Xr(e);return e instanceof t}function Zr(e){return!Jr(e)&&e instanceof Xr(e).HTMLElement}function ea(e){return e instanceof Xr(e).SVGElement}function ta(e){return e?Jr(e)?e.document:Gr(e)?Qr(e)?e:Zr(e)||ea(e)?e.ownerDocument:document:document:document}const ra=Yr?s.useLayoutEffect:s.useEffect;function aa(e){const t=(0,s.useRef)(e);return ra(()=>{t.current=e}),(0,s.useCallback)(function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return null==t.current?void 0:t.current(...r)},[])}function na(e,t){void 0===t&&(t=[e]);const r=(0,s.useRef)(e);return ra(()=>{r.current!==e&&(r.current=e)},t),r}function sa(e,t){const r=(0,s.useRef)();return(0,s.useMemo)(()=>{const t=e(r.current);return r.current=t,t},[...t])}function oa(e){const t=aa(e),r=(0,s.useRef)(null),a=(0,s.useCallback)(e=>{e!==r.current&&(null==t||t(e,r.current)),r.current=e},[]);return[r,a]}function la(e){const t=(0,s.useRef)();return(0,s.useEffect)(()=>{t.current=e},[e]),t.current}let ia={};function ca(e,t){return(0,s.useMemo)(()=>{if(t)return t;const r=null==ia[e]?0:ia[e]+1;return ia[e]=r,e+"-"+r},[e,t])}function da(e){return function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];return a.reduce((t,r)=>{const a=Object.entries(r);for(const[r,n]of a){const a=t[r];null!=a&&(t[r]=a+e*n)}return t},{...t})}}const ua=da(1),pa=da(-1);function ha(e){if(!e)return!1;const{KeyboardEvent:t}=Xr(e.target);return t&&e instanceof t}function ma(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=Xr(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const ba=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[ba.Translate.toString(e),ba.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:a}=e;return t+" "+r+"ms "+a}}}),ga="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function xa(e){return e.matches(ga)?e:e.querySelector(ga)}const fa={display:"none"};function ya(e){let{id:t,value:r}=e;return l().createElement("div",{id:t,style:fa},r)}function va(e){let{id:t,announcement:r,ariaLiveType:a="assertive"}=e;return l().createElement("div",{id:t,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":a,"aria-atomic":!0},r)}const wa=(0,s.createContext)(null),ja={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},Na={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function _a(e){let{announcements:t=Na,container:r,hiddenTextDescribedById:a,screenReaderInstructions:n=ja}=e;const{announce:o,announcement:i}=function(){const[e,t]=(0,s.useState)("");return{announce:(0,s.useCallback)(e=>{null!=e&&t(e)},[]),announcement:e}}(),c=ca("DndLiveRegion"),[d,u]=(0,s.useState)(!1);if((0,s.useEffect)(()=>{u(!0)},[]),function(e){const t=(0,s.useContext)(wa);(0,s.useEffect)(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}((0,s.useMemo)(()=>({onDragStart(e){let{active:r}=e;o(t.onDragStart({active:r}))},onDragMove(e){let{active:r,over:a}=e;t.onDragMove&&o(t.onDragMove({active:r,over:a}))},onDragOver(e){let{active:r,over:a}=e;o(t.onDragOver({active:r,over:a}))},onDragEnd(e){let{active:r,over:a}=e;o(t.onDragEnd({active:r,over:a}))},onDragCancel(e){let{active:r,over:a}=e;o(t.onDragCancel({active:r,over:a}))}}),[o,t])),!d)return null;const p=l().createElement(l().Fragment,null,l().createElement(ya,{id:a,value:n.draggable}),l().createElement(va,{id:c,announcement:i}));return r?(0,Kr.createPortal)(p,r):p}var ka,Ca;function Sa(){}function Ea(e,t){return(0,s.useMemo)(()=>({sensor:e,options:null!=t?t:{}}),[e,t])}(Ca=ka||(ka={})).DragStart="dragStart",Ca.DragMove="dragMove",Ca.DragEnd="dragEnd",Ca.DragCancel="dragCancel",Ca.DragOver="dragOver",Ca.RegisterDroppable="registerDroppable",Ca.SetDroppableDisabled="setDroppableDisabled",Ca.UnregisterDroppable="unregisterDroppable";const Ra=Object.freeze({x:0,y:0});function Da(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Ta(e,t){let{data:{value:r}}=e,{data:{value:a}}=t;return r-a}function Ma(e,t){let{data:{value:r}}=e,{data:{value:a}}=t;return a-r}function Aa(e){let{left:t,top:r,height:a,width:n}=e;return[{x:t,y:r},{x:t+n,y:r},{x:t,y:r+a},{x:t+n,y:r+a}]}function za(e,t){if(!e||0===e.length)return null;const[r]=e;return t?r[t]:r}function La(e,t,r){return void 0===t&&(t=e.left),void 0===r&&(r=e.top),{x:t+.5*e.width,y:r+.5*e.height}}const Pa=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:a}=e;const n=La(t,t.left,t.top),s=[];for(const e of a){const{id:t}=e,a=r.get(t);if(a){const r=Da(La(a),n);s.push({id:t,data:{droppableContainer:e,value:r}})}}return s.sort(Ta)};function Ia(e,t){const r=Math.max(t.top,e.top),a=Math.max(t.left,e.left),n=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),o=n-a,l=s-r;if(a<n&&r<s){const r=t.width*t.height,a=e.width*e.height,n=o*l;return Number((n/(r+a-n)).toFixed(4))}return 0}const Ba=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:a}=e;const n=[];for(const e of a){const{id:a}=e,s=r.get(a);if(s){const r=Ia(s,t);r>0&&n.push({id:a,data:{droppableContainer:e,value:r}})}}return n.sort(Ma)};function $a(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Ra}function Oa(e){return function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];return a.reduce((t,r)=>({...t,top:t.top+e*r.y,bottom:t.bottom+e*r.y,left:t.left+e*r.x,right:t.right+e*r.x}),{...t})}}const Fa=Oa(1);const Ha={ignoreTransform:!1};function Wa(e,t){void 0===t&&(t=Ha);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:a}=Xr(e).getComputedStyle(e);t&&(r=function(e,t,r){const a=function(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}(t);if(!a)return e;const{scaleX:n,scaleY:s,x:o,y:l}=a,i=e.left-o-(1-n)*parseFloat(r),c=e.top-l-(1-s)*parseFloat(r.slice(r.indexOf(" ")+1)),d=n?e.width/n:e.width,u=s?e.height/s:e.height;return{width:d,height:u,top:c,right:i+d,bottom:c+u,left:i}}(r,t,a))}const{top:a,left:n,width:s,height:o,bottom:l,right:i}=r;return{top:a,left:n,width:s,height:o,bottom:l,right:i}}function qa(e){return Wa(e,{ignoreTransform:!0})}function Ua(e,t){const r=[];return e?function a(n){if(null!=t&&r.length>=t)return r;if(!n)return r;if(Qr(n)&&null!=n.scrollingElement&&!r.includes(n.scrollingElement))return r.push(n.scrollingElement),r;if(!Zr(n)||ea(n))return r;if(r.includes(n))return r;const s=Xr(e).getComputedStyle(n);return n!==e&&function(e,t){void 0===t&&(t=Xr(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(e=>{const a=t[e];return"string"==typeof a&&r.test(a)})}(n,s)&&r.push(n),function(e,t){return void 0===t&&(t=Xr(e).getComputedStyle(e)),"fixed"===t.position}(n,s)?r:a(n.parentNode)}(e):r}function Va(e){const[t]=Ua(e,1);return null!=t?t:null}function Ka(e){return Yr&&e?Jr(e)?e:Gr(e)?Qr(e)||e===ta(e).scrollingElement?window:Zr(e)?e:null:null:null}function Ya(e){return Jr(e)?e.scrollX:e.scrollLeft}function Ja(e){return Jr(e)?e.scrollY:e.scrollTop}function Ga(e){return{x:Ya(e),y:Ja(e)}}var Xa;function Qa(e){return!(!Yr||!e)&&e===document.scrollingElement}function Za(e){const t={x:0,y:0},r=Qa(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},a={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=a.y,isRight:e.scrollLeft>=a.x,maxScroll:a,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(Xa||(Xa={}));const en={x:.2,y:.2};function tn(e,t,r,a,n){let{top:s,left:o,right:l,bottom:i}=r;void 0===a&&(a=10),void 0===n&&(n=en);const{isTop:c,isBottom:d,isLeft:u,isRight:p}=Za(e),h={x:0,y:0},m={x:0,y:0},b=t.height*n.y,g=t.width*n.x;return!c&&s<=t.top+b?(h.y=Xa.Backward,m.y=a*Math.abs((t.top+b-s)/b)):!d&&i>=t.bottom-b&&(h.y=Xa.Forward,m.y=a*Math.abs((t.bottom-b-i)/b)),!p&&l>=t.right-g?(h.x=Xa.Forward,m.x=a*Math.abs((t.right-g-l)/g)):!u&&o<=t.left+g&&(h.x=Xa.Backward,m.x=a*Math.abs((t.left+g-o)/g)),{direction:h,speed:m}}function rn(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:r,right:a,bottom:n}=e.getBoundingClientRect();return{top:t,left:r,right:a,bottom:n,width:e.clientWidth,height:e.clientHeight}}function an(e){return e.reduce((e,t)=>ua(e,Ga(t)),Ra)}const nn=[["x",["left","right"],function(e){return e.reduce((e,t)=>e+Ya(t),0)}],["y",["top","bottom"],function(e){return e.reduce((e,t)=>e+Ja(t),0)}]];class sn{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Ua(t),a=an(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[e,t,n]of nn)for(const s of t)Object.defineProperty(this,s,{get:()=>{const t=n(r),o=a[e]-t;return this.rect[s]+o},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class on{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)})},this.target=e}add(e,t,r){var a;null==(a=this.target)||a.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function ln(e,t){const r=Math.abs(e.x),a=Math.abs(e.y);return"number"==typeof t?Math.sqrt(r**2+a**2)>t:"x"in t&&"y"in t?r>t.x&&a>t.y:"x"in t?r>t.x:"y"in t&&a>t.y}var cn,dn;function un(e){e.preventDefault()}function pn(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(cn||(cn={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"}(dn||(dn={}));const hn={start:[dn.Space,dn.Enter],cancel:[dn.Esc],end:[dn.Space,dn.Enter,dn.Tab]},mn=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case dn.Right:return{...r,x:r.x+25};case dn.Left:return{...r,x:r.x-25};case dn.Down:return{...r,y:r.y+25};case dn.Up:return{...r,y:r.y-25}}};class bn{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new on(ta(t)),this.windowListeners=new on(Xr(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(cn.Resize,this.handleCancel),this.windowListeners.add(cn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(cn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&function(e,t){if(void 0===t&&(t=Wa),!e)return;const{top:r,left:a,bottom:n,right:s}=t(e);Va(e)&&(n<=0||s<=0||r>=window.innerHeight||a>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}(r),t(Ra)}handleKeyDown(e){if(ha(e)){const{active:t,context:r,options:a}=this.props,{keyboardCodes:n=hn,coordinateGetter:s=mn,scrollBehavior:o="smooth"}=a,{code:l}=e;if(n.end.includes(l))return void this.handleEnd(e);if(n.cancel.includes(l))return void this.handleCancel(e);const{collisionRect:i}=r.current,c=i?{x:i.left,y:i.top}:Ra;this.referenceCoordinates||(this.referenceCoordinates=c);const d=s(e,{active:t,context:r.current,currentCoordinates:c});if(d){const t=pa(d,c),a={x:0,y:0},{scrollableAncestors:n}=r.current;for(const r of n){const n=e.code,{isTop:s,isRight:l,isLeft:i,isBottom:c,maxScroll:u,minScroll:p}=Za(r),h=rn(r),m={x:Math.min(n===dn.Right?h.right-h.width/2:h.right,Math.max(n===dn.Right?h.left:h.left+h.width/2,d.x)),y:Math.min(n===dn.Down?h.bottom-h.height/2:h.bottom,Math.max(n===dn.Down?h.top:h.top+h.height/2,d.y))},b=n===dn.Right&&!l||n===dn.Left&&!i,g=n===dn.Down&&!c||n===dn.Up&&!s;if(b&&m.x!==d.x){const e=r.scrollLeft+t.x,s=n===dn.Right&&e<=u.x||n===dn.Left&&e>=p.x;if(s&&!t.y)return void r.scrollTo({left:e,behavior:o});a.x=s?r.scrollLeft-e:n===dn.Right?r.scrollLeft-u.x:r.scrollLeft-p.x,a.x&&r.scrollBy({left:-a.x,behavior:o});break}if(g&&m.y!==d.y){const e=r.scrollTop+t.y,s=n===dn.Down&&e<=u.y||n===dn.Up&&e>=p.y;if(s&&!t.x)return void r.scrollTo({top:e,behavior:o});a.y=s?r.scrollTop-e:n===dn.Down?r.scrollTop-u.y:r.scrollTop-p.y,a.y&&r.scrollBy({top:-a.y,behavior:o});break}}this.handleMove(e,ua(pa(d,this.referenceCoordinates),a))}}}handleMove(e,t){const{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function gn(e){return Boolean(e&&"distance"in e)}function xn(e){return Boolean(e&&"delay"in e)}bn.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:a=hn,onActivation:n}=t,{active:s}=r;const{code:o}=e.nativeEvent;if(a.start.includes(o)){const t=s.activatorNode.current;return!(t&&e.target!==t||(e.preventDefault(),null==n||n({event:e.nativeEvent}),0))}return!1}}];class fn{constructor(e,t,r){var a;void 0===r&&(r=function(e){const{EventTarget:t}=Xr(e);return e instanceof t?e:ta(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:n}=e,{target:s}=n;this.props=e,this.events=t,this.document=ta(s),this.documentListeners=new on(this.document),this.listeners=new on(r),this.windowListeners=new on(Xr(s)),this.initialCoordinates=null!=(a=ma(n))?a:Ra,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(cn.Resize,this.handleCancel),this.windowListeners.add(cn.DragStart,un),this.windowListeners.add(cn.VisibilityChange,this.handleCancel),this.windowListeners.add(cn.ContextMenu,un),this.documentListeners.add(cn.Keydown,this.handleKeydown),t){if(null!=r&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(xn(t))return this.timeoutId=setTimeout(this.handleStart,t.delay),void this.handlePending(t);if(gn(t))return void this.handlePending(t)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:r,onPending:a}=this.props;a(r,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(cn.Click,pn,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(cn.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:r,initialCoordinates:a,props:n}=this,{onMove:s,options:{activationConstraint:o}}=n;if(!a)return;const l=null!=(t=ma(e))?t:Ra,i=pa(a,l);if(!r&&o){if(gn(o)){if(null!=o.tolerance&&ln(i,o.tolerance))return this.handleCancel();if(ln(i,o.distance))return this.handleStart()}return xn(o)&&ln(i,o.tolerance)?this.handleCancel():void this.handlePending(o,i)}e.cancelable&&e.preventDefault(),s(l)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===dn.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const yn={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class vn extends fn{constructor(e){const{event:t}=e,r=ta(t.target);super(e,yn,r)}}vn.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:a}=t;return!(!r.isPrimary||0!==r.button||(null==a||a({event:r}),0))}}];const wn={move:{name:"mousemove"},end:{name:"mouseup"}};var jn;!function(e){e[e.RightClick=2]="RightClick"}(jn||(jn={})),class extends fn{constructor(e){super(e,wn,ta(e.event.target))}}.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:a}=t;return r.button!==jn.RightClick&&(null==a||a({event:r}),!0)}}];const Nn={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};var kn,Cn;(class extends fn{constructor(e){super(e,Nn)}static setup(){return window.addEventListener(Nn.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Nn.move.name,e)};function e(){}}}).activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:a}=t;const{touches:n}=r;return!(n.length>1||(null==a||a({event:r}),0))}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(kn||(kn={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(Cn||(Cn={}));const Sn={x:{[Xa.Backward]:!1,[Xa.Forward]:!1},y:{[Xa.Backward]:!1,[Xa.Forward]:!1}};var En,Rn;!function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(En||(En={})),function(e){e.Optimized="optimized"}(Rn||(Rn={}));const Dn=new Map;function Tn(e,t){return sa(r=>e?r||("function"==typeof t?t(e):e):null,[t,e])}function Mn(e){let{callback:t,disabled:r}=e;const a=aa(t),n=(0,s.useMemo)(()=>{if(r||"undefined"==typeof window||void 0===window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(a)},[r]);return(0,s.useEffect)(()=>()=>null==n?void 0:n.disconnect(),[n]),n}function An(e){return new sn(Wa(e),e)}function zn(e,t,r){void 0===t&&(t=An);const[a,n]=(0,s.useState)(null);function o(){n(a=>{if(!e)return null;var n;if(!1===e.isConnected)return null!=(n=null!=a?a:r)?n:null;const s=t(e);return JSON.stringify(a)===JSON.stringify(s)?a:s})}const l=function(e){let{callback:t,disabled:r}=e;const a=aa(t),n=(0,s.useMemo)(()=>{if(r||"undefined"==typeof window||void 0===window.MutationObserver)return;const{MutationObserver:e}=window;return new e(a)},[a,r]);return(0,s.useEffect)(()=>()=>null==n?void 0:n.disconnect(),[n]),n}({callback(t){if(e)for(const r of t){const{type:t,target:a}=r;if("childList"===t&&a instanceof HTMLElement&&a.contains(e)){o();break}}}}),i=Mn({callback:o});return ra(()=>{o(),e?(null==i||i.observe(e),null==l||l.observe(document.body,{childList:!0,subtree:!0})):(null==i||i.disconnect(),null==l||l.disconnect())},[e]),a}const Ln=[];function Pn(e,t){void 0===t&&(t=[]);const r=(0,s.useRef)(null);return(0,s.useEffect)(()=>{r.current=null},t),(0,s.useEffect)(()=>{const t=e!==Ra;t&&!r.current&&(r.current=e),!t&&r.current&&(r.current=null)},[e]),r.current?pa(e,r.current):Ra}function In(e){return(0,s.useMemo)(()=>e?function(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}(e):null,[e])}const Bn=[];const $n=[{sensor:vn,options:{}},{sensor:bn,options:{}}],On={current:{}},Fn={draggable:{measure:qa},droppable:{measure:qa,strategy:En.WhileDragging,frequency:Rn.Optimized},dragOverlay:{measure:Wa}};class Hn extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return null!=(t=null==(r=this.get(e))?void 0:r.node.current)?t:void 0}}const Wn={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Hn,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Sa},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Fn,measureDroppableContainers:Sa,windowRect:null,measuringScheduled:!1},qn={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Sa,draggableNodes:new Map,over:null,measureDroppableContainers:Sa},Un=(0,s.createContext)(qn),Vn=(0,s.createContext)(Wn);function Kn(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Hn}}}function Yn(e,t){switch(t.type){case ka.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case ka.DragMove:return null==e.draggable.active?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case ka.DragEnd:case ka.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ka.RegisterDroppable:{const{element:r}=t,{id:a}=r,n=new Hn(e.droppable.containers);return n.set(a,r),{...e,droppable:{...e.droppable,containers:n}}}case ka.SetDroppableDisabled:{const{id:r,key:a,disabled:n}=t,s=e.droppable.containers.get(r);if(!s||a!==s.key)return e;const o=new Hn(e.droppable.containers);return o.set(r,{...s,disabled:n}),{...e,droppable:{...e.droppable,containers:o}}}case ka.UnregisterDroppable:{const{id:r,key:a}=t,n=e.droppable.containers.get(r);if(!n||a!==n.key)return e;const s=new Hn(e.droppable.containers);return s.delete(r),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function Jn(e){let{disabled:t}=e;const{active:r,activatorEvent:a,draggableNodes:n}=(0,s.useContext)(Un),o=la(a),l=la(null==r?void 0:r.id);return(0,s.useEffect)(()=>{if(!t&&!a&&o&&null!=l){if(!ha(o))return;if(document.activeElement===o.target)return;const e=n.get(l);if(!e)return;const{activatorNode:t,node:r}=e;if(!t.current&&!r.current)return;requestAnimationFrame(()=>{for(const e of[t.current,r.current]){if(!e)continue;const t=xa(e);if(t){t.focus();break}}})}},[a,t,n,l,o]),null}const Gn=(0,s.createContext)({...Ra,scaleX:1,scaleY:1});var Xn;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(Xn||(Xn={}));const Qn=(0,s.memo)(function(e){var t,r,a,n;let{id:o,accessibility:i,autoScroll:c=!0,children:d,sensors:u=$n,collisionDetection:p=Ba,measuring:h,modifiers:m,...b}=e;const g=(0,s.useReducer)(Yn,void 0,Kn),[x,f]=g,[y,v]=function(){const[e]=(0,s.useState)(()=>new Set),t=(0,s.useCallback)(t=>(e.add(t),()=>e.delete(t)),[e]);return[(0,s.useCallback)(t=>{let{type:r,event:a}=t;e.forEach(e=>{var t;return null==(t=e[r])?void 0:t.call(e,a)})},[e]),t]}(),[w,j]=(0,s.useState)(Xn.Uninitialized),N=w===Xn.Initialized,{draggable:{active:_,nodes:k,translate:C},droppable:{containers:S}}=x,E=null!=_?k.get(_):null,R=(0,s.useRef)({initial:null,translated:null}),D=(0,s.useMemo)(()=>{var e;return null!=_?{id:_,data:null!=(e=null==E?void 0:E.data)?e:On,rect:R}:null},[_,E]),T=(0,s.useRef)(null),[M,A]=(0,s.useState)(null),[z,L]=(0,s.useState)(null),P=na(b,Object.values(b)),I=ca("DndDescribedBy",o),B=(0,s.useMemo)(()=>S.getEnabled(),[S]),$=(O=h,(0,s.useMemo)(()=>({draggable:{...Fn.draggable,...null==O?void 0:O.draggable},droppable:{...Fn.droppable,...null==O?void 0:O.droppable},dragOverlay:{...Fn.dragOverlay,...null==O?void 0:O.dragOverlay}}),[null==O?void 0:O.draggable,null==O?void 0:O.droppable,null==O?void 0:O.dragOverlay]));var O;const{droppableRects:F,measureDroppableContainers:H,measuringScheduled:W}=function(e,t){let{dragging:r,dependencies:a,config:n}=t;const[o,l]=(0,s.useState)(null),{frequency:i,measure:c,strategy:d}=n,u=(0,s.useRef)(e),p=function(){switch(d){case En.Always:return!1;case En.BeforeDragging:return r;default:return!r}}(),h=na(p),m=(0,s.useCallback)(function(e){void 0===e&&(e=[]),h.current||l(t=>null===t?e:t.concat(e.filter(e=>!t.includes(e))))},[h]),b=(0,s.useRef)(null),g=sa(t=>{if(p&&!r)return Dn;if(!t||t===Dn||u.current!==e||null!=o){const t=new Map;for(let r of e){if(!r)continue;if(o&&o.length>0&&!o.includes(r.id)&&r.rect.current){t.set(r.id,r.rect.current);continue}const e=r.node.current,a=e?new sn(c(e),e):null;r.rect.current=a,a&&t.set(r.id,a)}return t}return t},[e,o,r,p,c]);return(0,s.useEffect)(()=>{u.current=e},[e]),(0,s.useEffect)(()=>{p||m()},[r,p]),(0,s.useEffect)(()=>{o&&o.length>0&&l(null)},[JSON.stringify(o)]),(0,s.useEffect)(()=>{p||"number"!=typeof i||null!==b.current||(b.current=setTimeout(()=>{m(),b.current=null},i))},[i,p,m,...a]),{droppableRects:g,measureDroppableContainers:m,measuringScheduled:null!=o}}(B,{dragging:N,dependencies:[C.x,C.y],config:$.droppable}),q=function(e,t){const r=null!=t?e.get(t):void 0,a=r?r.node.current:null;return sa(e=>{var r;return null==t?null:null!=(r=null!=a?a:e)?r:null},[a,t])}(k,_),U=(0,s.useMemo)(()=>z?ma(z):null,[z]),V=function(){const e=!1===(null==M?void 0:M.autoScrollEnabled),t="object"==typeof c?!1===c.enabled:!1===c,r=N&&!e&&!t;return"object"==typeof c?{...c,enabled:r}:{enabled:r}}(),K=function(e,t){return Tn(e,t)}(q,$.draggable.measure);!function(e){let{activeNode:t,measure:r,initialRect:a,config:n=!0}=e;const o=(0,s.useRef)(!1),{x:l,y:i}="boolean"==typeof n?{x:n,y:n}:n;ra(()=>{if(!l&&!i||!t)return void(o.current=!1);if(o.current||!a)return;const e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;const n=$a(r(e),a);if(l||(n.x=0),i||(n.y=0),o.current=!0,Math.abs(n.x)>0||Math.abs(n.y)>0){const t=Va(e);t&&t.scrollBy({top:n.y,left:n.x})}},[t,l,i,a,r])}({activeNode:null!=_?k.get(_):null,config:V.layoutShiftCompensation,initialRect:K,measure:$.draggable.measure});const Y=zn(q,$.draggable.measure,K),J=zn(q?q.parentElement:null),G=(0,s.useRef)({activatorEvent:null,active:null,activeNode:q,collisionRect:null,collisions:null,droppableRects:F,draggableNodes:k,draggingNode:null,draggingNodeRect:null,droppableContainers:S,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),X=S.getNodeFor(null==(t=G.current.over)?void 0:t.id),Q=function(e){let{measure:t}=e;const[r,a]=(0,s.useState)(null),n=Mn({callback:(0,s.useCallback)(e=>{for(const{target:r}of e)if(Zr(r)){a(e=>{const a=t(r);return e?{...e,width:a.width,height:a.height}:a});break}},[t])}),o=(0,s.useCallback)(e=>{const r=function(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Zr(t)?t:e}(e);null==n||n.disconnect(),r&&(null==n||n.observe(r)),a(r?t(r):null)},[t,n]),[l,i]=oa(o);return(0,s.useMemo)(()=>({nodeRef:l,rect:r,setRef:i}),[r,l,i])}({measure:$.dragOverlay.measure}),Z=null!=(r=Q.nodeRef.current)?r:q,ee=N?null!=(a=Q.rect)?a:Y:null,te=Boolean(Q.nodeRef.current&&Q.rect),re=$a(ae=te?null:Y,Tn(ae));var ae;const ne=In(Z?Xr(Z):null),se=function(e){const t=(0,s.useRef)(e),r=sa(r=>e?r&&r!==Ln&&e&&t.current&&e.parentNode===t.current.parentNode?r:Ua(e):Ln,[e]);return(0,s.useEffect)(()=>{t.current=e},[e]),r}(N?null!=X?X:q:null),oe=function(e,t){void 0===t&&(t=Wa);const[r]=e,a=In(r?Xr(r):null),[n,o]=(0,s.useState)(Bn);function l(){o(()=>e.length?e.map(e=>Qa(e)?a:new sn(t(e),e)):Bn)}const i=Mn({callback:l});return ra(()=>{null==i||i.disconnect(),l(),e.forEach(e=>null==i?void 0:i.observe(e))},[e]),n}(se),le=function(e,t){let{transform:r,...a}=t;return null!=e&&e.length?e.reduce((e,t)=>t({transform:e,...a}),r):r}(m,{transform:{x:C.x-re.x,y:C.y-re.y,scaleX:1,scaleY:1},activatorEvent:z,active:D,activeNodeRect:Y,containerNodeRect:J,draggingNodeRect:ee,over:G.current.over,overlayNodeRect:Q.rect,scrollableAncestors:se,scrollableAncestorRects:oe,windowRect:ne}),ie=U?ua(U,C):null,ce=function(e){const[t,r]=(0,s.useState)(null),a=(0,s.useRef)(e),n=(0,s.useCallback)(e=>{const t=Ka(e.target);t&&r(e=>e?(e.set(t,Ga(t)),new Map(e)):null)},[]);return(0,s.useEffect)(()=>{const t=a.current;if(e!==t){s(t);const o=e.map(e=>{const t=Ka(e);return t?(t.addEventListener("scroll",n,{passive:!0}),[t,Ga(t)]):null}).filter(e=>null!=e);r(o.length?new Map(o):null),a.current=e}return()=>{s(e),s(t)};function s(e){e.forEach(e=>{const t=Ka(e);null==t||t.removeEventListener("scroll",n)})}},[n,e]),(0,s.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((e,t)=>ua(e,t),Ra):an(e):Ra,[e,t])}(se),de=Pn(ce),ue=Pn(ce,[Y]),pe=ua(le,de),he=ee?Fa(ee,le):null,me=D&&he?p({active:D,collisionRect:he,droppableRects:F,droppableContainers:B,pointerCoordinates:ie}):null,be=za(me,"id"),[ge,xe]=(0,s.useState)(null),fe=function(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}(te?le:ua(le,ue),null!=(n=null==ge?void 0:ge.rect)?n:null,Y),ye=(0,s.useRef)(null),ve=(0,s.useCallback)((e,t)=>{let{sensor:r,options:a}=t;if(null==T.current)return;const n=k.get(T.current);if(!n)return;const s=e.nativeEvent,o=new r({active:T.current,activeNode:n,event:s,options:a,context:G,onAbort(e){if(!k.get(e))return;const{onDragAbort:t}=P.current,r={id:e};null==t||t(r),y({type:"onDragAbort",event:r})},onPending(e,t,r,a){if(!k.get(e))return;const{onDragPending:n}=P.current,s={id:e,constraint:t,initialCoordinates:r,offset:a};null==n||n(s),y({type:"onDragPending",event:s})},onStart(e){const t=T.current;if(null==t)return;const r=k.get(t);if(!r)return;const{onDragStart:a}=P.current,n={activatorEvent:s,active:{id:t,data:r.data,rect:R}};(0,Kr.unstable_batchedUpdates)(()=>{null==a||a(n),j(Xn.Initializing),f({type:ka.DragStart,initialCoordinates:e,active:t}),y({type:"onDragStart",event:n}),A(ye.current),L(s)})},onMove(e){f({type:ka.DragMove,coordinates:e})},onEnd:l(ka.DragEnd),onCancel:l(ka.DragCancel)});function l(e){return async function(){const{active:t,collisions:r,over:a,scrollAdjustedTranslate:n}=G.current;let o=null;if(t&&n){const{cancelDrop:l}=P.current;o={activatorEvent:s,active:t,collisions:r,delta:n,over:a},e===ka.DragEnd&&"function"==typeof l&&await Promise.resolve(l(o))&&(e=ka.DragCancel)}T.current=null,(0,Kr.unstable_batchedUpdates)(()=>{f({type:e}),j(Xn.Uninitialized),xe(null),A(null),L(null),ye.current=null;const t=e===ka.DragEnd?"onDragEnd":"onDragCancel";if(o){const e=P.current[t];null==e||e(o),y({type:t,event:o})}})}}ye.current=o},[k]),we=(0,s.useCallback)((e,t)=>(r,a)=>{const n=r.nativeEvent,s=k.get(a);if(null!==T.current||!s||n.dndKit||n.defaultPrevented)return;const o={active:s};!0===e(r,t.options,o)&&(n.dndKit={capturedBy:t.sensor},T.current=a,ve(r,t))},[k,ve]),je=function(e,t){return(0,s.useMemo)(()=>e.reduce((e,r)=>{const{sensor:a}=r;return[...e,...a.activators.map(e=>({eventName:e.eventName,handler:t(e.handler,r)}))]},[]),[e,t])}(u,we);!function(e){(0,s.useEffect)(()=>{if(!Yr)return;const t=e.map(e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()});return()=>{for(const e of t)null==e||e()}},e.map(e=>{let{sensor:t}=e;return t}))}(u),ra(()=>{Y&&w===Xn.Initializing&&j(Xn.Initialized)},[Y,w]),(0,s.useEffect)(()=>{const{onDragMove:e}=P.current,{active:t,activatorEvent:r,collisions:a,over:n}=G.current;if(!t||!r)return;const s={active:t,activatorEvent:r,collisions:a,delta:{x:pe.x,y:pe.y},over:n};(0,Kr.unstable_batchedUpdates)(()=>{null==e||e(s),y({type:"onDragMove",event:s})})},[pe.x,pe.y]),(0,s.useEffect)(()=>{const{active:e,activatorEvent:t,collisions:r,droppableContainers:a,scrollAdjustedTranslate:n}=G.current;if(!e||null==T.current||!t||!n)return;const{onDragOver:s}=P.current,o=a.get(be),l=o&&o.rect.current?{id:o.id,rect:o.rect.current,data:o.data,disabled:o.disabled}:null,i={active:e,activatorEvent:t,collisions:r,delta:{x:n.x,y:n.y},over:l};(0,Kr.unstable_batchedUpdates)(()=>{xe(l),null==s||s(i),y({type:"onDragOver",event:i})})},[be]),ra(()=>{G.current={activatorEvent:z,active:D,activeNode:q,collisionRect:he,collisions:me,droppableRects:F,draggableNodes:k,draggingNode:Z,draggingNodeRect:ee,droppableContainers:S,over:ge,scrollableAncestors:se,scrollAdjustedTranslate:pe},R.current={initial:ee,translated:he}},[D,q,me,he,k,Z,ee,F,S,ge,se,pe]),function(e){let{acceleration:t,activator:r=kn.Pointer,canScroll:a,draggingRect:n,enabled:o,interval:l=5,order:i=Cn.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:u,delta:p,threshold:h}=e;const m=function(e){let{delta:t,disabled:r}=e;const a=la(t);return sa(e=>{if(r||!a||!e)return Sn;const n=Math.sign(t.x-a.x),s=Math.sign(t.y-a.y);return{x:{[Xa.Backward]:e.x[Xa.Backward]||-1===n,[Xa.Forward]:e.x[Xa.Forward]||1===n},y:{[Xa.Backward]:e.y[Xa.Backward]||-1===s,[Xa.Forward]:e.y[Xa.Forward]||1===s}}},[r,t,a])}({delta:p,disabled:!o}),[b,g]=function(){const e=(0,s.useRef)(null);return[(0,s.useCallback)((t,r)=>{e.current=setInterval(t,r)},[]),(0,s.useCallback)(()=>{null!==e.current&&(clearInterval(e.current),e.current=null)},[])]}(),x=(0,s.useRef)({x:0,y:0}),f=(0,s.useRef)({x:0,y:0}),y=(0,s.useMemo)(()=>{switch(r){case kn.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case kn.DraggableRect:return n}},[r,n,c]),v=(0,s.useRef)(null),w=(0,s.useCallback)(()=>{const e=v.current;if(!e)return;const t=x.current.x*f.current.x,r=x.current.y*f.current.y;e.scrollBy(t,r)},[]),j=(0,s.useMemo)(()=>i===Cn.TreeOrder?[...d].reverse():d,[i,d]);(0,s.useEffect)(()=>{if(o&&d.length&&y){for(const e of j){if(!1===(null==a?void 0:a(e)))continue;const r=d.indexOf(e),n=u[r];if(!n)continue;const{direction:s,speed:o}=tn(e,n,y,t,h);for(const e of["x","y"])m[e][s[e]]||(o[e]=0,s[e]=0);if(o.x>0||o.y>0)return g(),v.current=e,b(w,l),x.current=o,void(f.current=s)}x.current={x:0,y:0},f.current={x:0,y:0},g()}else g()},[t,w,a,g,o,l,JSON.stringify(y),JSON.stringify(m),b,d,j,u,JSON.stringify(h)])}({...V,delta:C,draggingRect:he,pointerCoordinates:ie,scrollableAncestors:se,scrollableAncestorRects:oe});const Ne=(0,s.useMemo)(()=>({active:D,activeNode:q,activeNodeRect:Y,activatorEvent:z,collisions:me,containerNodeRect:J,dragOverlay:Q,draggableNodes:k,droppableContainers:S,droppableRects:F,over:ge,measureDroppableContainers:H,scrollableAncestors:se,scrollableAncestorRects:oe,measuringConfiguration:$,measuringScheduled:W,windowRect:ne}),[D,q,Y,z,me,J,Q,k,S,F,ge,H,se,oe,$,W,ne]),_e=(0,s.useMemo)(()=>({activatorEvent:z,activators:je,active:D,activeNodeRect:Y,ariaDescribedById:{draggable:I},dispatch:f,draggableNodes:k,over:ge,measureDroppableContainers:H}),[z,je,D,Y,f,I,k,ge,H]);return l().createElement(wa.Provider,{value:v},l().createElement(Un.Provider,{value:_e},l().createElement(Vn.Provider,{value:Ne},l().createElement(Gn.Provider,{value:fe},d)),l().createElement(Jn,{disabled:!1===(null==i?void 0:i.restoreFocus)})),l().createElement(_a,{...i,hiddenTextDescribedById:I}))}),Zn=(0,s.createContext)(null),es="button";const ts={timeout:25};function rs(e,t,r){const a=e.slice();return a.splice(r<0?a.length+r:r,0,a.splice(t,1)[0]),a}function as(e,t){return e.reduce((e,r,a)=>{const n=t.get(r);return n&&(e[a]=n),e},Array(e.length))}function ns(e){return null!==e&&e>=0}const ss=e=>{let{rects:t,activeIndex:r,overIndex:a,index:n}=e;const s=rs(t,a,r),o=t[n],l=s[n];return l&&o?{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}:null},os={scaleX:1,scaleY:1},ls=e=>{var t;let{activeIndex:r,activeNodeRect:a,index:n,rects:s,overIndex:o}=e;const l=null!=(t=s[r])?t:a;if(!l)return null;if(n===r){const e=s[o];return e?{x:0,y:r<o?e.top+e.height-(l.top+l.height):e.top-l.top,...os}:null}const i=function(e,t,r){const a=e[t],n=e[t-1],s=e[t+1];return a?r<t?n?a.top-(n.top+n.height):s?s.top-(a.top+a.height):0:s?s.top-(a.top+a.height):n?a.top-(n.top+n.height):0:0}(s,n,r);return n>r&&n<=o?{x:0,y:-l.height-i,...os}:n<r&&n>=o?{x:0,y:l.height+i,...os}:{x:0,y:0,...os}},is="Sortable",cs=l().createContext({activeIndex:-1,containerId:is,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:ss,disabled:{draggable:!1,droppable:!1}});function ds(e){let{children:t,id:r,items:a,strategy:n=ss,disabled:o=!1}=e;const{active:i,dragOverlay:c,droppableRects:d,over:u,measureDroppableContainers:p}=(0,s.useContext)(Vn),h=ca(is,r),m=Boolean(null!==c.rect),b=(0,s.useMemo)(()=>a.map(e=>"object"==typeof e&&"id"in e?e.id:e),[a]),g=null!=i,x=i?b.indexOf(i.id):-1,f=u?b.indexOf(u.id):-1,y=(0,s.useRef)(b),v=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(b,y.current),w=-1!==f&&-1===x||v,j=function(e){return"boolean"==typeof e?{draggable:e,droppable:e}:e}(o);ra(()=>{v&&g&&p(b)},[v,b,g,p]),(0,s.useEffect)(()=>{y.current=b},[b]);const N=(0,s.useMemo)(()=>({activeIndex:x,containerId:h,disabled:j,disableTransforms:w,items:b,overIndex:f,useDragOverlay:m,sortedRects:as(b,d),strategy:n}),[x,h,j.draggable,j.droppable,w,b,f,d,m,n]);return l().createElement(cs.Provider,{value:N},t)}const us=e=>{let{id:t,items:r,activeIndex:a,overIndex:n}=e;return rs(r,a,n).indexOf(t)},ps=e=>{let{containerId:t,isSorting:r,wasDragging:a,index:n,items:s,newIndex:o,previousItems:l,previousContainerId:i,transition:c}=e;return!(!c||!a||l!==s&&n===o||!r&&(o===n||t!==i))},hs={duration:200,easing:"ease"},ms="transform",bs=ba.Transition.toString({property:ms,duration:0,easing:"linear"}),gs={roleDescription:"sortable"};function xs(e){let{animateLayoutChanges:t=ps,attributes:r,disabled:a,data:n,getNewIndex:o=us,id:l,strategy:i,resizeObserverConfig:c,transition:d=hs}=e;const{items:u,containerId:p,activeIndex:h,disabled:m,disableTransforms:b,sortedRects:g,overIndex:x,useDragOverlay:f,strategy:y}=(0,s.useContext)(cs),v=function(e,t){var r,a;return"boolean"==typeof e?{draggable:e,droppable:!1}:{draggable:null!=(r=null==e?void 0:e.draggable)?r:t.draggable,droppable:null!=(a=null==e?void 0:e.droppable)?a:t.droppable}}(a,m),w=u.indexOf(l),j=(0,s.useMemo)(()=>({sortable:{containerId:p,index:w,items:u},...n}),[p,n,w,u]),N=(0,s.useMemo)(()=>u.slice(u.indexOf(l)),[u,l]),{rect:_,node:k,isOver:C,setNodeRef:S}=function(e){let{data:t,disabled:r=!1,id:a,resizeObserverConfig:n}=e;const o=ca("Droppable"),{active:l,dispatch:i,over:c,measureDroppableContainers:d}=(0,s.useContext)(Un),u=(0,s.useRef)({disabled:r}),p=(0,s.useRef)(!1),h=(0,s.useRef)(null),m=(0,s.useRef)(null),{disabled:b,updateMeasurementsFor:g,timeout:x}={...ts,...n},f=na(null!=g?g:a),y=Mn({callback:(0,s.useCallback)(()=>{p.current?(null!=m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{d(Array.isArray(f.current)?f.current:[f.current]),m.current=null},x)):p.current=!0},[x]),disabled:b||!l}),v=(0,s.useCallback)((e,t)=>{y&&(t&&(y.unobserve(t),p.current=!1),e&&y.observe(e))},[y]),[w,j]=oa(v),N=na(t);return(0,s.useEffect)(()=>{y&&w.current&&(y.disconnect(),p.current=!1,y.observe(w.current))},[w,y]),(0,s.useEffect)(()=>(i({type:ka.RegisterDroppable,element:{id:a,key:o,disabled:r,node:w,rect:h,data:N}}),()=>i({type:ka.UnregisterDroppable,key:o,id:a})),[a]),(0,s.useEffect)(()=>{r!==u.current.disabled&&(i({type:ka.SetDroppableDisabled,id:a,key:o,disabled:r}),u.current.disabled=r)},[a,o,r,i]),{active:l,rect:h,isOver:(null==c?void 0:c.id)===a,node:w,over:c,setNodeRef:j}}({id:l,data:j,disabled:v.droppable,resizeObserverConfig:{updateMeasurementsFor:N,...c}}),{active:E,activatorEvent:R,activeNodeRect:D,attributes:T,setNodeRef:M,listeners:A,isDragging:z,over:L,setActivatorNodeRef:P,transform:I}=function(e){let{id:t,data:r,disabled:a=!1,attributes:n}=e;const o=ca("Draggable"),{activators:l,activatorEvent:i,active:c,activeNodeRect:d,ariaDescribedById:u,draggableNodes:p,over:h}=(0,s.useContext)(Un),{role:m=es,roleDescription:b="draggable",tabIndex:g=0}=null!=n?n:{},x=(null==c?void 0:c.id)===t,f=(0,s.useContext)(x?Gn:Zn),[y,v]=oa(),[w,j]=oa(),N=function(e,t){return(0,s.useMemo)(()=>e.reduce((e,r)=>{let{eventName:a,handler:n}=r;return e[a]=e=>{n(e,t)},e},{}),[e,t])}(l,t),_=na(r);return ra(()=>(p.set(t,{id:t,key:o,node:y,activatorNode:w,data:_}),()=>{const e=p.get(t);e&&e.key===o&&p.delete(t)}),[p,t]),{active:c,activatorEvent:i,activeNodeRect:d,attributes:(0,s.useMemo)(()=>({role:m,tabIndex:g,"aria-disabled":a,"aria-pressed":!(!x||m!==es)||void 0,"aria-roledescription":b,"aria-describedby":u.draggable}),[a,m,g,x,b,u.draggable]),isDragging:x,listeners:a?void 0:N,node:y,over:h,setNodeRef:v,setActivatorNodeRef:j,transform:f}}({id:l,data:j,attributes:{...gs,...r},disabled:v.draggable}),B=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.useMemo)(()=>e=>{t.forEach(t=>t(e))},t)}(S,M),$=Boolean(E),O=$&&!b&&ns(h)&&ns(x),F=!f&&z,H=F&&O?I:null,W=O?null!=H?H:(null!=i?i:y)({rects:g,activeNodeRect:D,activeIndex:h,overIndex:x,index:w}):null,q=ns(h)&&ns(x)?o({id:l,items:u,activeIndex:h,overIndex:x}):w,U=null==E?void 0:E.id,V=(0,s.useRef)({activeId:U,items:u,newIndex:q,containerId:p}),K=u!==V.current.items,Y=t({active:E,containerId:p,isDragging:z,isSorting:$,id:l,index:w,items:u,newIndex:V.current.newIndex,previousItems:V.current.items,previousContainerId:V.current.containerId,transition:d,wasDragging:null!=V.current.activeId}),J=function(e){let{disabled:t,index:r,node:a,rect:n}=e;const[o,l]=(0,s.useState)(null),i=(0,s.useRef)(r);return ra(()=>{if(!t&&r!==i.current&&a.current){const e=n.current;if(e){const t=Wa(a.current,{ignoreTransform:!0}),r={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(r.x||r.y)&&l(r)}}r!==i.current&&(i.current=r)},[t,r,a,n]),(0,s.useEffect)(()=>{o&&l(null)},[o]),o}({disabled:!Y,index:w,node:k,rect:_});return(0,s.useEffect)(()=>{$&&V.current.newIndex!==q&&(V.current.newIndex=q),p!==V.current.containerId&&(V.current.containerId=p),u!==V.current.items&&(V.current.items=u)},[$,q,p,u]),(0,s.useEffect)(()=>{if(U===V.current.activeId)return;if(null!=U&&null==V.current.activeId)return void(V.current.activeId=U);const e=setTimeout(()=>{V.current.activeId=U},50);return()=>clearTimeout(e)},[U]),{active:E,activeIndex:h,attributes:T,data:j,rect:_,index:w,newIndex:q,items:u,isOver:C,isSorting:$,isDragging:z,listeners:A,node:k,overIndex:x,over:L,setNodeRef:B,setActivatorNodeRef:P,setDroppableNodeRef:S,setDraggableNodeRef:M,transform:null!=J?J:W,transition:J||K&&V.current.newIndex===w?bs:F&&!ha(R)||!d?void 0:$||Y?ba.Transition.toString({...d,property:ms}):void 0}}function fs(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&"object"==typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const ys=[dn.Down,dn.Right,dn.Up,dn.Left],vs=(e,t)=>{let{context:{active:r,collisionRect:a,droppableRects:n,droppableContainers:s,over:o,scrollableAncestors:l}}=t;if(ys.includes(e.code)){if(e.preventDefault(),!r||!a)return;const t=[];s.getEnabled().forEach(r=>{if(!r||null!=r&&r.disabled)return;const s=n.get(r.id);if(s)switch(e.code){case dn.Down:a.top<s.top&&t.push(r);break;case dn.Up:a.top>s.top&&t.push(r);break;case dn.Left:a.left>s.left&&t.push(r);break;case dn.Right:a.left<s.left&&t.push(r)}});const d=(e=>{let{collisionRect:t,droppableRects:r,droppableContainers:a}=e;const n=Aa(t),s=[];for(const e of a){const{id:t}=e,a=r.get(t);if(a){const r=Aa(a),o=n.reduce((e,t,a)=>e+Da(r[a],t),0),l=Number((o/4).toFixed(4));s.push({id:t,data:{droppableContainer:e,value:l}})}}return s.sort(Ta)})({active:r,collisionRect:a,droppableRects:n,droppableContainers:t,pointerCoordinates:null});let u=za(d,"id");if(u===(null==o?void 0:o.id)&&d.length>1&&(u=d[1].id),null!=u){const e=s.get(r.id),t=s.get(u),o=t?n.get(t.id):null,d=null==t?void 0:t.node.current;if(d&&o&&e&&t){const r=Ua(d).some((e,t)=>l[t]!==e),n=ws(e,t),s=(c=t,!(!fs(i=e)||!fs(c))&&!!ws(i,c)&&i.data.current.sortable.index<c.data.current.sortable.index),u=r||!n?{x:0,y:0}:{x:s?a.width-o.width:0,y:s?a.height-o.height:0},p={x:o.left,y:o.top};return u.x&&u.y?p:pa(p,u)}}}var i,c};function ws(e,t){return!(!fs(e)||!fs(t))&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}const js=ot("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Ns=ot("type",[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]]),_s=ot("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),ks=ot("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),Cs=ot("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),Ss=ot("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Es=ot("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Rs=ot("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),Ds=ot("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Ts=ot("layout-grid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),Ms=ot("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),As=ot("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),zs=ot("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Ls=ot("trash",[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),Ps=ot("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Is=ot("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Bs={image:js,name:Ns,price:_s,button:ks,sku:Cs,stock:Hr,date:Ss,summary:Es,tax:Rs,cf:Ds,combined:Ts},$s=[{type:"image",label:(0,Tr.__)("Image","productbay"),icon:js},{type:"name",label:(0,Tr.__)("Product Name","productbay"),icon:Ns},{type:"price",label:(0,Tr.__)("Price","productbay"),icon:_s},{type:"button",label:(0,Tr.__)("Add to Cart","productbay"),icon:ks},{type:"sku",label:(0,Tr.__)("SKU","productbay"),icon:Cs},{type:"stock",label:(0,Tr.__)("Stock","productbay"),icon:Hr},{type:"date",label:(0,Tr.__)("Date","productbay"),icon:Ss},{type:"summary",label:(0,Tr.__)("Description","productbay"),icon:Es},{type:"tax",label:(0,Tr.__)("Taxonomy","productbay"),icon:Rs},{type:"cf",label:(0,Tr.__)("Custom Field","productbay"),icon:Ds}],Os=[{value:"all",label:(0,Tr.__)("All devices","productbay")},{value:"desktop",label:(0,Tr.__)("Desktop only","productbay")},{value:"tablet",label:(0,Tr.__)("Tablet only","productbay")},{value:"mobile",label:(0,Tr.__)("Mobile only","productbay")},{value:"not-mobile",label:(0,Tr.__)("Hide on mobile","productbay")},{value:"not-desktop",label:(0,Tr.__)("Hide on desktop","productbay")},{value:"none",label:(0,Tr.__)("Hidden","productbay")}],Fs=[{value:"inline",label:(0,Tr.__)("Inline (horizontal)","productbay")},{value:"stacked",label:(0,Tr.__)("Stacked (vertical)","productbay")}],Hs=[{key:"_weight",label:(0,Tr.__)("Weight","productbay")},{key:"_length",label:(0,Tr.__)("Length","productbay")},{key:"_width",label:(0,Tr.__)("Width","productbay")},{key:"_height",label:(0,Tr.__)("Height","productbay")},{key:"total_sales",label:(0,Tr.__)("Total Sales","productbay")},{key:"_purchase_note",label:(0,Tr.__)("Purchase Note","productbay")}],Ws=({column:e,onRemove:t,onUpdate:r})=>{const[a,n]=(0,s.useState)(!1),o="combined"===e.type?{layout:e.settings?.layout||"inline",elements:e.settings?.elements||[]}:{layout:"inline",elements:[]},{attributes:l,listeners:i,setNodeRef:c,transform:d,transition:u,isDragging:p}=xs({id:e.id}),h={transform:ba.Transform.toString(d),transition:u},m=Bs[e.type]||Ns;return(0,Xe.jsxs)("div",{ref:c,style:h,className:Sr("bg-white border border-gray-200 rounded-lg overflow-hidden transition-shadow",p&&"shadow-lg ring-2 ring-blue-400 opacity-90",!p&&"hover:border-gray-300"),children:[(0,Xe.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2",children:[(0,Xe.jsx)("button",{...l,...i,className:"flex-shrink-0 bg-transparent text-gray-400 hover:text-gray-600 cursor-grab active:cursor-grabbing","aria-label":(0,Tr.__)("Drag to reorder","productbay"),title:(0,Tr.__)("Drag to reorder","productbay"),children:(0,Xe.jsx)(Ms,{className:"w-4 h-4"})}),(0,Xe.jsx)("div",{className:"hidden md:flex-shrink-0 w-8 h-8 bg-gray-100 rounded-md flex items-center justify-center",children:(0,Xe.jsx)(m,{className:"w-4 h-4 text-gray-600"})}),(0,Xe.jsx)("input",{type:"text",value:e.heading,onChange:e=>{r({heading:e.target.value})},className:"flex-1 min-w-0 text-sm font-medium text-gray-900 rounded-none bg-transparent border-0 border-b border-transparent hover:border-gray-400 focus:border-blue-500 focus:ring-0 px-1 py-0.5 transition-colors",placeholder:(0,Tr.__)("Column heading","productbay"),title:(0,Tr.__)("Edit column heading","productbay")}),(0,Xe.jsx)("span",{className:"flex-shrink-0 text-xs text-gray-500 bg-gray-100 px-2 py-0.5 rounded",title:`Column type: ${e.type}`,children:e.type}),"combined"===e.type&&o.elements.length>0&&(0,Xe.jsxs)("span",{className:"flex-shrink-0 text-xs text-blue-600 bg-blue-100 px-2 py-0.5 rounded",children:[o.elements.length," ",(0,Tr.__)("elements","productbay")]}),(0,Xe.jsx)("button",{onClick:()=>{r({advanced:{...e.advanced,showHeading:!e.advanced.showHeading}})},className:Sr("flex-shrink-0 bg-transparent p-1 rounded transition-colors rounded-md cursor-pointer flex items-center hover:bg-gray-100",e.advanced.showHeading?"text-gray-400 hover:text-gray-600":"text-amber-500 hover:text-amber-600"),title:e.advanced.showHeading?(0,Tr.__)("Heading visible - Click to hide column header text","productbay"):(0,Tr.__)("Heading hidden - Click to show column header text","productbay"),children:e.advanced.showHeading?(0,Xe.jsx)(As,{className:"w-4 h-4"}):(0,Xe.jsx)(zs,{className:"w-4 h-4"})}),(0,Xe.jsx)("button",{onClick:t,className:"flex-shrink-0 bg-transparent p-1 text-gray-400 hover:text-red-500 transition-colors rounded-md cursor-pointer flex items-center hover:bg-red-100","aria-label":(0,Tr.__)("Remove column","productbay"),title:(0,Tr.__)("Remove column","productbay"),children:(0,Xe.jsx)(Ls,{className:"w-4 h-4"})}),(0,Xe.jsx)("button",{onClick:()=>n(!a),className:"flex-shrink-0 bg-transparent p-1 text-gray-400 hover:text-gray-600 transition-colors rounded-md cursor-pointer flex items-center hover:bg-gray-100","aria-label":a?(0,Tr.__)("Collapse settings","productbay"):(0,Tr.__)("Expand settings","productbay"),title:a?(0,Tr.__)("Collapse settings","productbay"):(0,Tr.__)("Expand settings","productbay"),children:a?(0,Xe.jsx)(Ps,{className:"w-4 h-4"}):(0,Xe.jsx)(Is,{className:"w-4 h-4"})})]}),a&&(0,Xe.jsxs)("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-200 space-y-4",children:[(0,Xe.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Xe.jsxs)("div",{children:[(0,Xe.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:(0,Tr.__)("Width","productbay")}),(0,Xe.jsxs)("div",{className:"flex flex-col md:flex-row gap-2",children:["auto"!==e.advanced.width.unit&&(0,Xe.jsx)("input",{type:"number",min:"0",value:e.advanced.width.value,onChange:t=>{const a=parseInt(t.target.value)||0;r({advanced:{...e.advanced,width:{...e.advanced.width,value:a}}})},className:"flex-1 min-w-0 px-2 py-1 text-sm border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500"}),(0,Xe.jsxs)("select",{value:e.advanced.width.unit,onChange:t=>{r({advanced:{...e.advanced,width:{...e.advanced.width,unit:t.target.value}}})},className:"flex-1 px-2 py-1 pr-8 text-sm border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 appearance-none bg-white bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22m6%208%204%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.25rem_1.25rem] bg-[right_0.25rem_center] bg-no-repeat",children:[(0,Xe.jsx)("option",{value:"auto",children:(0,Tr.__)("Auto","productbay")}),(0,Xe.jsx)("option",{value:"px",children:"px"}),(0,Xe.jsx)("option",{value:"%",children:"%"})]})]})]}),(0,Xe.jsxs)("div",{children:[(0,Xe.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:(0,Tr.__)("Visibility","productbay")}),(0,Xe.jsx)("select",{value:e.advanced.visibility,onChange:t=>{r({advanced:{...e.advanced,visibility:t.target.value}})},className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500",children:Os.map(e=>(0,Xe.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),"combined"===e.type&&(0,Xe.jsxs)("div",{className:"space-y-3 pt-3 border-t border-gray-200",children:[(0,Xe.jsx)("h4",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide",children:(0,Tr.__)("Combined Column Settings","productbay")}),(0,Xe.jsxs)("div",{children:[(0,Xe.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:(0,Tr.__)("Layout","productbay")}),(0,Xe.jsx)("select",{value:o.layout,onChange:t=>{r({settings:{...e.settings,layout:t.target.value}})},className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500",children:Fs.map(e=>(0,Xe.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Xe.jsxs)("div",{children:[(0,Xe.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:(0,Tr.__)("Elements to Include","productbay")}),(0,Xe.jsx)("div",{className:"grid grid-cols-2 gap-2",children:$s.map(({type:t,label:a,icon:n})=>{const s=o.elements.includes(t);return(0,Xe.jsxs)("button",{onClick:()=>(t=>{const a=o.elements,n=a.includes(t)?a.filter(e=>e!==t):[...a,t];r({settings:{...e.settings,elements:n}})})(t),className:Sr("flex items-center gap-2 px-3 py-2 text-sm rounded-md border transition-colors text-left",s?"bg-blue-50 border-blue-300 text-blue-700":"bg-white border-gray-200 text-gray-700 hover:bg-gray-50"),children:[(0,Xe.jsx)(n,{className:"w-4 h-4 flex-shrink-0"}),(0,Xe.jsx)("span",{className:"flex-1 truncate",children:a}),s&&(0,Xe.jsx)(lt,{className:"w-4 h-4 flex-shrink-0 text-blue-600"})]},t)})}),o.elements.length<2&&(0,Xe.jsx)("p",{className:"text-xs text-amber-600 mt-2",children:(0,Tr.__)("Select at least two elements to include in this combined column.","productbay")})]})]}),"cf"===e.type&&(0,Xe.jsxs)("div",{className:"space-y-3 pt-3 border-t border-gray-200",children:[(0,Xe.jsx)("h4",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide",children:(0,Tr.__)("Custom Field Settings","productbay")}),(0,Xe.jsxs)("div",{children:[(0,Xe.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:(0,Tr.__)("Meta Key","productbay")}),(0,Xe.jsx)("input",{type:"text",value:e.settings?.metaKey||"",onChange:t=>{r({settings:{...e.settings,metaKey:t.target.value}})},placeholder:(0,Tr.__)("e.g., _weight, custom_field_name","productbay"),className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500"}),(0,Xe.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:(0,Tr.__)("Enter the product meta key to display.","productbay")})]}),(0,Xe.jsxs)("div",{children:[(0,Xe.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:(0,Tr.__)("Common Fields","productbay")}),(0,Xe.jsx)("div",{className:"flex flex-wrap gap-1",children:Hs.map(({key:t,label:a})=>{const n=e.settings?.metaKey===t;return(0,Xe.jsx)("button",{onClick:()=>{r({settings:{...e.settings,metaKey:t}})},className:Sr("px-2 py-1 text-xs rounded border transition-colors",n?"bg-blue-100 border-blue-300 text-blue-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"),children:a},t)})})]}),(0,Xe.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Xe.jsxs)("div",{children:[(0,Xe.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:(0,Tr.__)("Prefix","productbay")}),(0,Xe.jsx)("input",{type:"text",value:e.settings?.prefix||"",onChange:t=>{r({settings:{...e.settings,prefix:t.target.value}})},placeholder:(0,Tr.__)("e.g., Weight:","productbay"),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500"})]}),(0,Xe.jsxs)("div",{children:[(0,Xe.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:(0,Tr.__)("Suffix","productbay")}),(0,Xe.jsx)("input",{type:"text",value:e.settings?.suffix||"",onChange:t=>{r({settings:{...e.settings,suffix:t.target.value}})},placeholder:(0,Tr.__)("e.g., kg","productbay"),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Xe.jsxs)("div",{children:[(0,Xe.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:(0,Tr.__)("Fallback Value","productbay")}),(0,Xe.jsx)("input",{type:"text",value:e.settings?.fallback||"",onChange:t=>{r({settings:{...e.settings,fallback:t.target.value}})},placeholder:(0,Tr.__)("e.g., N/A","productbay"),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500"}),(0,Xe.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:(0,Tr.__)("Shown when the meta field is empty.","productbay")})]}),!e.settings?.metaKey&&(0,Xe.jsx)("p",{className:"text-xs text-amber-600",children:(0,Tr.__)("Please specify a meta key to display.","productbay")})]})]})]})},qs=[{type:"image",label:(0,Tr.__)("Image","productbay"),icon:js},{type:"name",label:(0,Tr.__)("Product Name","productbay"),icon:Ns},{type:"price",label:(0,Tr.__)("Price","productbay"),icon:_s},{type:"button",label:(0,Tr.__)("Add to Cart","productbay"),icon:ks},{type:"sku",label:(0,Tr.__)("SKU","productbay"),icon:Cs},{type:"summary",label:(0,Tr.__)("Description","productbay"),icon:Es}],Us=({className:e,columns:t,onAddColumn:r,onReorderColumns:a,onRemoveColumn:n,onUpdateColumn:o})=>{const[i,c]=l().useState(!1),d=l().useMemo(()=>new Set(t.map(e=>e.type)),[t]),u=l().useMemo(()=>{const e=[];if(0===t.length)return e;const r=t.filter(e=>"%"===e.advanced.width.unit).reduce((e,t)=>e+t.advanced.width.value,0);r>100&&e.push({type:"warning",message:(0,Tr.__)(`Column widths total ${r}%. Table may require horizontal scrolling.`,"productbay")});const a=t.find(e=>"%"===e.advanced.width.unit&&e.advanced.width.value>=100);return a&&t.length>1&&e.push({type:"warning",message:(0,Tr.__)(`"${a.heading}" takes 100% width. Other columns will be compressed.`,"productbay")}),t.every(e=>"px"===e.advanced.width.unit)&&t.length>1&&e.push({type:"info",message:(0,Tr.__)("All columns use fixed pixel widths. Table may not adapt well to different screen sizes.","productbay")}),e},[t]),p=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.useMemo)(()=>[...t].filter(e=>null!=e),[...t])}(Ea(vn,{activationConstraint:{distance:8}}),Ea(bn,{coordinateGetter:vs}));return(0,Xe.jsxs)("div",{className:Sr("space-y-4",e),children:[u.length>0&&(0,Xe.jsx)("div",{className:"space-y-2",children:u.map((e,t)=>(0,Xe.jsxs)("div",{className:Sr("flex items-start gap-2 px-3 py-2 text-sm rounded-lg","warning"===e.type?"bg-amber-50 text-amber-800 border border-amber-200":"bg-blue-50 text-blue-800 border border-blue-200"),children:["warning"===e.type?(0,Xe.jsx)(dt,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}):(0,Xe.jsx)(ct,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),(0,Xe.jsx)("span",{children:e.message})]},t))}),(0,Xe.jsx)(Qn,{sensors:p,collisionDetection:Pa,onDragEnd:e=>{const{active:r,over:n}=e;if(n&&r.id!==n.id){const e=t.findIndex(e=>e.id===r.id),s=t.findIndex(e=>e.id===n.id);a(e,s)}},children:(0,Xe.jsx)(ds,{items:t.map(e=>e.id),strategy:ls,children:(0,Xe.jsx)("div",{className:"space-y-2",children:t.map(e=>(0,Xe.jsx)(Ws,{column:e,onRemove:()=>n(e.id),onUpdate:t=>o(e.id,t)},e.id))})})}),0===t.length&&(0,Xe.jsx)("div",{className:"text-center py-8 text-gray-500 bg-gray-50 rounded-lg border border-dashed border-gray-300",children:(0,Xe.jsx)("p",{className:"text-sm",children:(0,Tr.__)("No columns configured. Add some columns to build your table.","productbay")})}),(0,Xe.jsxs)("div",{className:"relative",children:[(0,Xe.jsxs)(Ir,{variant:"outline",size:"sm",onClick:()=>c(!i),className:"w-full justify-center",children:[(0,Xe.jsx)(Wr,{className:"w-4 h-4 mr-2"}),(0,Tr.__)("Add Column","productbay")]}),i&&(0,Xe.jsxs)("div",{className:"absolute bottom-full left-0 right-0 mb-2 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:[(0,Xe.jsx)("div",{className:"p-2 grid grid-cols-2 gap-1",children:qs.map(({type:e,label:a,icon:s})=>{const o=d.has(e);return(0,Xe.jsxs)("button",{onClick:()=>(e=>{const a=t.find(t=>t.type===e);if(a)n(a.id);else{const a=qs.find(t=>t.type===e);if(!a)return;const n={id:`col_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,type:e,heading:a.label,advanced:{showHeading:!0,width:{value:0,unit:"auto"},visibility:"all",order:t.length+1},settings:{}};r(n)}})(e),className:Sr("flex items-center gap-2 px-3 py-2 text-sm rounded-md transition-colors text-left",o?"bg-blue-100 text-blue-700 hover:bg-blue-150":"text-gray-700 hover:bg-gray-100"),children:[(0,Xe.jsx)(s,{className:"w-4 h-4 flex-shrink-0"}),(0,Xe.jsx)("span",{className:"truncate flex-1",children:a}),o&&(0,Xe.jsx)(lt,{className:"w-4 h-4 flex-shrink-0 text-blue-600"})]},e)})}),(0,Xe.jsx)("button",{onClick:()=>c(!1),title:(0,Tr.__)("Close","productbay"),className:"w-full flex justify-center items-center p-1 text-gray-400 hover:text-gray-600 bg-transparent hover:bg-gray-100 cursor-pointer","aria-label":(0,Tr.__)("Close","productbay"),children:(0,Xe.jsx)(Is,{className:"w-4 h-4"})})]})]}),i&&(0,Xe.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>c(!1)})]})},Vs=({columns:e,onChange:t})=>(0,Xe.jsx)("div",{children:(0,Xe.jsx)(Us,{columns:e,onAddColumn:r=>{t([...e,r])},onRemoveColumn:r=>{t(e.filter(e=>e.id!==r))},onReorderColumns:(r,a)=>{const n=[...e],[s]=n.splice(r,1);n.splice(a,0,s);const o=n.map((e,t)=>({...e,advanced:{...e.advanced,order:t+1}}));t(o)},onUpdateColumn:(r,a)=>{t(e.map(e=>e.id===r?{...e,...a}:e))}})}),Ks=Lr("relative inline-flex items-center cursor-pointer disabled:cursor-not-allowed disabled:opacity-50",{variants:{size:{default:"h-6",lg:"h-7",sm:"h-5",xs:"h-4"}},defaultVariants:{size:"default"}}),Ys=Lr('bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-500 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[""] after:absolute after:bg-white after:border-gray-300 after:border after:rounded-full after:transition-all peer-checked:bg-blue-600',{variants:{size:{default:"w-11 h-6 after:top-[2px] after:left-[2px] after:h-5 after:w-5",lg:"w-14 h-7 after:top-[2px] after:left-[2px] after:h-6 after:w-6",sm:"w-9 h-5 after:top-[2px] after:left-[2px] after:h-4 after:w-4",xs:"w-7 h-4 after:top-[2px] after:left-[2px] after:h-3 after:w-3"}},defaultVariants:{size:"default"}}),Js=({className:e,size:t,label:r,title:a,...n})=>(0,Xe.jsxs)("label",{className:Sr(Ks({size:t}),e),title:a,children:[(0,Xe.jsx)("input",{type:"checkbox",className:"sr-only peer",...n}),(0,Xe.jsx)("div",{className:Sr(Ys({size:t}))}),r&&(0,Xe.jsx)("span",{className:"ml-3 text-sm font-medium text-gray-900",children:r})]});Js.displayName="Toggle";const Gs=Lr("relative flex w-full items-center justify-between rounded-md border border-gray-300 bg-white text-sm ring-offset-white placeholder:text-gray-500 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200",{variants:{size:{default:"h-10 px-3 py-2",sm:"h-9 rounded-md px-3",xs:"h-8 rounded px-2 text-xs",lg:"h-11 rounded-md px-8"}},defaultVariants:{size:"default"}}),Xs=s.forwardRef(({className:e,options:t,value:r,onChange:a,placeholder:n="Select...",label:o,disabled:l,icon:i,allowDeselect:c=!1,size:d,...u},p)=>{const[h,m]=s.useState(!1),b=s.useRef(null),g=t.find(e=>e.value===r);s.useEffect(()=>{const e=e=>{b.current&&!b.current.contains(e.target)&&m(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const x=e=>{a(e),m(!1)};return(0,Xe.jsxs)("div",{className:Sr("relative w-full",e),ref:b,...u,children:[(0,Xe.jsxs)("button",{type:"button",onClick:()=>!l&&m(!h),className:Sr(Gs({size:d}),h&&"ring-1 ring-blue-500 border-blue-500","w-full"),disabled:l,children:[(0,Xe.jsxs)("div",{className:"flex items-center gap-2 truncate",children:[i&&(0,Xe.jsx)("span",{className:"flex items-center justify-center text-gray-500 shrink-0",children:i}),(0,Xe.jsx)("span",{className:Sr("block truncate",!g&&"text-gray-500"),children:g?g.label:o||n})]}),(0,Xe.jsx)(Is,{className:"h-4 w-4 opacity-50 flex-shrink-0 ml-2"})]}),h&&(0,Xe.jsxs)("div",{className:"absolute top-full left-0 z-50 mt-1 max-h-60 min-w-full w-max overflow-auto rounded-md border border-gray-200 bg-white shadow-md animate-in fade-in-80 slide-in-from-top-1",children:[o&&(0,Xe.jsx)("div",{onClick:()=>{c&&r&&x("")},className:Sr("px-2 py-1.5 text-xs font-semibold text-gray-500 border-b border-gray-100 bg-gray-50/50",c&&r&&"cursor-pointer hover:bg-red-50 hover:text-red-500 transition-colors"),title:c?"Click to clear selection":void 0,children:o}),(0,Xe.jsx)("div",{className:"p-1",children:t.map(e=>(0,Xe.jsxs)("div",{onClick:()=>x(e.value),className:Sr("relative flex w-full cursor-pointer select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none hover:bg-gray-100 hover:text-gray-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 transition-colors",e.value===r&&"bg-gray-50 font-medium"),children:[(0,Xe.jsx)("span",{className:"block truncate",children:e.label}),e.value===r&&(0,Xe.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,Xe.jsx)(lt,{className:"h-4 w-4 text-blue-600"})})]},e.value))})]})]})});Xs.displayName="Select";const Qs=({title:e,description:t,children:r,className:a})=>(0,Xe.jsxs)("div",{className:Sr("flex flex-col md:flex-row md:items-center justify-between hover:bg-gray-50 px-4 py-2 rounded-md m-0",a),children:[(0,Xe.jsxs)("div",{children:[(0,Xe.jsx)("label",{className:"text-sm font-medium text-gray-900 block",children:e}),t&&(0,Xe.jsx)("p",{className:"text-xs text-gray-500 py-2 m-0",children:t})]}),r]}),Zs=[{value:"all",label:(0,Tr.__)("All devices","productbay")},{value:"desktop",label:(0,Tr.__)("Desktop only","productbay")},{value:"tablet",label:(0,Tr.__)("Tablet only","productbay")},{value:"mobile",label:(0,Tr.__)("Mobile only","productbay")},{value:"not-mobile",label:(0,Tr.__)("Hide on mobile","productbay")},{value:"not-desktop",label:(0,Tr.__)("Hide on desktop","productbay")},{value:"none",label:(0,Tr.__)("Hidden","productbay")}],eo=({value:e,onChange:t})=>{var r,a,n,s,o,l;const i=e||{enabled:!0,position:"last",width:{value:64,unit:"px"},visibility:"all"},c=e=>{t({...i,...e})};return(0,Xe.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200 mb-8",children:[(0,Xe.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-4",children:(0,Tr.__)("Bulk Actions & Selection","productbay")}),(0,Xe.jsx)(Qs,{title:(0,Tr.__)("Enable Bulk Selection","productbay"),description:(0,Tr.__)('Adds a checkbox column and an "Add to Cart" button for bulk actions.',"productbay"),className:"px-0 hover:bg-transparent",children:(0,Xe.jsx)(Js,{checked:null===(r=i.enabled)||void 0===r||r,onChange:e=>c({enabled:e.target.checked})})}),(null===(a=i.enabled)||void 0===a||a)&&(0,Xe.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-100 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Xe.jsxs)("div",{children:[(0,Xe.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1.5",children:(0,Tr.__)("Column Position","productbay")}),(0,Xe.jsx)(Xs,{value:null!==(n=i.position)&&void 0!==n?n:"last",onChange:e=>c({position:e}),options:[{value:"first",label:(0,Tr.__)("First Column (Left)","productbay")},{value:"last",label:(0,Tr.__)("Last Column (Right)","productbay")}],size:"xs"})]}),(0,Xe.jsxs)("div",{children:[(0,Xe.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1.5",children:(0,Tr.__)("Visibility","productbay")}),(0,Xe.jsx)(Xs,{value:null!==(s=i.visibility)&&void 0!==s?s:"all",onChange:e=>c({visibility:e}),options:Zs,size:"xs"})]}),(0,Xe.jsxs)("div",{children:[(0,Xe.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1.5",children:(0,Tr.__)("Column Width","productbay")}),(0,Xe.jsxs)("div",{className:"flex gap-2",children:["auto"!==i.width?.unit&&(0,Xe.jsx)("input",{type:"number",min:"0",value:null!==(o=i.width?.value)&&void 0!==o?o:64,onChange:e=>c({width:{...i.width||{unit:"px"},value:parseInt(e.target.value)||0}}),className:"flex-1 min-w-0 px-3 h-8 py-2 text-sm border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"}),(0,Xe.jsx)("div",{className:"flex-1",children:(0,Xe.jsx)(Xs,{value:null!==(l=i.width?.unit)&&void 0!==l?l:"px",onChange:e=>c({width:{...i.width||{value:64},unit:e}}),options:[{value:"px",label:"px"},{value:"%",label:"%"},{value:"auto",label:(0,Tr.__)("Auto","productbay")}],size:"xs",className:"w-full"})})]})]})]})]})},to=ot("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),ro=["#000000","#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],ao=({className:e})=>(0,Xe.jsx)("div",{className:Sr("absolute inset-0 rounded-full overflow-hidden bg-white",e),style:{backgroundImage:"\n                linear-gradient(45deg, #eee 25%, transparent 25%), \n                linear-gradient(-45deg, #eee 25%, transparent 25%), \n                linear-gradient(45deg, transparent 75%, #eee 75%), \n                linear-gradient(-45deg, transparent 75%, #eee 75%)\n            ",backgroundSize:"10px 10px",backgroundPosition:"0 0, 0 5px, 5px -5px, -5px 0px"}}),no=e=>{let t=0,r=0,a=0,n=1;const s=e.replace("#","");return 3===s.length?(t=parseInt(s[0]+s[0],16),r=parseInt(s[1]+s[1],16),a=parseInt(s[2]+s[2],16)):6===s.length?(t=parseInt(s.substring(0,2),16),r=parseInt(s.substring(2,4),16),a=parseInt(s.substring(4,6),16)):8===s.length&&(t=parseInt(s.substring(0,2),16),r=parseInt(s.substring(2,4),16),a=parseInt(s.substring(4,6),16),n=Math.round(parseInt(s.substring(6,8),16)/255*100)/100),{r:t,g:r,b:a,a:n}},so=(e,t,r,a)=>{const n=e=>e.toString(16).padStart(2,"0"),s=a<1?n(Math.round(255*a)):"";return`#${n(e)}${n(t)}${n(r)}${s}`},oo=(e,t,r,a)=>{e/=255,t/=255,r/=255;const n=Math.max(e,t,r),s=Math.min(e,t,r);let o,l=0;const i=(n+s)/2;if(n===s)l=o=0;else{const a=n-s;switch(o=i>.5?a/(2-n-s):a/(n+s),n){case e:l=(t-r)/a+(t<r?6:0);break;case t:l=(r-e)/a+2;break;case r:l=(e-t)/a+4}l/=6}return{h:Math.round(360*l),s:Math.round(100*o),l:Math.round(100*i),a}},lo=(e,t,r)=>{t/=100,r/=100;const a=(a,n=(a+e/60)%6)=>r-r*t*Math.max(0,Math.min(n,4-n,1));return{r:Math.round(255*a(5)),g:Math.round(255*a(3)),b:Math.round(255*a(1))}},io=e=>{const t=e.match(/rgba?\((\d*),\s*(\d*),\s*(\d*)(?:,\s*([\d.]*))?\)/);if(!t){if(e.startsWith("hsl")){const t=e.match(/hsla?\((\d*),\s*([\d.]*)%?,\s*([\d.]*)%?(?:,\s*([\d.]*))?\)/);if(t){const e=t[1]?parseInt(t[1]):0,r=t[2]?parseInt(t[2]):0,a=t[3]?parseInt(t[3]):0,n=t[4]?parseFloat(t[4]):1,{r:s,g:o,b:l}=((e,t,r,a)=>{t/=100,r/=100;const n=t=>(t+e/30)%12,s=e=>r-t*Math.min(r,1-r)*Math.max(-1,Math.min(n(e)-3,9-n(e),1));return{r:Math.round(255*s(0)),g:Math.round(255*s(8)),b:Math.round(255*s(4)),a}})(e,r,a,n);return{r:s.toString(),g:o.toString(),b:l.toString(),a:n.toString()}}}if(e.startsWith("#")){const{r:t,g:r,b:a,a:n}=no(e);return{r:t.toString(),g:r.toString(),b:a.toString(),a:n.toString()}}return{r:"0",g:"0",b:"0",a:"1"}}return{r:t[1],g:t[2],b:t[3],a:void 0===t[4]?"1":t[4]}},co=({h:e,s:t,v:r,onChange:a})=>{const n=(0,s.useRef)(null),[o,l]=(0,s.useState)(!1),[i,c]=(0,s.useState)(!1),d=10,u=(0,s.useCallback)(e=>{if(!n.current)return;const t=n.current.getBoundingClientRect(),r=Math.max(0,Math.min(1,(e.clientX-t.left)/t.width)),s=Math.max(0,Math.min(1,(e.clientY-t.top)/t.height));a(100*r,100*(1-s))},[a]),p=e=>{l(!1),n.current?.releasePointerCapture&&n.current.releasePointerCapture(e.pointerId)};return(0,Xe.jsxs)("div",{ref:n,className:Sr("relative w-full h-32 cursor-crosshair rounded-t-md overflow-hidden outline-none","transition-shadow duration-150",i&&"ring-2 ring-blue-500 ring-offset-2",o&&"ring-2 ring-blue-400"),tabIndex:0,role:"slider","aria-label":"Saturation and brightness picker","aria-valuetext":`Saturation ${Math.round(t)}%, Brightness ${Math.round(r)}%`,onPointerDown:e=>{e.preventDefault(),l(!0),u(e),n.current?.setPointerCapture&&n.current.setPointerCapture(e.pointerId)},onPointerMove:e=>{o&&u(e)},onPointerUp:p,onPointerCancel:p,onKeyDown:e=>{let n=t,s=r,o=!0;switch(e.key){case"ArrowLeft":n=Math.max(0,t-(e.shiftKey?d:1));break;case"ArrowRight":n=Math.min(100,t+(e.shiftKey?d:1));break;case"ArrowUp":s=Math.min(100,r+(e.shiftKey?d:1));break;case"ArrowDown":s=Math.max(0,r-(e.shiftKey?d:1));break;case"PageUp":s=Math.min(100,r+d);break;case"PageDown":s=Math.max(0,r-d);break;case"Home":n=0,s=100;break;case"End":n=100,s=0;break;default:o=!1}o&&(e.preventDefault(),a(n,s))},onFocus:()=>c(!0),onBlur:()=>c(!1),style:{backgroundColor:`hsl(${e}, 100%, 50%)`,touchAction:"none"},children:[(0,Xe.jsx)("div",{className:"absolute inset-0",style:{backgroundImage:"linear-gradient(to right, #fff, transparent)"}}),(0,Xe.jsx)("div",{className:"absolute inset-0",style:{backgroundImage:"linear-gradient(to top, #000, transparent)"}}),(0,Xe.jsx)("div",{className:Sr("absolute w-4 h-4 rounded-full border-2 border-white pointer-events-none -translate-x-1/2 translate-y-1/2","transition-transform duration-75",o?"shadow-lg scale-110":"shadow-md",i&&"ring-2 ring-blue-500 ring-offset-1"),style:{left:`${t}%`,bottom:`${r}%`}})]})},uo=({value:e,max:t,onChange:r,background:a,ariaLabel:n="Color slider",className:o})=>{const l=(0,s.useRef)(null),[i,c]=(0,s.useState)(!1),[d,u]=(0,s.useState)(!1),p=.01*t,h=.1*t,m=(0,s.useCallback)(e=>{if(!l.current)return;const a=l.current.getBoundingClientRect(),n=Math.max(0,Math.min(1,(e.clientX-a.left)/a.width));r(n*t)},[t,r]),b=e=>{c(!1),l.current?.releasePointerCapture&&l.current.releasePointerCapture(e.pointerId)},g=Math.round(e/t*100);return(0,Xe.jsx)("div",{ref:l,className:Sr("relative h-3 rounded-full cursor-pointer outline-none","transition-shadow duration-150",d&&"ring-2 ring-blue-500 ring-offset-2",i&&"ring-2 ring-blue-400",o),tabIndex:0,role:"slider","aria-label":n,"aria-valuenow":g,"aria-valuemin":0,"aria-valuemax":100,"aria-valuetext":`${g}%`,onPointerDown:e=>{e.preventDefault(),c(!0),m(e),l.current?.setPointerCapture&&l.current.setPointerCapture(e.pointerId)},onPointerMove:e=>{i&&m(e)},onPointerUp:b,onPointerCancel:b,onKeyDown:a=>{let n=e,s=!0;switch(a.key){case"ArrowLeft":case"ArrowDown":n=Math.max(0,e-(a.shiftKey?h:p));break;case"ArrowRight":case"ArrowUp":n=Math.min(t,e+(a.shiftKey?h:p));break;case"PageDown":n=Math.max(0,e-h);break;case"PageUp":n=Math.min(t,e+h);break;case"Home":n=0;break;case"End":n=t;break;default:s=!1}s&&(a.preventDefault(),r(n))},onFocus:()=>u(!0),onBlur:()=>u(!1),style:{background:a,touchAction:"none"},children:(0,Xe.jsx)("div",{className:Sr("absolute w-4 h-4 bg-white border border-gray-200 rounded-full -top-0.5 -translate-x-1/2","transition-all duration-75",i?"shadow-lg scale-110":"shadow-md",d&&"ring-2 ring-blue-500 ring-offset-1"),style:{left:e/t*100+"%"}})})},po=({value:e="#000000",onChange:t,className:r,showAlpha:a=!0,showPresets:n=!0,presets:o=ro,triggerMode:l="both"})=>{const[i,c]=(0,s.useState)(!1),[d,u]=(0,s.useState)("hex"),p=(0,s.useRef)(null),h=(0,s.useRef)(null),[m,b]=(0,s.useState)(null),g=(0,s.useMemo)(()=>{if(!e||"string"!=typeof e||""===e.trim())return"#000000";const t=e.trim().toLowerCase(),r=/^#[0-9a-f]{3,8}$/i.test(t),a=/^rgba?\s*\(/i.test(t),n=/^hsla?\s*\(/i.test(t);return r||a||n?e.trim():"#000000"},[e]);(0,s.useEffect)(()=>{i||b(null)},[i]),(0,s.useEffect)(()=>{if(!e)return;const t=e.toLowerCase().trim();t.startsWith("rgb")?u("rgb"):t.startsWith("hsl")?u("hsl"):u("hex")},[i]),(0,s.useEffect)(()=>{const e=e=>{const t=e.target;p.current&&!p.current.contains(t)&&h.current&&!h.current.contains(t)&&f()};return i&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[i]),(0,s.useEffect)(()=>{const e=e=>{"Escape"===e.key&&f()};return i&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[i]);const x=(0,s.useCallback)(e=>{e&&(e.preventDefault(),e.stopPropagation()),c(e=>!e)},[]),f=(0,s.useCallback)(()=>c(!1),[]),y=(0,s.useMemo)(()=>{try{return"rgb"===d&&g.startsWith("rgb"),io(g)}catch{return{r:"0",g:"0",b:"0",a:"1"}}},[d,g]),v=(0,s.useMemo)(()=>{const e=y.r?parseInt(y.r,10):0,t=y.g?parseInt(y.g,10):0,r=y.b?parseInt(y.b,10):0,a=((e,t,r)=>{e/=255,t/=255,r/=255;const a=Math.max(e,t,r),n=a-Math.min(e,t,r),s=n&&(a===e?(t-r)/n:a===t?2+(r-e)/n:4+(e-t)/n);return{h:Math.round(60*(s<0?s+6:s)),s:Math.round(a&&n/a*100),v:Math.round(100*a)}})(isNaN(e)?0:e,isNaN(t)?0:t,isNaN(r)?0:r);return null!==m&&(a.h=m),a},[y.r,y.g,y.b,m]),w=(0,s.useMemo)(()=>{try{if("hsl"===d&&g.startsWith("hsl"))return(e=>{const t=e.match(/hsla?\((\d*),\s*([\d.]*)%?,\s*([\d.]*)%?(?:,\s*([\d.]*))?\)/);if(!t){if(e.startsWith("#")){const t=no(e),{h:r,s:a,l:n,a:s}=oo(t.r,t.g,t.b,t.a);return{h:r.toString(),s:a.toString(),l:n.toString(),a:s.toString()}}if(e.startsWith("rgb")){const t=io(e),{h:r,s:a,l:n,a:s}=oo(parseInt(t.r),parseInt(t.g),parseInt(t.b),parseFloat(t.a));return{h:r.toString(),s:a.toString(),l:n.toString(),a:s.toString()}}return{h:"0",s:"0",l:"0",a:"1"}}return{h:t[1],s:t[2],l:t[3],a:void 0===t[4]?"1":t[4]}})(g);const e=y.r?parseInt(y.r,10):0,t=y.g?parseInt(y.g,10):0,r=y.b?parseInt(y.b,10):0,a=y.a?parseFloat(y.a):1;return oo(isNaN(e)?0:e,isNaN(t)?0:t,isNaN(r)?0:r,isNaN(a)?1:a)}catch{return{h:"0",s:"0",l:"0",a:"1"}}},[d,g,y.r,y.g,y.b,y.a]),j=(0,s.useMemo)(()=>{if("hex"===d&&e&&e.trim().startsWith("#"))return e;const t=y.r?parseInt(y.r,10):0,r=y.g?parseInt(y.g,10):0,a=y.b?parseInt(y.b,10):0,n=y.a?parseFloat(y.a):1;return so(isNaN(t)?0:t,isNaN(r)?0:r,isNaN(a)?0:a,isNaN(n)?1:n)},[d,e,g,y.r,y.g,y.b,y.a]),N=(e,r,a)=>{const n=a.trim();if(!/^-?\d*\.?\d*$/.test(n))return;let s=n;if(""!==n&&"."!==n&&"-."!==n){const e=parseFloat(n);if(!isNaN(e))if("a"===r){if(n.includes(".")){const e=n.split(".")[1];if(e&&e.length>2)return}s=e<0?"0":e>1?"1":n}else s="h"===r?Math.max(0,Math.min(360,Math.round(e))):"s"===r||"l"===r?Math.max(0,Math.min(100,Math.round(e))):Math.max(0,Math.min(255,Math.round(e)))}if("rgb"===e){const e="r"===r?s:y.r,a="g"===r?s:y.g,n="b"===r?s:y.b,o="a"===r?s:y.a;t(`rgba(${e}, ${a}, ${n}, ${o})`)}else{const e="h"===r?s:w.h,a="s"===r?s:w.s,n="l"===r?s:w.l,o="a"===r?s:w.a;t(`hsla(${e}, ${a}%, ${n}%, ${o})`)}};return(0,Xe.jsxs)("div",{className:Sr("relative inline-block",r),ref:h,children:[(0,Xe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Xe.jsxs)("div",{className:"relative w-8 h-8 group",children:[(0,Xe.jsx)(ao,{}),(0,Xe.jsx)("div",{className:"absolute inset-0 rounded-full border border-gray-200 shadow-sm cursor-pointer transition-all hover:scale-105 hover:shadow-md ring-offset-2 hover:ring-2 hover:ring-blue-400",style:{backgroundColor:g},onClick:x,role:"button",tabIndex:0,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||x()},"aria-label":(0,Tr.__)("Open color picker","productbay")})]}),(0,Xe.jsxs)("button",{type:"button",onClick:x,className:"flex items-center gap-1.5 text-sm text-gray-600 hover:text-blue-500 font-medium transition-colors bg-transparent border-0 p-1 cursor-pointer rounded-md hover:bg-gray-50",children:[("icon"===l||"both"===l)&&(i?(0,Xe.jsx)("span",{title:(0,Tr.__)("Close","productbay"),children:(0,Xe.jsx)(ut,{className:"w-3.5 h-3.5"})}):(0,Xe.jsx)("span",{title:(0,Tr.__)("Edit Color","productbay"),children:(0,Xe.jsx)(to,{className:"w-3.5 h-3.5"})})),("text"===l||"both"===l)&&(0,Xe.jsx)("span",{children:i?(0,Tr.__)("Close","productbay"):(0,Tr.__)("Edit Color","productbay")})]})]}),i&&(0,Xe.jsxs)("div",{ref:p,className:"absolute z-[100] mt-3 p-3 bg-white rounded-lg shadow-2xl border border-gray-100 animate-in fade-in zoom-in-95 duration-200 origin-top-left",style:{width:"240px"},children:[(0,Xe.jsxs)("div",{className:"mb-3",children:[(0,Xe.jsx)(co,{h:v.h,s:v.s,v:v.v,onChange:(e,r)=>{const{r:a,g:n,b:s}=lo(v.h,e,r),o=parseFloat(y.a);b(v.h),t("hex"===d?so(a,n,s,o):`rgba(${a}, ${n}, ${s}, ${y.a})`)}}),(0,Xe.jsxs)("div",{className:"mt-3 px-1",children:[(0,Xe.jsx)(uo,{value:v.h,max:360,onChange:e=>{const{r,g:a,b:n}=lo(e,v.s,v.v),s=parseFloat(y.a);b(e),t("hex"===d?so(r,a,n,s):`rgba(${r}, ${a}, ${n}, ${y.a})`)},background:"linear-gradient(to right, #f00 0%, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%)",ariaLabel:"Hue"}),a&&(0,Xe.jsxs)("div",{className:"mt-2.5 relative",children:[(0,Xe.jsx)(ao,{className:"rounded-full h-3"}),(0,Xe.jsx)(uo,{value:parseFloat(y.a)||0,max:1,onChange:e=>{const r=Math.round(100*e)/100;if("hex"===d){const e=so(parseInt(y.r),parseInt(y.g),parseInt(y.b),r);t(e)}else t("rgb"===d?`rgba(${y.r}, ${y.g}, ${y.b}, ${r})`:`hsla(${w.h}, ${w.s}%, ${w.l}%, ${r})`)},background:`linear-gradient(to right, transparent, rgb(${y.r}, ${y.g}, ${y.b}))`,ariaLabel:"Opacity"})]})]})]}),(0,Xe.jsxs)("div",{className:"px-1",children:[(0,Xe.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Xe.jsx)("div",{className:"flex gap-1 bg-gray-50 p-0.5 rounded-md border border-gray-100",children:["hex","rgb","hsl"].map(e=>(0,Xe.jsx)("button",{type:"button",onClick:()=>{var t;(t=e)!==d&&u(t)},className:Sr("px-2 py-0.5 text-[10px] uppercase font-bold rounded transition-all cursor-pointer",d===e?"bg-white text-blue-600 shadow-sm ring-1 ring-black/5":"text-gray-400 hover:text-gray-600"),children:e},e))}),(0,Xe.jsxs)("div",{className:"relative w-6 h-6 rounded border border-gray-100 shadow-inner overflow-hidden",children:[(0,Xe.jsx)(ao,{className:"rounded-none"}),(0,Xe.jsx)("div",{className:"absolute inset-0",style:{backgroundColor:g}})]})]}),"hex"===d?(0,Xe.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,Xe.jsx)("input",{type:"text",value:j,onChange:e=>{var r;(r=e.target.value).length>9||/^[0-9a-fA-F#]*$/.test(r)&&(r.indexOf("#")>0||(r.match(/#/g)||[]).length>1||t(r))},className:"w-full px-2 py-1.5 text-xs border border-gray-200 rounded focus:border-blue-400 focus:outline-none transition-colors font-mono uppercase text-center"}),(0,Xe.jsx)("span",{className:"text-[9px] uppercase text-gray-400 font-bold text-center",children:"Hex"})]}):"rgb"===d?(0,Xe.jsx)("div",{className:"grid grid-cols-4 gap-1",children:["r","g","b","a"].map(e=>(0,Xe.jsxs)("div",{className:"flex flex-col gap-1 text-center",children:[(0,Xe.jsx)("input",{type:"text",inputMode:"a"===e?"decimal":"numeric",value:y[e],onChange:t=>N("rgb",e,t.target.value),className:"w-full px-1 py-1.5 text-xs border border-gray-200 rounded focus:border-blue-400 focus:outline-none transition-colors font-mono text-center"}),(0,Xe.jsx)("span",{className:"text-[9px] uppercase text-gray-400 font-bold",children:e})]},e))}):(0,Xe.jsx)("div",{className:"grid grid-cols-4 gap-1",children:["h","s","l","a"].map(e=>(0,Xe.jsxs)("div",{className:"flex flex-col gap-1 text-center",children:[(0,Xe.jsx)("input",{type:"text",inputMode:"a"===e?"decimal":"numeric",value:w[e],onChange:t=>N("hsl",e,t.target.value),className:"w-full px-1 py-1.5 text-xs border border-gray-200 rounded focus:border-blue-400 focus:outline-none transition-colors font-mono text-center"}),(0,Xe.jsx)("span",{className:"text-[9px] uppercase text-gray-400 font-bold",children:e})]},e))})]}),n&&o.length>0&&(0,Xe.jsxs)("div",{className:"border-t border-gray-100 mt-3 pt-3",children:[(0,Xe.jsx)("span",{className:"text-[10px] uppercase text-gray-400 font-bold ml-1 mb-2 block",children:(0,Tr.__)("Presets","productbay")}),(0,Xe.jsx)("div",{className:"grid grid-cols-8 gap-1.5",children:o.map((r,a)=>(0,Xe.jsx)("button",{type:"button",className:Sr("w-4 h-4 rounded-sm border border-black/5 hover:scale-125 transition-transform cursor-pointer",e.toLowerCase()===r.toLowerCase()&&"ring-1 ring-blue-500 ring-offset-1"),style:{backgroundColor:r},onClick:()=>t(r),title:r},`${r}-${a}`))})]}),(0,Xe.jsx)("div",{className:"absolute -top-1.5 left-4 w-3 h-3 bg-white border-t border-l border-gray-100 rotate-45"})]})]})},ho=({title:e,description:t,className:r,isRequired:a=!1})=>(0,Xe.jsxs)("div",{className:Sr("mb-4",r),children:[(0,Xe.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mt-0 mb-1",children:[e,a&&(0,Xe.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,Xe.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:t})]}),mo=({labelBg:e,labelColor:t,bgColor:r,textColor:a,onBgChange:n,onColorChange:s,className:o})=>(0,Xe.jsxs)("div",{className:Sr("grid grid-cols-1 lg:grid-cols-2 gap-4 items-center",o),children:[(0,Xe.jsxs)("div",{className:"flex items-center justify-between lg:gap-8 border border-gray-200 p-2 bg-white",children:[(0,Xe.jsx)("span",{className:"text-sm text-gray-600",children:e}),(0,Xe.jsx)(po,{value:r,onChange:n,triggerMode:"icon"})]}),(0,Xe.jsxs)("div",{className:"flex items-center justify-between lg:gap-8 border border-gray-200 p-2 bg-white",children:[(0,Xe.jsx)("span",{className:"text-sm text-gray-600",children:t}),(0,Xe.jsx)(po,{value:a,onChange:s,triggerMode:"icon"})]})]}),bo=({style:e,setHeaderStyle:t,setBodyStyle:r,setButtonStyle:a,setLayoutStyle:n,setTypographyStyle:s,setHoverStyle:o,className:l})=>{var i;return(0,Xe.jsxs)("div",{className:Sr("w-full p-4 space-y-8",l),children:[(0,Xe.jsxs)("section",{className:"space-y-6",children:[(0,Xe.jsx)(ho,{title:(0,Tr.__)("Colors","productbay"),description:(0,Tr.__)("Customize the visual appearance of your table","productbay")}),(0,Xe.jsxs)("div",{className:"space-y-4 hover:bg-gray-50 px-4 py-2 rounded-md m-0 mb-2",children:[(0,Xe.jsx)("h3",{className:"text-sm font-semibold text-gray-900 m-0 pb-4",children:(0,Tr.__)("Add to Cart Button","productbay")}),(0,Xe.jsx)(mo,{labelBg:(0,Tr.__)("Background","productbay"),labelColor:(0,Tr.__)("Text","productbay"),bgColor:e.button.bgColor||"#2271b1",textColor:e.button.textColor||"#ffffff",onBgChange:e=>a({bgColor:e}),onColorChange:e=>a({textColor:e})}),(0,Xe.jsx)(mo,{labelColor:(0,Tr.__)("Hover Text","productbay"),labelBg:(0,Tr.__)("Hover Background","productbay"),bgColor:e.button.hoverBgColor||"#135e96",textColor:e.button.hoverTextColor||"#ffffff",onBgChange:e=>a({hoverBgColor:e}),onColorChange:e=>a({hoverTextColor:e}),className:"border-none pt-0"})]}),(0,Xe.jsxs)("div",{className:"space-y-4 hover:bg-gray-50 px-4 py-2 rounded-md m-0 mb-2",children:[(0,Xe.jsx)("h3",{className:"text-sm font-semibold text-gray-900 m-0 pb-4",children:(0,Tr.__)("Table Header","productbay")}),(0,Xe.jsx)(mo,{labelColor:(0,Tr.__)("Text","productbay"),labelBg:(0,Tr.__)("Background","productbay"),bgColor:e.header.bgColor||"#f0f0f1",textColor:e.header.textColor||"#333333",onBgChange:e=>t({bgColor:e}),onColorChange:e=>t({textColor:e})})]}),(0,Xe.jsxs)("div",{className:"space-y-4 hover:bg-gray-50 px-4 py-2 rounded-md m-0 mb-2",children:[(0,Xe.jsx)("h3",{className:"text-sm font-semibold text-gray-900 m-0 pb-4",children:(0,Tr.__)("Table Rows","productbay")}),(0,Xe.jsx)(mo,{labelBg:(0,Tr.__)("Background","productbay"),labelColor:(0,Tr.__)("Text","productbay"),bgColor:e.body.bgColor||"#ffffff",textColor:e.body.textColor||"#444444",onBgChange:e=>r({bgColor:e}),onColorChange:e=>r({textColor:e})})]}),(0,Xe.jsxs)("div",{className:"space-y-4 hover:bg-gray-50 px-4 py-2 rounded-md m-0 mb-2",children:[(0,Xe.jsx)(Qs,{className:"px-0",title:(0,Tr.__)("Alternate Rows (Zebra Striping)","productbay"),description:(0,Tr.__)("Improve table readability with alternating row colors","productbay"),children:(0,Xe.jsx)(Js,{checked:e.body.rowAlternate,onChange:e=>r({rowAlternate:e.target.checked})})}),(0,Xe.jsx)("div",{className:Sr("transition-all duration-300 py-2 rounded-md",e.body.rowAlternate?"opacity-100":"opacity-40 pointer-events-none grayscale"),children:(0,Xe.jsx)(mo,{labelBg:(0,Tr.__)("Alternate Background","productbay"),labelColor:(0,Tr.__)("Alternate Text","productbay"),bgColor:e.body.altBgColor||"#f9f9f9",textColor:e.body.altTextColor||"#444444",onBgChange:e=>r({altBgColor:e}),onColorChange:e=>r({altTextColor:e}),className:"border-none py-0"})})]}),(0,Xe.jsxs)("div",{className:"space-y-4 hover:bg-gray-50 px-4 py-2 rounded-md m-0 mb-2",children:[(0,Xe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xe.jsxs)("div",{children:[(0,Xe.jsx)("h3",{className:"text-sm font-semibold text-gray-900 block m-0",children:(0,Tr.__)("Row Hover Effect","productbay")}),(0,Xe.jsx)("p",{className:"text-xs text-gray-500 m-0 mt-1",children:(0,Tr.__)("Highlight rows when mouse hovers over them","productbay")})]}),(0,Xe.jsx)(Js,{checked:e.hover.rowHoverEnabled,onChange:e=>o({rowHoverEnabled:e.target.checked})})]}),(0,Xe.jsx)("div",{className:Sr("transition-all duration-300 px-4 py-2 rounded-md",e.hover.rowHoverEnabled?"opacity-100":"opacity-40 pointer-events-none grayscale"),children:(0,Xe.jsx)(mo,{labelBg:(0,Tr.__)("Hover Background","productbay"),labelColor:(0,Tr.__)("Hover Text","productbay"),bgColor:e.hover.rowHoverBgColor||"#f5f5f5",textColor:e.hover.rowHoverTextColor||"",onBgChange:e=>o({rowHoverBgColor:e}),onColorChange:e=>o({rowHoverTextColor:e}),className:"border-none py-0"})})]})]}),(0,Xe.jsxs)("section",{className:"space-y-6",children:[(0,Xe.jsx)(ho,{title:(0,Tr.__)("Layout & Spacing","productbay"),description:(0,Tr.__)("Configure table borders and spacing","productbay")}),(0,Xe.jsx)(Qs,{title:(0,Tr.__)("Border Style","productbay"),description:(0,Tr.__)("Table border appearance","productbay"),children:(0,Xe.jsx)("div",{className:"w-36",children:(0,Xe.jsx)(Xs,{size:"sm",value:e.layout.borderStyle,onChange:e=>n({borderStyle:e}),options:[{label:(0,Tr.__)("None","productbay"),value:"none"},{label:(0,Tr.__)("Solid","productbay"),value:"solid"},{label:(0,Tr.__)("Dashed","productbay"),value:"dashed"}]})})}),(0,Xe.jsx)("div",{className:Sr("transition-all duration-300 m-0","none"!==e.layout.borderStyle?"opacity-100":"opacity-40 pointer-events-none grayscale"),children:(0,Xe.jsx)(Qs,{title:(0,Tr.__)("Border Color","productbay"),description:(0,Tr.__)("Color of table borders","productbay"),children:(0,Xe.jsx)(po,{value:e.layout.borderColor||"#e5e5e5",onChange:e=>n({borderColor:e})})})}),(0,Xe.jsx)("div",{className:"space-y-4 hover:bg-gray-50 px-4 py-2 rounded-md m-0 mb-2",children:(0,Xe.jsx)(Qs,{className:"px-0",title:(0,Tr.__)("Border Radius","productbay"),description:(0,Tr.__)("Corner roundness of the table","productbay"),children:(0,Xe.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,Xe.jsx)(Js,{checked:null===(i=e.layout.borderRadiusEnabled)||void 0===i||i,onChange:e=>n({borderRadiusEnabled:e.target.checked})}),(0,Xe.jsxs)("div",{className:Sr("flex items-center gap-2",e.layout.borderRadiusEnabled?"opacity-100":"opacity-40 pointer-events-none grayscale"),children:[(0,Xe.jsx)("input",{type:"number",min:"0",max:"24",value:parseInt(e.layout.borderRadius)||0,onChange:e=>n({borderRadius:`${e.target.value}px`}),className:"w-20 h-9 px-3 py-2 text-center border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"}),(0,Xe.jsx)("span",{className:"text-sm text-gray-500",children:"px"})]})]})})}),(0,Xe.jsx)(Qs,{title:(0,Tr.__)("Cell Padding","productbay"),description:(0,Tr.__)("Amount of space inside table cells","productbay"),children:(0,Xe.jsx)("div",{className:"w-36",children:(0,Xe.jsx)(Xs,{size:"sm",value:e.layout.cellPadding,onChange:e=>n({cellPadding:e}),options:[{label:(0,Tr.__)("Compact","productbay"),value:"compact"},{label:(0,Tr.__)("Normal","productbay"),value:"normal"},{label:(0,Tr.__)("Spacious","productbay"),value:"spacious"}]})})})]}),(0,Xe.jsxs)("section",{className:"space-y-6",children:[(0,Xe.jsx)(ho,{title:(0,Tr.__)("Typography","productbay"),description:(0,Tr.__)("Font styling options","productbay")}),(0,Xe.jsx)(Qs,{title:(0,Tr.__)("Header Font Weight","productbay"),description:(0,Tr.__)("Weight of text in table header row","productbay"),children:(0,Xe.jsx)("div",{className:"w-36",children:(0,Xe.jsx)(Xs,{size:"sm",value:e.typography.headerFontWeight,onChange:e=>s({headerFontWeight:e}),options:[{label:(0,Tr.__)("Normal","productbay"),value:"normal"},{label:(0,Tr.__)("Bold","productbay"),value:"bold"},{label:(0,Tr.__)("Extra Bold","productbay"),value:"extrabold"}]})})}),(0,Xe.jsx)(Qs,{title:(0,Tr.__)("Header Text Transform","productbay"),description:(0,Tr.__)("Capitalization of text in table header row","productbay"),children:(0,Xe.jsx)("div",{className:"w-36",children:(0,Xe.jsx)(Xs,{size:"sm",value:e.typography.headerTextTransform||"uppercase",onChange:e=>s({headerTextTransform:e}),options:[{label:(0,Tr.__)("Uppercase","productbay"),value:"uppercase"},{label:(0,Tr.__)("Lowercase","productbay"),value:"lowercase"},{label:(0,Tr.__)("Capitalize","productbay"),value:"capitalize"},{label:(0,Tr.__)("Normal","productbay"),value:"normal-case"}]})})})]})]})},go=({title:e,description:t,children:r})=>(0,Xe.jsxs)("section",{className:"space-y-6",children:[(0,Xe.jsx)(ho,{title:e,description:t}),(0,Xe.jsx)("div",{className:"",children:r})]}),xo=({settings:e,setFeatures:t,setPagination:r,setCart:a,className:n})=>(0,Xe.jsxs)("div",{className:Sr("w-full p-4 space-y-8",n),children:[(0,Xe.jsxs)(go,{title:(0,Tr.__)("Table Controls","productbay"),description:(0,Tr.__)("Configure table functionality and user controls","productbay"),children:[(0,Xe.jsx)(Qs,{title:(0,Tr.__)("Enable Search Bar","productbay"),description:(0,Tr.__)("Allow users to search through products","productbay"),children:(0,Xe.jsx)(Js,{checked:e.features.search,onChange:e=>t({search:e.target.checked})})}),(0,Xe.jsx)(Qs,{title:(0,Tr.__)("Enable Pagination","productbay"),description:(0,Tr.__)("Break large product lists into pages","productbay"),children:(0,Xe.jsx)(Js,{checked:e.features.pagination,onChange:e=>t({pagination:e.target.checked})})}),(0,Xe.jsx)(Qs,{title:(0,Tr.__)("Products Per Page","productbay"),description:(0,Tr.__)("Number of products to display per page","productbay"),children:(0,Xe.jsx)("input",{type:"number",min:"1",max:"500",value:e.pagination.limit,onChange:e=>r({limit:parseInt(e.target.value)||10}),className:"w-24 h-9 px-3 py-2 text-center border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})})]}),(0,Xe.jsxs)(go,{title:(0,Tr.__)("Cart / Functionality","productbay"),description:(0,Tr.__)("Configure Add to Cart behavior","productbay"),children:[(0,Xe.jsx)(Qs,{title:(0,Tr.__)("AJAX Add to Cart","productbay"),description:(0,Tr.__)("Add products to cart inline without page reload. When disabled, button links to product page instead.","productbay"),children:(0,Xe.jsx)(Js,{checked:e.cart.enable,onChange:e=>a({enable:e.target.checked})})}),(0,Xe.jsx)("div",{className:Sr("transition-all duration-300",e.cart.enable?"opacity-100":"opacity-40 pointer-events-none grayscale"),children:(0,Xe.jsx)(Qs,{title:(0,Tr.__)("Show Quantity Selector","productbay"),description:(0,Tr.__)("Display quantity input next to add-to-cart button","productbay"),children:(0,Xe.jsx)(Js,{checked:e.cart.showQuantity,onChange:e=>a({showQuantity:e.target.checked})})})})]})]}),fo=ot("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),yo=ot("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),vo=ot("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),wo=({options:e,value:t,onChange:r,name:a,className:n,cardClassName:s,disabled:o=!1,"aria-label":l})=>(0,Xe.jsx)("div",{role:"radiogroup","aria-label":l,className:Sr("flex flex-wrap gap-3",n),children:e.map((n,l)=>{const i=t===n.value,c=o||n.disabled;return(0,Xe.jsxs)("label",{className:Sr("relative flex flex-1 min-w-[180px] cursor-pointer rounded-lg border p-4 transition-all duration-200",i&&["border-blue-600 bg-blue-600 text-white","shadow-md"],!i&&["border-gray-200 bg-gray-50 text-gray-900","hover:border-gray-300 hover:bg-gray-100"],c&&["cursor-not-allowed opacity-50","hover:border-gray-200 hover:bg-gray-50"],s),children:[(0,Xe.jsx)("input",{type:"radio",name:a,value:n.value,checked:i,onChange:()=>!c&&r(n.value),onKeyDown:t=>((t,n)=>{const s=e.filter(e=>!e.disabled&&!o),l=s.findIndex(t=>t.value===e[n].value);let i=null;switch(t.key){case"ArrowRight":case"ArrowDown":t.preventDefault(),i=(l+1)%s.length;break;case"ArrowLeft":case"ArrowUp":t.preventDefault(),i=(l-1+s.length)%s.length;break;default:return}if(null!==i){const e=s[i];r(e.value);const t=document.querySelector(`input[name="${a}"][value="${e.value}"]`);t?.focus()}})(t,l),disabled:c,className:"sr-only peer","aria-describedby":n.helpText?`${a}-${n.value}-help`:void 0}),(0,Xe.jsx)("span",{className:Sr("flex h-5 w-5 shrink-0 items-center justify-center rounded-full border-2 mr-3 mt-0.5 transition-colors",i&&"border-white bg-transparent",!i&&"border-gray-400 bg-white"),"aria-hidden":"true",children:i&&(0,Xe.jsx)("span",{className:"h-2.5 w-2.5 rounded-full bg-white"})}),(0,Xe.jsxs)("div",{className:"flex flex-col",children:[(0,Xe.jsx)("span",{className:"font-semibold text-sm leading-tight",children:n.label}),n.helpText&&(0,Xe.jsx)("span",{id:`${a}-${n.value}-help`,className:Sr("mt-1 text-xs leading-tight",i?"text-blue-100":"text-gray-500"),children:n.helpText})]}),(0,Xe.jsx)("span",{className:"absolute inset-0 rounded-lg ring-2 ring-blue-500 ring-offset-2 opacity-0 peer-focus-visible:opacity-100 pointer-events-none","aria-hidden":"true"})]},n.value)})});wo.displayName="CardRadioGroup";const jo=[{value:"all",label:(0,Tr.__)("All Products","productbay"),helpText:(0,Tr.__)("Display all published products from your store","productbay")},{value:"sale",label:(0,Tr.__)("On Sale","productbay"),helpText:(0,Tr.__)("Only products with active sale prices","productbay")},{value:"category",label:(0,Tr.__)("By Category","productbay"),helpText:(0,Tr.__)("Select specific product categories","productbay")},{value:"specific",label:(0,Tr.__)("Specific Products","productbay"),helpText:(0,Tr.__)("Hand-pick individual products","productbay")}],No=({source:e,setSourceType:t,className:r,children:a})=>(0,Xe.jsx)("div",{className:Sr("w-full p-4 space-y-8",r),children:(0,Xe.jsxs)("section",{children:[(0,Xe.jsx)(ho,{title:(0,Tr.__)("Product Source","productbay"),description:(0,Tr.__)("Choose which products to display","productbay"),isRequired:!0}),(0,Xe.jsx)(wo,{name:"source-type",options:jo,value:e.type,onChange:t,"aria-label":(0,Tr.__)("Select product source","productbay"),className:"grid grid-cols-1 md:grid-cols-2 gap-3",cardClassName:"min-w-0"}),a&&(0,Xe.jsx)("div",{className:"mt-6",children:a})]})});var _o=n(6);const ko=({tabs:e,value:t,onChange:r,children:a,className:n,tabListClassName:s,tabClassName:o,contentClassName:l,disabled:i=!1,"aria-label":c})=>(0,Xe.jsxs)("div",{className:Sr("w-full",n),children:[(0,Xe.jsx)("div",{role:"tablist","aria-label":c,className:Sr("flex",s),children:e.map((a,n)=>{const s=t===a.value,l=i||a.disabled;return(0,Xe.jsxs)("button",{type:"button",role:"tab","data-tab-value":a.value,"aria-selected":s,"aria-controls":`tabpanel-${a.value}`,tabIndex:s?0:-1,disabled:l,onClick:()=>!l&&r(a.value),onKeyDown:t=>((t,a)=>{const n=e.filter(e=>!e.disabled&&!i),s=n.findIndex(t=>t.value===e[a].value);let o=null;switch(t.key){case"ArrowRight":case"ArrowDown":t.preventDefault(),o=(s+1)%n.length;break;case"ArrowLeft":case"ArrowUp":t.preventDefault(),o=(s-1+n.length)%n.length;break;case"Home":t.preventDefault(),o=0;break;case"End":t.preventDefault(),o=n.length-1;break;default:return}if(null!==o){const e=n[o];r(e.value);const t=document.querySelector(`[data-tab-value="${e.value}"]`);t?.focus()}})(t,n),className:Sr("relative flex items-center justify-center gap-2 px-4 py-3 text-sm font-semibold transition-colors duration-200 bg-transparent rounded-t-lg","focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-1",s&&["text-blue-600","bg-white","-mb-px","border border-gray-200 border-b-white"],!s&&["text-gray-600 cursor-pointer","hover:text-gray-900 hover:bg-gray-50"],l&&["cursor-not-allowed opacity-50","hover:text-gray-600 hover:bg-transparent"],o),children:[a.icon&&(0,Xe.jsx)("span",{className:"inline-flex items-center flex-shrink-0 [&>svg]:w-4 [&>svg]:h-4","aria-hidden":"true",children:a.icon}),(0,Xe.jsx)("span",{children:a.label})]},a.value)})}),a&&(0,Xe.jsx)("div",{role:"tabpanel",id:`tabpanel-${t}`,"aria-labelledby":`tab-${t}`,tabIndex:0,className:Sr("p-4 bg-white border border-gray-200 rounded-b-lg rounded-tr-lg",l),children:a})]});ko.displayName="Tabs";const Co=({isOpen:e,onClose:t,title:r,className:a,children:n,primaryButton:o,secondaryButton:l,maxWidth:i="md",closeOnEsc:c=!0,closeOnBackdropClick:d=!0,fullScreen:u=!1,header:p,hideFooter:h=!1})=>{const m=(0,s.useRef)(null);if((0,s.useEffect)(()=>{if(!c)return;const r=r=>{"Escape"===r.key&&e&&t()};return e&&document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}},[e,t,c]),!e)return null;const b=document.getElementById("productbay-root")||document.body,g=(e="primary")=>{switch(e){case"danger":return"destructive";case"success":return"success";case"secondary":return"outline";default:return"default"}},x={text:(0,Tr.__)("Cancel","productbay"),onClick:t,variant:"ghost"},f=l||x;return(0,Kr.createPortal)((0,Xe.jsxs)("div",{className:Sr("fixed inset-0 z-[60000] flex items-center justify-center bg-black/75",!u&&"p-4"),onClick:e=>{d&&e.target===e.currentTarget&&t()},children:[(0,Xe.jsxs)("div",{ref:m,className:Sr("bg-white shadow-xl flex flex-col transform transition-all animate-in scale-in duration-300",u?"w-full h-full":"rounded-lg w-full mx-4",!u&&{sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl",full:"max-w-full"}[i],a),children:[p||r&&(0,Xe.jsxs)("div",{className:"flex items-center justify-between bg-white px-6 py-4 mt-8",children:[(0,Xe.jsx)("h3",{className:"text-lg font-bold text-gray-900 m-0",children:r}),u&&(0,Xe.jsxs)(Ir,{variant:"ghost",size:"icon",onClick:t,className:"bg-transparent hover:bg-gray-100 cursor-pointer",children:[(0,Xe.jsx)("span",{className:"sr-only",children:(0,Tr.__)("Close","productbay")}),(0,Xe.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-x",children:[(0,Xe.jsx)("path",{d:"M18 6 6 18"}),(0,Xe.jsx)("path",{d:"m6 6 12 12"})]})]})]}),(0,Xe.jsx)("div",{className:Sr("flex-1 overflow-auto m-0",!u&&"p-6 text-gray-600 text-sm leading-relaxed"),children:n}),!h&&(o||void 0!==l)&&(0,Xe.jsxs)("div",{className:"flex justify-end gap-3 px-6 py-4",children:[(0,Xe.jsxs)(Ir,{variant:g(f.variant),onClick:f.onClick,disabled:f.disabled,className:Sr("secondary"===f.variant&&"cursor-pointer bg-white border-transparent hover:border-gray-200 text-gray-700 hover:bg-gray-50"),children:[f.icon&&(0,Xe.jsx)("span",{className:"mr-2",children:f.icon}),f.text]}),o&&(0,Xe.jsxs)(Ir,{variant:g(o.variant),onClick:o.onClick,disabled:o.disabled,className:"cursor-pointer flex items-center",children:[o.text,o.icon&&(0,Xe.jsx)("span",{className:"ml-2",children:o.icon})]})]})]}),c&&!u&&(0,Xe.jsxs)("p",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 text-sm text-white/70 bg-black px-4 py-1 rounded-full drop-shadow-lg flex items-center gap-2 pointer-events-none",children:[(0,Tr.__)("To Close, Press","productbay")," ",(0,Xe.jsx)("kbd",{className:"mx-1 px-1.5 rounded-full text-xs bg-white text-black font-mono",children:"Esc"})]})]}),b)},So=(e,t,r="tab")=>{const[a,n]=function(e){u("undefined"!=typeof URLSearchParams,"You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=s.useRef(Ce(e)),r=s.useRef(!1),a=ae(),n=s.useMemo(()=>function(e,t){let r=Ce(e);return t&&t.forEach((e,a)=>{r.has(a)||t.getAll(a).forEach(e=>{r.append(a,e)})}),r}(a.search,r.current?null:t.current),[a.search]),o=oe(),l=s.useCallback((e,t)=>{const a=Ce("function"==typeof e?e(new URLSearchParams(n)):e);r.current=!0,o("?"+a,t)},[o,n]);return[n,l]}(),o=(0,s.useCallback)(()=>{const n=a.get(r);return t.includes(n)?n:e},[a,e,t,r]),l=(0,s.useCallback)(e=>{n(t=>{const a=new URLSearchParams(t);return a.set(r,e),a},{replace:!0})},[n,r]);return[o(),l]},Eo=(0,s.memo)(({settings:e,setSettings:t,loading:r})=>{var a;return r?(0,Xe.jsxs)("div",{className:"p-6",children:[(0,Xe.jsx)("div",{className:"h-7 w-40 bg-gray-200 rounded animate-pulse mb-6"}),(0,Xe.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-100 rounded-lg",children:[(0,Xe.jsxs)("div",{className:"space-y-2",children:[(0,Xe.jsx)("div",{className:"h-5 w-48 bg-gray-200 rounded animate-pulse"}),(0,Xe.jsx)("div",{className:"h-4 w-64 bg-gray-200 rounded animate-pulse"})]}),(0,Xe.jsx)(Br,{className:"h-6 w-11 rounded-full"})]})]}):(0,Xe.jsxs)("div",{className:"p-6",children:[(0,Xe.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mt-0 mb-4",children:(0,Tr.__)("Admin Bar","productbay")}),(0,Xe.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 bg-gray-50 rounded-lg",children:[(0,Xe.jsxs)("div",{children:[(0,Xe.jsx)("span",{className:"font-medium text-gray-800",children:(0,Tr.__)("Show in Admin Bar","productbay")}),(0,Xe.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:(0,Tr.__)("Display ProductBay menu in the WordPress admin bar at the top of the page for quick access.","productbay")})]}),(0,Xe.jsx)(Js,{checked:null===(a=e.show_admin_bar)||void 0===a||a,onChange:r=>t({...e,show_admin_bar:r.target.checked}),disabled:r,className:"flex-shrink-0 border-gray-200"})]})]})}),Ro=(0,s.memo)(({settings:e,setSettings:t,loading:r})=>{var a;return r?(0,Xe.jsxs)("div",{className:"p-6",children:[(0,Xe.jsx)("div",{className:"h-7 w-40 bg-gray-200 rounded animate-pulse mb-6"}),(0,Xe.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-100 rounded-lg",children:[(0,Xe.jsxs)("div",{className:"space-y-2",children:[(0,Xe.jsx)("div",{className:"h-5 w-48 bg-gray-200 rounded animate-pulse"}),(0,Xe.jsx)("div",{className:"h-4 w-64 bg-gray-200 rounded animate-pulse"})]}),(0,Xe.jsx)(Br,{className:"h-6 w-11 rounded-full"})]})]}):(0,Xe.jsxs)("div",{className:"p-6",children:[(0,Xe.jsx)("h3",{className:"text-lg font-semibold text-red-600 mt-0 mb-4",children:(0,Tr.__)("Uninstall Options","productbay")}),(0,Xe.jsxs)("div",{className:"flex items-center justify-between p-4 border border-red-100 bg-red-50 rounded-lg",children:[(0,Xe.jsxs)("div",{children:[(0,Xe.jsx)("span",{className:"font-medium text-gray-800",children:(0,Tr.__)("Delete Data on Uninstall","productbay")}),(0,Xe.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:(0,Tr.__)("Enable this to wipe all tables and settings when deleting the plugin.","productbay")})]}),(0,Xe.jsx)(Js,{checked:null===(a=e.delete_on_uninstall)||void 0===a||a,onChange:r=>t({...e,delete_on_uninstall:r.target.checked}),disabled:r,className:"flex-shrink-0 border-gray-200"})]})]})}),Do=s.forwardRef(({className:e,type:t,error:r,...a},n)=>(0,Xe.jsx)("input",{type:t,className:Sr("flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus:border-blue-500 focus:outline-none disabled:cursor-not-allowed disabled:opacity-50",r&&"border-red-500 focus:border-red-500",e),ref:n,"aria-invalid":!!r,...a}));Do.displayName="Input";const To=(0,s.memo)(({loading:e})=>{const[t,r]=(0,s.useState)(!1),[a,n]=(0,s.useState)(""),{resetSettings:o,saving:l}=(0,_o.C)(),{toast:i}=et();return e?(0,Xe.jsxs)("div",{className:"p-6",children:[(0,Xe.jsx)("div",{className:"h-7 w-40 bg-gray-200 rounded animate-pulse mb-6"}),(0,Xe.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-100 rounded-lg",children:[(0,Xe.jsxs)("div",{className:"space-y-2",children:[(0,Xe.jsx)("div",{className:"h-5 w-48 bg-gray-200 rounded animate-pulse"}),(0,Xe.jsx)("div",{className:"h-4 w-64 bg-gray-200 rounded animate-pulse"})]}),(0,Xe.jsx)(Br,{className:"h-10 w-32 rounded"})]})]}):(0,Xe.jsxs)("div",{className:"p-6",children:[(0,Xe.jsx)("h3",{className:"text-lg font-semibold text-red-600 mt-0 mb-4",children:(0,Tr.__)("Clear Data","productbay")}),(0,Xe.jsxs)("div",{className:"flex items-center justify-between p-4 border border-red-200 bg-red-50 rounded-lg",children:[(0,Xe.jsxs)("div",{children:[(0,Xe.jsx)("span",{className:"font-medium text-red-800",children:(0,Tr.__)("Reset to Factory Defaults","productbay")}),(0,Xe.jsx)("p",{className:"text-sm text-red-600 mt-1",children:(0,Tr.__)("This will permanently delete all saved tables, settings, styles, and configurations â€” restoring the plugin to its freshly installed state.","productbay")})]}),(0,Xe.jsxs)(Ir,{variant:"destructive",onClick:()=>r(!0),disabled:l,title:(0,Tr.__)("Reset all data of ProductBay","productbay"),className:"flex-shrink-0 cursor-pointer",children:[(0,Tr.__)("Reset Data","productbay"),(0,Xe.jsx)(fo,{className:"w-4 h-4 ml-2"})]})]}),(0,Xe.jsx)(Co,{isOpen:t,onClose:()=>{r(!1),n("")},title:(0,Tr.__)("Reset All Plugin Data?","productbay"),maxWidth:"sm",closeOnBackdropClick:!0,primaryButton:{text:l?(0,Tr.__)("Resetting...","productbay"):(0,Tr.__)("Yes, Reset Everything","productbay"),onClick:async()=>{try{var e;const t=await o(),a=null!==(e=t?.deleted_tables)&&void 0!==e?e:0;i({title:(0,Tr.__)("Factory Reset Complete","productbay"),description:a>0?`${a} ${1===a?(0,Tr.__)("table","productbay"):(0,Tr.__)("tables","productbay")} ${(0,Tr.__)("deleted. All data has been reset to factory defaults. Reloading...","productbay")}`:(0,Tr.__)("All data has been reset to factory defaults. Reloading...","productbay"),type:"success"}),r(!1),n(""),setTimeout(()=>{window.location.reload()},1500)}catch(e){i({title:(0,Tr.__)("Reset Failed","productbay"),description:(0,Tr.__)("Failed to reset plugin data. Please try again.","productbay"),type:"error"})}},variant:"danger",icon:(0,Xe.jsx)(fo,{className:"w-4 h-4"}),disabled:l||"RESET"!==a},secondaryButton:{text:(0,Tr.__)("Cancel","productbay"),onClick:()=>{r(!1),n("")},variant:"secondary",disabled:l},children:(0,Xe.jsxs)("div",{className:"space-y-4",children:[(0,Xe.jsx)("p",{className:"text-gray-800 font-medium m-0",children:(0,Tr.__)("This action is irreversible.","productbay")}),(0,Xe.jsx)("p",{className:"text-gray-600 m-0 text-sm",children:(0,Tr.__)("This will delete all your saved tables and reset every setting to factory defaults. The plugin will return to its freshly installed state. This cannot be undone.","productbay")}),(0,Xe.jsxs)("div",{className:"pt-2",children:[(0,Xe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:(0,Tr.__)('Type "RESET" to confirm:',"productbay")}),(0,Xe.jsx)(Do,{type:"text",value:a,onChange:e=>n(e.target.value),placeholder:(0,Tr.__)("RESET","productbay"),className:"w-full"})]})]})})]})}),Mo=["default","plugin"],Ao=[{value:"default",label:(0,Tr.__)("Default Configuration","productbay")},{value:"plugin",label:(0,Tr.__)("Plugin Settings","productbay")}],zo=()=>{const[e,t]=(0,s.useState)(!1),{toast:r}=et();return{isCopied:e,copy:(0,s.useCallback)(async(e,a)=>{let n=!1;if(navigator.clipboard&&window.isSecureContext)try{await navigator.clipboard.writeText(e),n=!0}catch(e){console.warn("Clipboard API failed, trying fallback...",e)}if(!n)try{const t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",document.body.appendChild(t),t.focus(),t.select(),n=document.execCommand("copy"),t.remove()}catch(e){console.error("Fallback clipboard copy failed:",e),n=!1}return n?(t(!0),r({title:(0,Tr.__)("Copied","productbay"),description:a||(0,Tr.__)("Text copied to clipboard","productbay"),type:"success"}),setTimeout(()=>{t(!1)},2e3),!0):(r({title:(0,Tr.__)("Error","productbay"),description:(0,Tr.__)("Failed to copy to clipboard. Please copy manually.","productbay"),type:"error"}),!1)},[r])}},Lo=s.createContext(void 0),Po=()=>{const e=s.useContext(Lo);if(!e)throw new Error("Dropdown components must be used within a DropdownMenu");return e},Io=({children:e})=>{const[t,r]=s.useState(!1),a=s.useRef(null),n=s.useRef(null);return s.useEffect(()=>{const e=e=>{a.current&&!a.current.contains(e.target)&&r(!1)},s=e=>{"Escape"===e.key&&t&&(r(!1),n.current?.focus())};return t&&(document.addEventListener("mousedown",e),document.addEventListener("keydown",s)),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",s)}},[t]),(0,Xe.jsx)(Lo.Provider,{value:{isOpen:t,setIsOpen:r,triggerRef:n},children:(0,Xe.jsx)("div",{className:"relative inline-block text-left",ref:a,children:e})})},Bo=s.forwardRef(({className:e,children:t,asChild:r,...a},n)=>{const{isOpen:o,setIsOpen:l,triggerRef:i}=Po(),c=e=>{l(!o)},d=s.useCallback(e=>{"function"==typeof n?n(e):n&&(n.current=e),i.current=e},[n,i]);return r&&s.isValidElement(t)?s.cloneElement(t,{ref:d,"aria-expanded":o,"aria-haspopup":"menu",onClick:e=>{c(),t.props.onClick&&t.props.onClick(e)},...a}):(0,Xe.jsx)("button",{ref:d,type:"button","aria-expanded":o,"aria-haspopup":"menu",onClick:c,className:Sr(e),...a,children:t})});Bo.displayName="DropdownMenuTrigger";const $o=s.forwardRef(({className:e,align:t="start",...r},a)=>{const{isOpen:n}=Po();return n?(0,Xe.jsx)("div",{ref:a,role:"menu","aria-orientation":"vertical",className:Sr("absolute z-50 mt-1 min-w-[8rem] max-h-96 overflow-y-auto rounded-md border border-gray-200 bg-white p-1 text-sm text-gray-700 shadow-md animate-in fade-in-80 slide-in-from-top-1","start"===t&&"left-0","end"===t&&"right-0","center"===t&&"left-1/2 -translate-x-1/2",e),...r}):null});$o.displayName="DropdownMenuContent";const Oo=s.forwardRef(({className:e,disabled:t,closeOnSelect:r=!0,onClick:a,...n},s)=>{const{setIsOpen:o}=Po(),l=e=>{t||(a&&a(e),r&&o(!1))};return(0,Xe.jsx)("div",{ref:s,role:"menuitem",tabIndex:t?-1:0,"aria-disabled":t,onClick:l,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),l(e))},className:Sr("relative flex select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors",t?"pointer-events-none opacity-50":"cursor-pointer hover:bg-gray-100 hover:text-gray-900 focus:bg-gray-100 focus:text-gray-900",e),"data-disabled":t?"":void 0,...n})});Oo.displayName="DropdownMenuItem";const Fo=s.forwardRef(({className:e,...t},r)=>(0,Xe.jsx)("div",{ref:r,className:Sr("px-2 py-1.5 text-sm font-semibold",e),...t}));Fo.displayName="DropdownMenuLabel";const Ho=s.forwardRef(({className:e,...t},r)=>(0,Xe.jsx)("div",{ref:r,role:"separator",className:Sr("-mx-1 my-1 h-px bg-gray-100",e),...t}));Ho.displayName="DropdownMenuSeparator",s.forwardRef(({className:e,...t},r)=>(0,Xe.jsx)("div",{ref:r,role:"group",className:Sr(e),...t})).displayName="DropdownMenuGroup";const Wo=ot("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),qo=ot("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),Uo=ot("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),Vo=ot("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),Ko=ot("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),Yo=ot("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Jo=ot("copy-check",[["path",{d:"m12 15 2 2 4-4",key:"2c609p"}],["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Go=ot("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Xo=ot("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Qo=ot("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Zo=[{label:(0,Tr.__)("Delete","productbay"),value:"delete"},{label:(0,Tr.__)("Set Published","productbay"),value:"published"},{label:(0,Tr.__)("Set Private","productbay"),value:"private"}],el=[{label:"10",value:"10"},{label:"20",value:"20"},{label:"50",value:"50"},{label:"100",value:"100"},{label:(0,Tr.__)("Custom","productbay"),value:"custom"}],tl=[{label:(0,Tr.__)("Published","productbay"),value:"publish"},{label:(0,Tr.__)("Private","productbay"),value:"private"}],rl=[{label:(0,Tr.__)("All Products","productbay"),value:"all"},{label:(0,Tr.__)("Specific Products","productbay"),value:"specific"},{label:(0,Tr.__)("Specific Categories","productbay"),value:"category"},{label:(0,Tr.__)("On Sale","productbay"),value:"sale"}],al=()=>{const e=oe();return(0,Xe.jsx)("div",{className:"w-full px-4 md:px-8",children:(0,Xe.jsx)("div",{className:"flex flex-col items-center justify-center text-center bg-gray-50 border-2 border-dashed border-gray-200 rounded-lg p-10",children:(0,Xe.jsxs)("div",{className:"mx-auto",children:[(0,Xe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:(0,Tr.__)("Welcome to ProductBay","productbay")}),(0,Xe.jsx)("p",{className:"text-gray-500 mb-6 text-sm",children:(0,Tr.__)("You haven't created any tables yet. Create your first table to get started!","productbay")}),(0,Xe.jsxs)(Ir,{type:"button",onClick:()=>e($l.path),className:"cursor-pointer inline-flex items-center justify-center px-5 py-2.5 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors shadow-sm",children:[(0,Xe.jsx)(Wr,{size:16,className:"mr-2"}),$l.label]})]})})})},nl=ot("table-properties",[["path",{d:"M15 3v18",key:"14nvp0"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]]),sl=ot("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),ol=ot("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ll=ot("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),il=ot("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]),cl=ot("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),dl=({value:e,error:t,onChange:r,classNames:a,className:n="",disabled:o=!1,placeholder:l="Click to edit..."})=>{const[i,c]=(0,s.useState)(!1),[d,u]=(0,s.useState)(null!=e?e:""),p=(0,s.useRef)(null);(0,s.useEffect)(()=>{u(null!=e?e:"")},[e]);const h=(0,s.useCallback)(()=>{d!==(null!=e?e:"")&&r(d),c(!1),p.current?.blur()},[d,e,r]),m=(0,s.useCallback)(t=>{"Enter"===t.key?h():"Escape"===t.key&&(u(null!=e?e:""),c(!1),p.current?.blur())},[h,e]),b=(0,s.useCallback)(()=>{o||c(!0)},[o]),g=(0,s.useCallback)(()=>{h()},[h]),x=(0,s.useCallback)(e=>{e.stopPropagation(),i?h():p.current?.focus()},[i,h]);return(0,Xe.jsxs)("div",{children:[(0,Xe.jsxs)("div",{className:Sr("group flex items-center gap-2",n,a?.root),children:[(0,Xe.jsx)("input",{ref:p,type:"text",value:d,onChange:e=>u(e.target.value),onFocus:b,onBlur:g,onKeyDown:m,readOnly:o,placeholder:l,style:{width:`${Math.max(d.length,l.length)+2}ch`},className:Sr("bg-transparent shadow-none","text-[#1e1e1e] font-bold text-xl leading-8","px-1 py-0.5","min-w-[100px] max-w-full","border-t-0 border-l-0 border-r-0 border-b-2 rounded-none","focus:outline-none","transition-all duration-200","placeholder:italic",t?"border-red-500":"border-transparent focus:border-blue-500 group-hover:border-blue-300",!i&&"cursor-pointer",o&&"cursor-not-allowed opacity-60",i?a?.input:a?.text)}),!o&&(0,Xe.jsx)("button",{type:"button",onMouseDown:e=>e.preventDefault(),onClick:x,title:i?"Save":"Edit",className:Sr("flex items-center justify-center p-1 rounded-md bg-transparent hover:bg-white transition-colors cursor-pointer",i?"text-blue-400 hover:text-blue-700":"text-gray-400 hover:text-gray-700",a?.iconButton),"aria-label":i?"Done":"Edit",children:i?(0,Xe.jsx)(lt,{className:Sr("size-5",a?.icon)}):(0,Xe.jsx)(cl,{className:Sr("size-5",a?.icon)})})]}),t&&(0,Xe.jsx)("span",{className:"text-red-500 text-sm mt-1",children:t})]})};dl.displayName="EditableText";const ul=({className:e,...t})=>(0,Xe.jsxs)("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,...t,children:[(0,Xe.jsx)("rect",{width:"64",height:"64",rx:"16",fill:"#F05C2A"}),(0,Xe.jsx)("path",{d:"M42.0227 13.4282C46.7355 13.4282 50.5558 17.2487 50.5559 21.9614V42.228C50.5559 46.9409 46.7355 50.7612 42.0227 50.7612H21.7561C17.0433 50.7612 13.2229 46.9408 13.2229 42.228V21.9614C13.223 17.2487 17.0434 13.4283 21.7561 13.4282H42.0227ZM29.2258 46.4946H42.0227C44.3791 46.4946 46.2893 44.5844 46.2893 42.228V31.0278H29.2258V46.4946ZM17.4895 42.228C17.4895 44.5844 19.3997 46.4946 21.7561 46.4946H24.9592V31.0278H17.4895V42.228ZM29.2258 26.7612H46.2893V21.9614C46.2892 19.6051 44.3791 17.6948 42.0227 17.6948H29.2258V26.7612ZM21.7561 17.6948C19.3998 17.6949 17.4896 19.6051 17.4895 21.9614V26.7612H24.9592V17.6948H21.7561Z",fill:"white"})]}),pl=ot("tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]),hl=ot("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),ml=ot("radio",[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),bl=ot("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]]),gl="productbay_categories_cache",xl=(0,$r.v)((e,t)=>({tableId:null,tableTitle:"",tableStatus:"publish",source:{type:"all",queryArgs:{categoryIds:[],tagIds:[],postIds:[],excludes:[],stockStatus:"any",priceRange:{min:0,max:null}},sort:{orderBy:"date",order:"DESC"}},columns:[{id:"col_image_default",type:"image",heading:"Image",advanced:{showHeading:!0,width:{value:92,unit:"px"},visibility:"all",order:1},settings:{imageSize:"thumbnail",linkTarget:"product"}},{id:"col_name_default",type:"name",heading:"Product",advanced:{showHeading:!0,width:{value:0,unit:"auto"},visibility:"all",order:2}},{id:"col_price_default",type:"price",heading:"Price",advanced:{showHeading:!0,width:{value:0,unit:"auto"},visibility:"all",order:3}},{id:"col_button_default",type:"button",heading:"Add to Cart",advanced:{showHeading:!0,width:{value:0,unit:"auto"},visibility:"all",order:4}}],settings:{features:{search:!0,sorting:!0,pagination:!0,export:!1,priceRange:!1,bulkSelect:{enabled:!0,position:"last",width:{value:64,unit:"px"},visibility:"all"}},pagination:{limit:10,position:"bottom"},cart:{enable:!0,method:"button",showQuantity:!0,ajaxAdd:!0},filters:{enabled:!0,activeTaxonomies:["product_cat"]}},style:{header:{bgColor:"#f8f9fa",textColor:"#333333",fontSize:"14px"},body:{bgColor:"#ffffff",textColor:"#555555",rowAlternate:!1,altBgColor:"#f9f9f9",altTextColor:"#555555",borderColor:"#eeeeee"},button:{bgColor:"#2271b1",textColor:"#ffffff",borderRadius:"4px",icon:"cart",hoverBgColor:"#135e96",hoverTextColor:"#ffffff"},layout:{borderStyle:"solid",borderColor:"#e5e7eb",borderRadiusEnabled:!0,borderRadius:"8px",cellPadding:"normal"},typography:{headerFontWeight:"bold",headerTextTransform:"uppercase"},hover:{rowHoverEnabled:!0,rowHoverBgColor:"#f3f4f6",rowHoverTextColor:""},responsive:{mode:"standard"}},isLoading:!1,isSaving:!1,error:null,isDirty:!1,categories:[],categoriesLoading:!1,categoriesLastFetched:null,sourceStats:{},sourceStatsLoading:{},currentStep:1,tableData:{title:"",source_type:"all",columns:[{id:"image",label:"Image"},{id:"name",label:"Product Name"},{id:"price",label:"Price"},{id:"add-to-cart",label:"Add to Cart"}],config:{}},setTitle:r=>e({tableTitle:r,isDirty:!0,tableData:{...t().tableData,title:r}}),setStatus:t=>e({tableStatus:t,isDirty:!0}),setSourceType:t=>e(e=>({source:{...e.source,type:t},isDirty:!0,tableData:{...e.tableData,source_type:t}})),setSourceQueryArgs:t=>e(e=>({source:{...e.source,queryArgs:{...e.source.queryArgs,...t}},isDirty:!0,tableData:{...e.tableData,config:{...e.tableData.config,...void 0!==t.categoryIds&&{categories:t.categoryIds},...void 0!==t.postIds&&{products:t.postIds}}}})),setSourceSort:t=>e(e=>({source:{...e.source,sort:{...e.source.sort,...t}},isDirty:!0})),addColumn:t=>e(e=>({columns:[...e.columns,t],isDirty:!0})),updateColumn:(t,r)=>e(e=>({columns:e.columns.map(e=>e.id===t?{...e,...r}:e),isDirty:!0})),removeColumn:t=>e(e=>({columns:e.columns.filter(e=>e.id!==t),isDirty:!0})),reorderColumns:(t,r)=>e(e=>{const a=[...e.columns],[n]=a.splice(t,1);return a.splice(r,0,n),{columns:a.map((e,t)=>({...e,advanced:{...e.advanced,order:t+1}})),isDirty:!0}}),setFeatures:t=>e(e=>({settings:{...e.settings,features:{...e.settings.features,...t}},isDirty:!0})),setPagination:t=>e(e=>({settings:{...e.settings,pagination:{...e.settings.pagination,...t}},isDirty:!0})),setCart:t=>e(e=>({settings:{...e.settings,cart:{...e.settings.cart,...t}},isDirty:!0})),setFilters:t=>e(e=>({settings:{...e.settings,filters:{...e.settings.filters,...t}},isDirty:!0})),setHeaderStyle:t=>e(e=>({style:{...e.style,header:{...e.style.header,...t}},isDirty:!0})),setBodyStyle:t=>e(e=>({style:{...e.style,body:{...e.style.body,...t}},isDirty:!0})),setButtonStyle:t=>e(e=>({style:{...e.style,button:{...e.style.button,...t}},isDirty:!0})),setLayoutStyle:t=>e(e=>({style:{...e.style,layout:{...e.style.layout,...t}},isDirty:!0})),setTypographyStyle:t=>e(e=>({style:{...e.style,typography:{...e.style.typography,...t}},isDirty:!0})),setHoverStyle:t=>e(e=>({style:{...e.style,hover:{...e.style.hover,...t}},isDirty:!0})),setResponsiveStyle:t=>e(e=>({style:{...e.style,responsive:{...e.style.responsive,...t}},isDirty:!0})),resetStore:()=>{const{settings:t}=n(6).C.getState(),r=t.table_defaults||{};e({tableId:null,tableTitle:"",tableStatus:"publish",source:r.source?{type:"all",queryArgs:{categoryIds:[],tagIds:[],postIds:[],excludes:[],stockStatus:"any",priceRange:{min:0,max:null}},sort:{orderBy:"date",order:"DESC"},...r.source}:{type:"all",queryArgs:{categoryIds:[],tagIds:[],postIds:[],excludes:[],stockStatus:"any",priceRange:{min:0,max:null}},sort:{orderBy:"date",order:"DESC"}},columns:r.columns&&r.columns.length>0?r.columns:[{id:"col_image_default",type:"image",heading:"Image",advanced:{showHeading:!0,width:{value:92,unit:"px"},visibility:"all",order:1},settings:{imageSize:"thumbnail",linkTarget:"product"}},{id:"col_name_default",type:"name",heading:"Product",advanced:{showHeading:!0,width:{value:0,unit:"auto"},visibility:"all",order:2}},{id:"col_price_default",type:"price",heading:"Price",advanced:{showHeading:!0,width:{value:0,unit:"auto"},visibility:"all",order:3}},{id:"col_button_default",type:"button",heading:"Add to Cart",advanced:{showHeading:!0,width:{value:0,unit:"auto"},visibility:"all",order:4}}],settings:r.settings?{features:{search:!0,sorting:!0,pagination:!0,export:!1,priceRange:!1,bulkSelect:{enabled:!0,position:"last",width:{value:64,unit:"px"},visibility:"all"}},pagination:{limit:10,position:"bottom"},cart:{enable:!0,method:"button",showQuantity:!0,ajaxAdd:!0},filters:{enabled:!0,activeTaxonomies:["product_cat"]},...r.settings}:{features:{search:!0,sorting:!0,pagination:!0,export:!1,priceRange:!1,bulkSelect:{enabled:!0,position:"last",width:{value:64,unit:"px"},visibility:"all"}},pagination:{limit:10,position:"bottom"},cart:{enable:!0,method:"button",showQuantity:!0,ajaxAdd:!0},filters:{enabled:!0,activeTaxonomies:["product_cat"]}},style:r.style?{header:{bgColor:"#f8f9fa",textColor:"#333333",fontSize:"14px"},body:{bgColor:"#ffffff",textColor:"#555555",rowAlternate:!1,altBgColor:"#f9f9f9",altTextColor:"#555555",borderColor:"#eeeeee"},button:{bgColor:"#2271b1",textColor:"#ffffff",borderRadius:"4px",icon:"cart",hoverBgColor:"#135e96",hoverTextColor:"#ffffff"},layout:{borderStyle:"solid",borderColor:"#e5e7eb",borderRadiusEnabled:!0,borderRadius:"8px",cellPadding:"normal"},typography:{headerFontWeight:"bold",headerTextTransform:"uppercase"},hover:{rowHoverEnabled:!0,rowHoverBgColor:"#f3f4f6",rowHoverTextColor:""},responsive:{mode:"standard"},...r.style}:{header:{bgColor:"#f8f9fa",textColor:"#333333",fontSize:"14px"},body:{bgColor:"#ffffff",textColor:"#555555",rowAlternate:!1,altBgColor:"#f9f9f9",altTextColor:"#555555",borderColor:"#eeeeee"},button:{bgColor:"#2271b1",textColor:"#ffffff",borderRadius:"4px",icon:"cart",hoverBgColor:"#135e96",hoverTextColor:"#ffffff"},layout:{borderStyle:"solid",borderColor:"#e5e7eb",borderRadiusEnabled:!0,borderRadius:"8px",cellPadding:"normal"},typography:{headerFontWeight:"bold",headerTextTransform:"uppercase"},hover:{rowHoverEnabled:!0,rowHoverBgColor:"#f3f4f6",rowHoverTextColor:""},responsive:{mode:"standard"}},isLoading:!1,isSaving:!1,error:null,isDirty:!1,currentStep:1,tableData:{title:"",source_type:"all",columns:[{id:"image",label:"Image"},{id:"name",label:"Product Name"},{id:"price",label:"Price"},{id:"add-to-cart",label:"Add to Cart"}],config:{}}})},loadTable:async t=>{e({isLoading:!0,error:null});try{const r=await(0,Or.n)(`tables/${t}`),a=e=>e&&!Array.isArray(e)&&"object"==typeof e,n=e=>e&&!Array.isArray(e)&&"object"==typeof e,s=e=>e&&!Array.isArray(e)&&"object"==typeof e;e({tableId:r.id,tableTitle:r.title||"",tableStatus:r.status||"private",source:a(r.source)?r.source:{type:"all",queryArgs:{categoryIds:[],tagIds:[],postIds:[],excludes:[],stockStatus:"any",priceRange:{min:0,max:null}},sort:{orderBy:"date",order:"DESC"}},columns:r.columns&&r.columns.length>0?r.columns:[{id:"col_image_default",type:"image",heading:"Image",advanced:{showHeading:!0,width:{value:92,unit:"px"},visibility:"all",order:1},settings:{imageSize:"thumbnail",linkTarget:"product"}},{id:"col_name_default",type:"name",heading:"Product",advanced:{showHeading:!0,width:{value:0,unit:"auto"},visibility:"all",order:2}},{id:"col_price_default",type:"price",heading:"Price",advanced:{showHeading:!0,width:{value:0,unit:"auto"},visibility:"all",order:3}},{id:"col_button_default",type:"button",heading:"Add to Cart",advanced:{showHeading:!0,width:{value:0,unit:"auto"},visibility:"all",order:4}}],settings:n(r.settings)?r.settings:{features:{search:!0,sorting:!0,pagination:!0,export:!1,priceRange:!1,bulkSelect:{enabled:!0,position:"last",width:{value:64,unit:"px"},visibility:"all"}},pagination:{limit:10,position:"bottom"},cart:{enable:!0,method:"button",showQuantity:!0,ajaxAdd:!0},filters:{enabled:!0,activeTaxonomies:["product_cat"]}},style:s(r.style)?r.style:{header:{bgColor:"#f8f9fa",textColor:"#333333",fontSize:"14px"},body:{bgColor:"#ffffff",textColor:"#555555",rowAlternate:!1,altBgColor:"#f9f9f9",altTextColor:"#555555",borderColor:"#eeeeee"},button:{bgColor:"#2271b1",textColor:"#ffffff",borderRadius:"4px",icon:"cart",hoverBgColor:"#135e96",hoverTextColor:"#ffffff"},layout:{borderStyle:"solid",borderColor:"#e5e7eb",borderRadiusEnabled:!0,borderRadius:"8px",cellPadding:"normal"},typography:{headerFontWeight:"bold",headerTextTransform:"uppercase"},hover:{rowHoverEnabled:!0,rowHoverBgColor:"#f3f4f6",rowHoverTextColor:""},responsive:{mode:"standard"}},isDirty:!1,tableData:{title:r.title||"",source_type:r.source?.type||"all",columns:r.columns?.map(e=>({id:e.id,label:e.heading}))||[],config:{categories:r.source?.queryArgs?.categoryIds||[],products:r.source?.queryArgs?.postIds||[]}}})}catch(t){e({error:"Failed to load table data"})}finally{e({isLoading:!1})}},saveTable:async()=>{const r=t();e({isSaving:!0,error:null});try{const t=r.source.type,a={...r.source.queryArgs};"category"!==t&&(a.categoryIds=[]),"specific"!==t&&(a.postIds=[]);const n={id:r.tableId||void 0,title:r.tableTitle,status:r.tableStatus,source:{...r.source,queryArgs:a},columns:r.columns,settings:r.settings,style:r.style},s=await(0,Or.n)("tables",{method:"POST",body:JSON.stringify({data:n})});return s.id&&!r.tableId&&e({tableId:s.id}),e({isDirty:!1}),!0}catch(t){return e({error:"Failed to save table"}),!1}finally{e({isSaving:!1})}},setStep:t=>e({currentStep:t}),setTableData:t=>e(e=>{const r={tableData:{...e.tableData,...t}};return void 0!==t.title&&(r.tableTitle=t.title),void 0!==t.source_type&&(r.source={...e.source,type:t.source_type}),void 0!==t.config?.categories&&(r.source={...r.source||e.source,queryArgs:{...r.source?.queryArgs||e.source.queryArgs,categoryIds:t.config.categories}}),void 0!==t.config?.products&&(r.source={...r.source||e.source,queryArgs:{...r.source?.queryArgs||e.source.queryArgs,postIds:t.config.products}}),r.isDirty=!0,r}),preloadCategories:async()=>{if(!t().categoriesLoading){e({categoriesLoading:!0});try{const t=localStorage.getItem(gl);if(t){const r=JSON.parse(t);if(Date.now()-r.timestamp<18e5)return void e({categories:r.categories,categoriesLastFetched:r.timestamp,categoriesLoading:!1})}const r=await(0,Or.n)("categories"),a=Date.now(),n={categories:r,timestamp:a};localStorage.setItem(gl,JSON.stringify(n)),e({categories:r,categoriesLastFetched:a,categoriesLoading:!1})}catch(t){e({categoriesLoading:!1})}}},refreshCategoriesIfStale:async()=>{const{categoriesLastFetched:r,categoriesLoading:a}=t();if(!a&&r&&Date.now()-r>3e5)try{const t=await(0,Or.n)("categories"),r=Date.now(),a={categories:t,timestamp:r};localStorage.setItem(gl,JSON.stringify(a)),e({categories:t,categoriesLastFetched:r})}catch(e){}},forceReloadCategories:async()=>{e({categoriesLoading:!0});try{const t=await(0,Or.n)("categories"),r=Date.now(),a={categories:t,timestamp:r};localStorage.setItem(gl,JSON.stringify(a)),e({categories:t,categoriesLastFetched:r,categoriesLoading:!1})}catch(t){e({categoriesLoading:!1})}},fetchSourceStats:async r=>{const{sourceStatsLoading:a,sourceStats:n}=t();if(a[r])console.log(`[SourceStats] Already loading ${r}, skipping...`);else if("category"!==r&&"specific"!==r){e(e=>({sourceStatsLoading:{...e.sourceStatsLoading,[r]:!0}}));try{console.log(`[SourceStats] Fetching stats for source type: ${r}`);const t=await(0,Or.n)(`source-stats?type=${r}`);e(e=>({sourceStats:{...e.sourceStats,[r]:t},sourceStatsLoading:{...e.sourceStatsLoading,[r]:!1}})),console.log(`[SourceStats] Stats loaded for ${r}:`,t)}catch(t){console.error(`[SourceStats] Failed to fetch stats for ${r}:`,t),e(e=>({sourceStatsLoading:{...e.sourceStatsLoading,[r]:!1}}))}}}})),fl=Lr("relative w-full rounded-lg border px-4 py-3 text-sm flex items-start gap-3",{variants:{variant:{default:"bg-gray-50 border-gray-200 text-gray-800",destructive:"bg-red-50 border-red-200 text-red-800",warning:"bg-amber-50 border-amber-200 text-amber-800",success:"bg-green-50 border-green-200 text-green-800"}},defaultVariants:{variant:"default"}}),yl=({className:e,variant:t,...r})=>(0,Xe.jsx)("div",{"data-slot":"alert",role:"alert",className:Sr(fl({variant:t}),e),...r}),vl=({className:e,...t})=>(0,Xe.jsx)("div",{"data-slot":"alert-description",className:Sr("text-sm [&_p]:leading-relaxed",e),...t}),wl={desktop:1200,tablet:768,mobile:375},jl=({className:e})=>{const{tableId:t,tableTitle:r,tableStatus:a,source:n,columns:o,settings:l,style:i}=xl(),{toast:c}=et(),d=function(e){const[t,r]=(0,s.useState)(e);return(0,s.useEffect)(()=>{const t=setTimeout(()=>{r(e)},500);return()=>{clearTimeout(t)}},[e,500]),t}((0,s.useMemo)(()=>({id:t,title:r,status:a,source:n,columns:o,settings:l,style:i}),[t,r,a,n,o,l,i])),[u,p]=(0,s.useState)(""),[h,m]=(0,s.useState)(""),[b,g]=(0,s.useState)(!1),[x,f]=(0,s.useState)(null),[y,v]=(0,s.useState)(!1),[w,j]=(0,s.useState)(400),[N,_]=(0,s.useState)(0),[k,C]=(0,s.useState)("desktop"),S=(0,s.useRef)(null),[E,R]=(0,s.useState)(0),D=(0,s.useCallback)(async()=>{g(!0),f(null);try{const e=await(0,Or.n)("preview",{method:"POST",body:JSON.stringify({data:d})});if(!e||"string"!=typeof e.html)throw new Error("Invalid response format");p(e.html),e.cssUrl&&m(e.cssUrl)}catch(e){f(e instanceof Error?e.message:"Failed to load preview"),console.error("Preview Error:",e)}finally{g(!1)}},[d]);(0,s.useEffect)(()=>{D()},[D,E]);const T=(0,s.useCallback)(e=>{const t=e.data;if(t&&"object"==typeof t&&("resize"===t.type&&"number"==typeof t.height&&j(t.height),"addToCart"===t.type&&Array.isArray(t.productIds))){const e=t.productIds.length;c({title:(0,Tr.__)("Preview Only","productbay"),description:`${e} product${e>1?"s":""} would be added to cart. Save and use the shortcode to enable real Add to Cart.`,type:"info",duration:4e3})}},[c]);(0,s.useEffect)(()=>(window.addEventListener("message",T),()=>window.removeEventListener("message",T)),[T]);const M=(0,s.useMemo)(()=>u&&h?((e,t)=>`\n<!DOCTYPE html>\n<html>\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <link rel="stylesheet" href="${t}" />\n    <style>\n        /* Iframe body setup â€” the scoped reset is in frontend.css */\n        body {\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;\n            font-size: 14px;\n            color: #334155;\n            background: transparent;\n            padding: 16px;\n            margin: 0;\n            overflow-x: hidden;\n        }\n        .productbay-wrapper { width: 100%; }\n        table { width: 100%; }\n    </style>\n</head>\n<body>\n    ${e}\n    \n<script>\n(function() {\n    var selectedProducts = {};\n\n    /**\n     * Recalculate selected count/total and update the bulk button text.\n     */\n    function updateBulkButton() {\n        var btn = document.querySelector('.productbay-btn-bulk');\n        if (!btn) return;\n\n        var keys = Object.keys(selectedProducts);\n        var count = keys.length;\n        var total = 0;\n        keys.forEach(function(k) { total += selectedProducts[k]; });\n\n        if (count > 0) {\n            btn.textContent = 'Add ' + count + ' item' + (count > 1 ? 's' : '') + ' for $' + total.toFixed(2);\n            btn.disabled = false;\n        } else {\n            btn.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="16" height="16" style="display:inline-block;vertical-align:middle"><circle cx="9" cy="21" r="1"/><circle cx="20" cy="21" r="1"/><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/></svg> Add to Cart';\n            btn.disabled = true;\n        }\n    }\n\n    /**\n     * Post the current document height to the parent so it can resize the iframe.\n     */\n    function postHeight() {\n        var h = document.documentElement.scrollHeight;\n        window.parent.postMessage({ type: 'resize', height: h }, '*');\n    }\n\n    // --- Event Delegation ---\n    document.addEventListener('change', function(e) {\n        var target = e.target;\n\n        // Select All checkbox\n        if (target.classList.contains('productbay-select-all')) {\n            var boxes = document.querySelectorAll('.productbay-select-product');\n            for (var i = 0; i < boxes.length; i++) {\n                boxes[i].checked = target.checked;\n                var id = boxes[i].value;\n                var price = parseFloat(boxes[i].getAttribute('data-price') || '0');\n                if (target.checked) {\n                    selectedProducts[id] = price;\n                } else {\n                    delete selectedProducts[id];\n                }\n            }\n            updateBulkButton();\n            return;\n        }\n\n        // Individual product checkbox\n        if (target.classList.contains('productbay-select-product')) {\n            var id = target.value;\n            var price = parseFloat(target.getAttribute('data-price') || '0');\n            if (target.checked) {\n                selectedProducts[id] = price;\n            } else {\n                delete selectedProducts[id];\n                // Uncheck "Select All" when any individual is unchecked\n                var selectAll = document.querySelector('.productbay-select-all');\n                if (selectAll) selectAll.checked = false;\n            }\n            updateBulkButton();\n        }\n    });\n\n    // Add to Cart click â€” notify parent via postMessage\n    document.addEventListener('click', function(e) {\n        var btn = e.target.closest('.productbay-btn-bulk');\n        if (btn) {\n            e.preventDefault();\n            if (Object.keys(selectedProducts).length === 0) return;\n            var ids = Object.keys(selectedProducts);\n            window.parent.postMessage({ type: 'addToCart', productIds: ids }, '*');\n        }\n\n        // Intercept all anchor clicks to prevent navigation inside the preview\n        var anchor = e.target.closest('a');\n        if (anchor) {\n            e.preventDefault();\n        }\n    });\n\n    // Auto-resize on load and on any DOM mutation\n    window.addEventListener('load', postHeight);\n    var observer = new MutationObserver(postHeight);\n    observer.observe(document.body, { childList: true, subtree: true });\n\n    // Initial height post after a short delay to ensure rendering is complete\n    setTimeout(postHeight, 100);\n})();\n<\/script>\n\n</body>\n</html>\n`)(u,h):"",[u,h]);(0,s.useEffect)(()=>{const e=()=>{if(S.current){const{width:e}=S.current.getBoundingClientRect(),t=wl[k],r=e<t?e/t:1;_(e=>Math.abs(e-r)>.005?r:e)}};requestAnimationFrame(e);const t=new ResizeObserver(e);return S.current&&t.observe(S.current),()=>t.disconnect()},[k,M]);const A=(e=!1)=>{const t=wl[k];return(0,Xe.jsx)("iframe",{srcDoc:M,title:(0,Tr.__)("Table Preview","productbay"),style:{width:e&&"desktop"===k?"100%":`${t}px`,height:`${w+32}px`,border:"none",display:"block",margin:e?"0 auto":"0",...e?{}:{transform:`scale(${N})`,transformOrigin:"top left"}},sandbox:"allow-scripts"})},z=({showLabels:e=!1})=>(0,Xe.jsxs)("div",{className:"flex items-center gap-1 bg-gray-100 p-1 rounded-md border border-gray-200",children:[(0,Xe.jsxs)("button",{onClick:()=>C("desktop"),className:Sr("flex items-center gap-2 p-1 px-2 border border-transparent rounded cursor-pointer","desktop"===k?"bg-blue-600 text-white shadow-sm":"text-gray-500 hover:bg-white hover:border-blue-600"),title:(0,Tr.__)("Desktop View","productbay"),children:[(0,Xe.jsx)(sl,{className:"w-3.5 h-3.5"}),e&&(0,Xe.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:(0,Tr.__)("Desktop","productbay")})]}),(0,Xe.jsxs)("button",{onClick:()=>C("tablet"),className:Sr("flex items-center gap-2 p-1 px-2 border border-transparent rounded cursor-pointer","tablet"===k?"bg-blue-600 text-white shadow-sm":"text-gray-500 hover:bg-white hover:border-blue-600"),title:(0,Tr.__)("Tablet View","productbay"),children:[(0,Xe.jsx)(pl,{className:"w-3.5 h-3.5"}),e&&(0,Xe.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:(0,Tr.__)("Tablet","productbay")})]}),(0,Xe.jsxs)("button",{onClick:()=>C("mobile"),className:Sr("flex items-center gap-2 p-1 px-2 border border-transparent rounded cursor-pointer","mobile"===k?"bg-blue-600 text-white shadow-sm":"text-gray-500 hover:bg-white hover:border-blue-600"),title:(0,Tr.__)("Mobile View","productbay"),children:[(0,Xe.jsx)(hl,{className:"w-3.5 h-3.5"}),e&&(0,Xe.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:(0,Tr.__)("Mobile","productbay")})]})]}),L=(0,Xe.jsxs)(yl,{variant:"default",className:"w-full bg-blue-50 text-gray-800",children:[(0,Xe.jsx)(ct,{className:"w-4 h-4 shrink-0 mt-0.5 text-blue-600"}),(0,Xe.jsx)(vl,{className:y?"text-sm":"text-xs",children:(0,Tr.__)("Search, pagination, and Add to Cart actions will not work in the Live Preview. Please save the table and use the shortcode on a real page to test these features.","productbay")})]});return(0,Xe.jsxs)("div",{className:Sr("w-full relative flex flex-col",e),children:[(0,Xe.jsxs)("div",{className:"flex gap-2 items-center justify-between mb-0",children:[(0,Xe.jsxs)("div",{className:"relative z-10 inline-flex items-center px-4 py-3 text-sm font-semibold bg-white rounded-t-lg border border-gray-200 border-b-white w-fit",children:[(0,Xe.jsx)(ml,{className:Sr("w-5 h-5 mr-2",b?"animate-pulse text-blue-500":"")}),(0,Tr.__)("Live Preview","productbay")]}),(0,Xe.jsxs)("div",{className:"mb-px flex items-center gap-3",children:[(0,Xe.jsx)(z,{}),(0,Xe.jsx)(Ir,{title:(0,Tr.__)("Full Screen","productbay"),variant:"outline",size:"xs",onClick:()=>v(!0),className:"hover:bg-white hover:border-blue-600 cursor-pointer p-2",children:(0,Xe.jsx)(bl,{className:"w-5 h-5 text-gray-500"})})]})]}),(0,Xe.jsx)("div",{className:"relative -mt-px bg-white rounded-b-lg rounded-tr-lg border border-gray-200 overflow-hidden",children:(0,Xe.jsx)("div",{className:"w-full p-4 bg-gray-50/50 relative overflow-hidden",children:x?(0,Xe.jsxs)("div",{className:"flex flex-col items-center justify-center h-full gap-3",children:[(0,Xe.jsx)(ll,{className:"w-10 h-10 text-red-400"}),(0,Xe.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:x}),(0,Xe.jsxs)("button",{onClick:()=>R(e=>e+1),disabled:b,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors cursor-pointer disabled:opacity-50",children:[(0,Xe.jsx)(vo,{className:Sr("w-4 h-4",b&&"animate-spin")}),b?(0,Tr.__)("Regeneratingâ€¦","productbay"):(0,Tr.__)("Re-render Preview","productbay")]}),(0,Xe.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:(0,Tr.__)("If the issue persists, try reloading the page.","productbay")})]}):M?(0,Xe.jsxs)("div",{className:"flex flex-col gap-4 w-full",children:[(0,Xe.jsxs)("div",{ref:S,className:"w-full origin-top-left relative rounded-md overflow-hidden ring-1 ring-gray-200/50",style:{height:(w+32)*N+"px",transition:"height 0.2s ease-in-out"},children:[A(),b&&(0,Xe.jsx)("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-[1px] flex items-center justify-center rounded-lg animate-pulse transition-opacity",children:(0,Xe.jsx)(il,{className:"w-6 h-6 text-blue-500 animate-spin"})})]}),L]}):(0,Xe.jsx)("div",{className:"flex items-center justify-center h-full text-gray-400",children:b?(0,Xe.jsx)(il,{className:"w-8 h-8 animate-spin"}):(0,Xe.jsx)("p",{children:(0,Tr.__)("Loading preview...","productbay")})})})}),(0,Xe.jsx)(Co,{isOpen:y,onClose:()=>v(!1),fullScreen:!0,hideFooter:!0,header:(0,Xe.jsxs)("div",{className:"flex items-center justify-between bg-white px-6 py-4 mt-8 shadow-sm border-b border-gray-200",children:[(0,Xe.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,Xe.jsx)(ml,{className:"w-6 h-6 text-blue-600"}),(0,Xe.jsx)("h2",{className:"text-lg font-bold text-gray-800 m-0",children:(0,Tr.__)("Table Preview","productbay")})]}),(0,Xe.jsx)("div",{className:"flex-1 flex justify-center",children:(0,Xe.jsx)(z,{showLabels:!0})}),(0,Xe.jsx)("div",{className:"flex-1 flex justify-end",children:(0,Xe.jsxs)(Ir,{variant:"ghost",onClick:()=>v(!1),className:"bg-transparent hover:bg-red-50 border border-transparent hover:border-red-600 cursor-pointer p-2 rounded-full",children:[(0,Xe.jsx)(ut,{className:"w-6 h-6"}),(0,Xe.jsx)("span",{className:"sr-only",children:(0,Tr.__)("Close","productbay")})]})})]}),children:(0,Xe.jsx)("div",{className:"bg-gray-100/95 backdrop-blur-sm min-h-full p-2 md:p-4 xl:p-6 flex flex-col",children:(0,Xe.jsxs)("div",{className:"max-w-[1280px] w-full mx-auto flex flex-col gap-4",children:[M&&L,(0,Xe.jsx)("div",{className:"bg-white min-h-[200px] rounded-lg p-2 xl:p-4 border border-gray-200 shadow-sm",children:M?A(!0):(0,Xe.jsx)("div",{className:"flex items-center justify-center h-64 text-gray-400",children:(0,Xe.jsx)(ul,{className:"animate-pulse size-12"})})})]})})})]})},Nl=()=>{const{settings:e,setFeatures:t,setPagination:r,setCart:a}=xl();return(0,Xe.jsx)(xo,{settings:e,setFeatures:t,setPagination:r,setCart:a})},_l=()=>{const{style:e,setHeaderStyle:t,setBodyStyle:r,setButtonStyle:a,setLayoutStyle:n,setTypographyStyle:s,setHoverStyle:o}=xl();return(0,Xe.jsx)(bo,{style:e,setHeaderStyle:t,setBodyStyle:r,setButtonStyle:a,setLayoutStyle:n,setTypographyStyle:s,setHoverStyle:o})},kl=ot("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),Cl=({content:e,children:t,position:r="top",className:a,delay:n=0,hideDelay:o=150})=>{const[l,i]=s.useState(!1),c=s.useRef(null),d=s.useRef(null),u=()=>{c.current&&(clearTimeout(c.current),c.current=null),d.current&&(clearTimeout(d.current),d.current=null)},p=()=>{u(),l||(c.current=window.setTimeout(()=>i(!0),n))},h=()=>{u(),l&&(d.current=window.setTimeout(()=>i(!1),o))};return s.useEffect(()=>()=>u(),[]),(0,Xe.jsxs)("div",{className:"relative inline-block z-30",onMouseEnter:p,onMouseLeave:h,onFocus:p,onBlur:h,children:[t,l&&(0,Xe.jsxs)("div",{className:Sr("absolute z-[110] px-3 py-1.5 text-xs font-normal text-white bg-gray-800 rounded shadow-lg whitespace-nowrap animate-in fade-in zoom-in-95 duration-150 select-text cursor-auto",{top:"bottom-full left-1/2 -translate-x-1/2 mb-2",bottom:"top-full left-1/2 -translate-x-1/2 mt-2",left:"right-full top-1/2 -translate-y-1/2 mr-2",right:"left-full top-1/2 -translate-y-1/2 ml-2"}[r],a),role:"tooltip",onMouseEnter:p,onMouseLeave:h,children:[(0,Xe.jsx)("span",{className:"relative z-10",children:e}),(0,Xe.jsx)("div",{className:Sr("absolute w-2 h-2 bg-inherit transform rotate-45",{top:"bottom-0 left-1/2 -translate-x-1/2 translate-y-1/2",bottom:"top-0 left-1/2 -translate-x-1/2 -translate-y-1/2",left:"right-0 top-1/2 -translate-y-1/2 translate-x-1/2",right:"left-0 top-1/2 -translate-y-1/2 -translate-x-1/2"}[r])})]})]})},Sl=s.forwardRef(({className:e,variant:t="destructive",size:r="sm",onConfirm:a,onCancel:n,children:o,confirmIcon:l,cancelIcon:i,confirmMessage:c,popoverPosition:d="top",...u},p)=>{const[h,m]=s.useState(!1),b=s.useRef(null);s.useEffect(()=>{if(!h)return;const e=e=>{b.current&&!b.current.contains(e.target)&&m(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[h]);const g={top:"top-full left-1/2 -translate-x-1/2 border-t-white border-x-transparent border-b-transparent",bottom:"bottom-full left-1/2 -translate-x-1/2 border-b-white border-x-transparent border-t-transparent",left:"left-full top-1/2 -translate-y-1/2 border-l-white border-y-transparent border-r-transparent",right:"right-full top-1/2 -translate-y-1/2 border-r-white border-y-transparent border-l-transparent"};return(0,Xe.jsxs)("div",{className:"relative inline-block",ref:b,children:[(0,Xe.jsx)(Ir,{ref:p,variant:t,size:r,className:Sr("cursor-pointer",e),onClick:e=>{e.preventDefault(),e.stopPropagation(),m(!0)},...u,children:o}),h&&(0,Xe.jsxs)("div",{className:Sr("absolute z-[100] flex flex-col items-center animate-in fade-in zoom-in-95 duration-200",{top:"bottom-full left-1/2 -translate-x-1/2 mb-2",bottom:"top-full left-1/2 -translate-x-1/2 mt-2",left:"right-full top-1/2 -translate-y-1/2 mr-2",right:"left-full top-1/2 -translate-y-1/2 ml-2"}[d]),children:[(0,Xe.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg shadow-xl p-1.5 flex items-center gap-1 min-w-max",children:[c&&(0,Xe.jsx)("span",{className:"text-xs font-medium px-2 text-gray-700",children:c}),(0,Xe.jsxs)("div",{className:"flex items-center border border-gray-200 rounded-md",children:[(0,Xe.jsx)("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),a(),m(!1)},className:Sr("flex items-center justify-center p-1.5 bg-transparent transition-colors cursor-pointer","destructive"===t?"text-red-600 hover:bg-red-50":"text-green-600 hover:bg-green-50"),title:"Confirm",children:l||(0,Xe.jsx)(lt,{className:"h-4 w-4 font-bold",strokeWidth:2.5})}),(0,Xe.jsx)("div",{className:"w-px h-4 bg-gray-200 mx-0.5"}),(0,Xe.jsx)("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),n&&n(),m(!1)},className:"flex items-center justify-center p-1.5 bg-transparent text-gray-400 hover:bg-gray-100 hover:text-gray-600 transition-colors cursor-pointer",title:"Cancel",children:i||(0,Xe.jsx)(ut,{className:"h-4 w-4 font-bold",strokeWidth:2.5})})]})]}),(0,Xe.jsx)("div",{className:Sr("absolute w-0 h-0 border-[6px]",g[d].replace(/-white/g,"-gray-100"),"top"===d?"mt-[1px]":"bottom"===d?"mb-[1px]":"left"===d?"ml-[1px]":"mr-[1px]")}),(0,Xe.jsx)("div",{className:Sr("absolute w-0 h-0 border-[5px]",g[d])})]})]})});Sl.displayName="ConfirmButton";const El=ot("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),Rl=()=>{const{tableData:e,setTableData:t}=xl(),[r,a]=(0,s.useState)(""),[n,o]=(0,s.useState)([]),[l,i]=(0,s.useState)(!1),[c,d]=(0,s.useState)(1),[u,p]=(0,s.useState)(!0),[h,m]=(0,s.useState)(!1),b=(0,s.useRef)(null),g=(0,s.useRef)(new Map),[x,f]=(0,s.useState)(new Map),y=(0,s.useCallback)(async(e,t,r=!1)=>{if(e.length>0&&e.length<2)return void(r||o([]));const a=(e=>{const t=e.trim(),r=t.match(/^id:(.+)$/i);if(r)return{type:"id",value:r[1].trim()};const a=t.match(/^sku:(.+)$/i);return a?{type:"sku",value:a[1].trim()}:{type:"name",value:t}})(e),n=`${a.type}:${a.value.toLowerCase()}:page${t}`;if(g.current.has(n)){console.log("[ProductSearch] Cache hit for:",n);const e=g.current.get(n);return o(t=>r?[...t,...e]:e),void p(e.length>=20)}i(!0);try{let e=`products?limit=20&page=${t}`;"id"===a.type?e+=`&include=${a.value}`:"sku"===a.type?e+=`&sku=${encodeURIComponent(a.value)}`:a.value&&(e+=`&search=${encodeURIComponent(a.value)}`);const s=await(0,Or.n)(e);g.current.set(n,s),o(e=>r?[...e,...s]:s),p(s.length>=20),d(t),console.log("[ProductSearch] Fetched and cached:",n)}catch(e){console.error("Failed to search products",e),r||o([])}finally{i(!1)}},[]);(0,s.useEffect)(()=>{if(!h&&0===r.length)return;const e=setTimeout(()=>{y(r,1,!1)},150);return()=>clearTimeout(e)},[r,h,y]),(0,s.useEffect)(()=>{const e=e=>{b.current&&!b.current.contains(e.target)&&m(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,s.useEffect)(()=>{const t=e.config.products||[],r=e.config.productObjects||{},a=new Map;t.forEach(e=>{r[e]&&a.set(e,r[e])}),f(a)},[]);const v=(0,s.useMemo)(()=>new Set(e.config.products||[]),[e.config.products]),w=(0,s.useCallback)(r=>{const a=e.config.products||[],n=e.config.productObjects||{};let s,o,l;a.includes(r.id)?(s=a.filter(e=>e!==r.id),o={...n},delete o[r.id],l=new Map(x),l.delete(r.id)):(s=[...a,r.id],o={...n,[r.id]:r},l=new Map(x),l.set(r.id,r)),f(l),t({config:{...e.config,products:s,productObjects:o}})},[e.config,t,x]),j=(0,s.useCallback)(()=>{0!==(e.config.products||[]).length&&(f(new Map),t({config:{...e.config,products:[],productObjects:{}}}))},[e.config,t]),N=(0,s.useCallback)(()=>{a("")},[]),_=(0,s.useCallback)(e=>v.has(e),[v]);return(0,Xe.jsxs)("div",{className:"w-full space-y-4",ref:b,children:[(0,Xe.jsxs)("div",{className:"relative flex items-center",children:[(0,Xe.jsx)(Vo,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,Xe.jsx)(Do,{placeholder:"Search products by name, or use id:123 or sku:ABC",value:r,onChange:e=>{a(e.target.value),m(!0)},onFocus:()=>m(!0),className:"pl-9 pr-9"}),(0,Xe.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center",children:l?(0,Xe.jsx)(Yo,{className:"h-4 w-4 animate-spin text-gray-400"}):r.length>0?(0,Xe.jsx)("button",{onClick:N,className:"bg-transparent cursor-pointer text-gray-400 hover:text-gray-600 p-0 m-0 flex items-center justify-center",title:"Clear search",children:(0,Xe.jsx)(ut,{className:"h-4 w-4"})}):null})]}),h&&(0,Xe.jsxs)("div",{className:"border border-gray-200 rounded-md shadow-sm max-h-60 overflow-y-auto divide-y divide-gray-100 bg-white",onScroll:e=>{const t=e.currentTarget;t.scrollHeight-t.scrollTop<=t.clientHeight+20&&!l&&u&&y(r,c+1,!0)},children:[n.length>0?n.map(e=>(0,Xe.jsxs)("div",{className:Sr("flex items-center gap-3 p-3 cursor-pointer hover:bg-gray-50 transition-colors",_(e.id)&&"bg-blue-50/50"),onClick:()=>w(e),children:[(0,Xe.jsx)("div",{className:"h-10 w-10 bg-gray-100 rounded flex-shrink-0 overflow-hidden",children:e.image&&(0,Xe.jsx)("img",{src:e.image,alt:e.name,className:"h-full w-full object-cover"})}),(0,Xe.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Xe.jsx)("div",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),(0,Xe.jsxs)("div",{className:"text-xs text-gray-500",children:["ID: ",e.id," â€¢ SKU:"," ",e.sku||"N/A"]})]}),(0,Xe.jsx)("div",{className:Sr("h-5 w-5 rounded-full border border-gray-300 flex items-center justify-center",_(e.id)?"bg-primary border-primary text-white":"text-transparent"),children:(0,Xe.jsx)(lt,{className:"h-3 w-3"})})]},e.id)):!l&&r.length>=2?(0,Xe.jsxs)("div",{className:"p-4 text-center text-sm text-gray-500",children:[(0,Tr.__)("No products found for","productbay"),' "',r,'"']}):l&&0===n.length?(0,Xe.jsxs)("div",{className:"p-4 flex justify-center text-sm text-gray-500",children:[(0,Xe.jsx)(Yo,{className:"h-5 w-5 animate-spin text-gray-400 mr-2"}),(0,Tr.__)("Loading products...","productbay")]}):null,l&&n.length>0&&(0,Xe.jsxs)("div",{className:"p-3 bg-gray-50/50 flex justify-center text-sm text-gray-500",children:[(0,Xe.jsx)(Yo,{className:"h-4 w-4 animate-spin text-gray-400 mr-2"}),(0,Tr.__)("Loading more...","productbay")]})]}),x.size>0&&(0,Xe.jsxs)("div",{className:"pt-2 space-y-4",children:[(0,Xe.jsx)("div",{className:"flex flex-wrap gap-2",children:Array.from(x.values()).map(e=>(0,Xe.jsxs)("div",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-gray-100 text-sm border border-gray-200",children:[(0,Xe.jsx)(Cl,{content:`${e.name} (ID: ${e.id}, SKU: ${e.sku||"N/A"})`,className:"bg-blue-800",children:(0,Xe.jsx)("span",{className:"max-w-[150px] truncate block cursor-help",children:e.name})}),(0,Xe.jsx)("button",{onClick:()=>w(e),title:`Remove "${e.name}"`,className:"text-gray-400 hover:text-red-500 bg-transparent cursor-pointer p-0 m-0 flex items-center justify-center",children:(0,Xe.jsx)(ut,{className:"h-3 w-3"})})]},e.id))}),(0,Xe.jsxs)("div",{className:"flex items-center gap-4 text-sm bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-2 ",children:[(0,Xe.jsxs)(Sl,{onConfirm:j,variant:"ghost",size:"sm",confirmMessage:`Remove ${x.size} ${1===x.size?"product":"products"}?`,className:"font-normal text-red-600 hover:text-red-700 rounded-md hover:bg-red-100 px-2 py-0 flex items-center gap-1",children:[(0,Xe.jsx)(El,{className:"h-4 w-4 mr-1"}),"Remove all"]}),(0,Xe.jsx)("div",{className:"h-4 w-px bg-blue-300"}),(0,Xe.jsxs)("div",{className:"flex items-center gap-2 text-indigo-700",children:[(0,Xe.jsx)(Hr,{className:"h-4 w-4"}),(0,Xe.jsx)("span",{className:"font-semibold",children:x.size}),(0,Xe.jsxs)("span",{className:"text-indigo-600",children:[1===x.size?"product":"products"," ","included"]})]})]})]})]})},Dl=ot("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]),Tl=({categoryCount:e,productCount:t,loading:r=!1,showEmpty:a=!1,className:n=""})=>r||a||0!==e||0!==t?(0,Xe.jsx)("div",{className:`bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-3 ${n}`,children:r?(0,Xe.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,Xe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Xe.jsx)(Br,{className:"h-4 w-4 rounded"}),(0,Xe.jsx)(Br,{className:"h-4 w-8 rounded"}),(0,Xe.jsx)(Br,{className:"h-4 w-20 rounded"})]}),(0,Xe.jsx)("div",{className:"h-4 w-px bg-blue-300"}),(0,Xe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Xe.jsx)(Br,{className:"h-4 w-4 rounded"}),(0,Xe.jsx)(Br,{className:"h-4 w-12 rounded"}),(0,Xe.jsx)(Br,{className:"h-4 w-24 rounded"})]})]}):(0,Xe.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,Xe.jsxs)("div",{className:"flex items-center gap-2 text-blue-700",children:[(0,Xe.jsx)(Dl,{className:"h-4 w-4"}),(0,Xe.jsx)("span",{className:"font-semibold",children:e}),(0,Xe.jsx)("span",{className:"text-blue-600",children:1===e?"category":"categories"})]}),(0,Xe.jsx)("div",{className:"h-4 w-px bg-blue-300"}),(0,Xe.jsxs)("div",{className:"flex items-center gap-2 text-indigo-700",children:[(0,Xe.jsx)(Hr,{className:"h-4 w-4"}),(0,Xe.jsx)("span",{className:"font-semibold",children:t}),(0,Xe.jsxs)("span",{className:"text-indigo-600",children:[1===t?"product":"products"," ","included"]})]})]})}):null,Ml=()=>{const{tableData:e,setTableData:t,categories:r,categoriesLoading:a,refreshCategoriesIfStale:n,forceReloadCategories:o}=xl(),[l,i]=(0,s.useState)(!1),[c,d]=(0,s.useState)(""),u=(0,s.useRef)(null),p=(0,s.useRef)(null);(0,s.useEffect)(()=>{n()},[n]);const h=(0,s.useMemo)(()=>{if(""===c.trim())return r;const e=c.toLowerCase();return r.filter(t=>t.name.toLowerCase().includes(e))},[c,r]);(0,s.useEffect)(()=>{l&&p.current?setTimeout(()=>p.current?.focus(),50):d("")},[l]),(0,s.useEffect)(()=>{const e=e=>{u.current&&!u.current.contains(e.target)&&i(!1)};if(l)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[l]);const m=e.config.categories||[],b=r.filter(e=>m.includes(e.id)),g=b.reduce((e,t)=>e+t.count,0);return(0,Xe.jsxs)("div",{className:"w-full space-y-3",children:[(0,Xe.jsxs)("div",{className:"relative",ref:u,children:[(0,Xe.jsx)("div",{className:Sr("min-h-[40px] w-full border border-gray-300 rounded-md px-3 py-2 bg-white cursor-pointer transition-colors",l?"border-blue-500 ring-2 ring-blue-100":"hover:border-gray-400"),onClick:()=>i(!l),children:(0,Xe.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,Xe.jsx)("div",{className:"flex-1 flex flex-wrap gap-1.5",children:a&&0===r.length?(0,Xe.jsxs)("span",{className:"text-gray-500 text-sm flex items-center gap-2",children:[(0,Xe.jsx)(Yo,{className:"h-4 w-4 animate-spin"})," ","Loading categories..."]}):0===b.length?(0,Xe.jsx)("span",{className:"text-gray-400 text-sm",children:"Select categories..."}):b.map(r=>(0,Xe.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-blue-100 text-blue-700 rounded text-sm font-medium",onClick:a=>{a.stopPropagation(),(r=>{const a=m.filter(e=>e!==r);t({config:{...e.config,categories:a}})})(r.id)},children:[r.name," (",r.count,")",(0,Xe.jsx)(ut,{className:"h-3 w-3 hover:text-blue-900 cursor-pointer"})]},r.id))}),(0,Xe.jsx)(Is,{className:Sr("h-4 w-4 text-gray-500 transition-transform flex-shrink-0",l&&"transform rotate-180")})]})}),l&&(0,Xe.jsxs)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-50 max-h-80 flex flex-col",children:[(0,Xe.jsx)("div",{className:"p-2 border-b border-gray-200",children:(0,Xe.jsxs)("div",{className:"relative",children:[(0,Xe.jsx)(Vo,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-400"}),(0,Xe.jsx)("input",{ref:p,type:"text",placeholder:"Search categories...",className:"w-full pl-8 pr-3 py-2 text-sm border border-gray-300 rounded focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:c,onChange:e=>d(e.target.value),onClick:e=>e.stopPropagation()})]})}),(0,Xe.jsx)("div",{className:"overflow-y-auto flex-1",children:0===h.length?(0,Xe.jsx)("div",{className:"p-3 text-sm text-gray-500 text-center",children:c?"No categories found matching your search.":"No categories available."}):h.map(r=>{const a=m.includes(r.id);return(0,Xe.jsxs)("div",{className:Sr("flex items-center px-3 py-2 text-sm cursor-pointer transition-colors",a?"bg-blue-50 text-blue-700 hover:bg-blue-100":"hover:bg-gray-50"),onClick:a=>{a.stopPropagation(),(r=>{const a=m.includes(r)?m.filter(e=>e!==r):[...m,r];t({config:{...e.config,categories:a}})})(r.id)},children:[(0,Xe.jsx)("input",{type:"checkbox",checked:a,onChange:()=>{},className:"mr-2 h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,Xe.jsx)("span",{className:"flex-1 font-medium",children:r.name}),(0,Xe.jsxs)("span",{className:"text-xs text-gray-400",children:["(",r.count,")"]})]},r.id)})}),(0,Xe.jsxs)("div",{className:"p-2 border-t border-gray-200 bg-gray-50 flex items-center justify-between gap-2 rounded-b-md",children:[(0,Xe.jsx)("span",{className:"text-xs text-gray-600",children:m.length>0?`${m.length} ${1===m.length?"category":"categories"} selected`:"No categories selected"}),(0,Xe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Xe.jsxs)(Sl,{onConfirm:function(){t({config:{...e.config,categories:[]}})},variant:"ghost",size:"xs",confirmMessage:"Clear all?",disabled:0===m.length,className:Sr("flex items-center gap-1.5 font-medium hover:bg-red-50 hover:text-red-700 border border-transparent hover:border-gray-200",0===m.length?"text-gray-300":"text-red-600"),children:[(0,Xe.jsx)(ut,{className:"h-3 w-3"}),"Clear"]}),(0,Xe.jsxs)(Ir,{variant:"ghost",size:"xs",onClick:async e=>{e.stopPropagation(),await o()},disabled:a,className:Sr("flex items-center gap-1.5 font-medium transition-colors border border-transparent hover:border-gray-200 cursor-pointer",a?"text-gray-400":"text-blue-600 hover:bg-blue-50 hover:text-blue-700"),title:"Reload categories from server",children:[(0,Xe.jsx)(vo,{className:Sr("h-3 w-3",a&&"animate-spin")}),"Reload"]})]})]})]})]}),(0,Xe.jsx)(Tl,{categoryCount:b.length,productCount:g,showEmpty:!0})]})},Al=({className:e})=>{const{source:t,setSourceType:r,sourceStats:a,sourceStatsLoading:n,fetchSourceStats:o,preloadCategories:l,settings:i,setFeatures:c,columns:d,addColumn:u,reorderColumns:p,removeColumn:h,updateColumn:m}=xl();(0,s.useEffect)(()=>{l()},[l]),(0,s.useEffect)(()=>{o(t.type)},[t.type,o]);const b=a[t.type],g=n[t.type]||!b;return(0,Xe.jsxs)("div",{className:Sr("w-full",e),children:[(0,Xe.jsxs)(No,{source:t,setSourceType:r,children:["all"===t.type&&(0,Xe.jsxs)("div",{className:"animate-fade-in space-y-4",children:[(0,Xe.jsx)(Tl,{categoryCount:b?.categories||0,productCount:b?.products||0,loading:g,showEmpty:!0}),!g&&0===b?.products&&(0,Xe.jsxs)(yl,{variant:"warning",className:"bg-amber-50 border-amber-200",children:[(0,Xe.jsx)(ll,{className:"w-4 h-4 mt-0.5 text-amber-600"}),(0,Xe.jsxs)(vl,{className:"text-amber-800",children:[(0,Xe.jsx)("p",{className:"font-bold m-0",children:(0,Tr.__)("No products found!","productbay")}),(0,Xe.jsx)("p",{className:"text-sm mt-2 m-0",children:(0,Tr.__)("Your WooCommerce store appears to be empty. Add some products to create a table.","productbay")}),(0,Xe.jsxs)("a",{target:"_blank",href:`${window.ajaxurl?.split("admin-ajax.php")[0]}post-new.php?post_type=product`,className:"mt-2 inline-flex items-center text-sm text-amber-900 hover:text-blue-600 border border-amber-900 hover:border-blue-500 px-2 py-1 rounded-md",children:[(0,Tr.__)("Add your first product","productbay"),(0,Xe.jsx)(kl,{className:"w-3 h-3 ml-1"})]})]})]})]}),"sale"===t.type&&(0,Xe.jsxs)("div",{className:"animate-fade-in space-y-4",children:[(0,Xe.jsx)(Tl,{categoryCount:b?.categories||0,productCount:b?.products||0,loading:g,showEmpty:!0}),!g&&0===b?.products&&(0,Xe.jsxs)(yl,{variant:"warning",className:"bg-amber-50 border-amber-200",children:[(0,Xe.jsx)(ll,{className:"w-4 h-4 mt-0.5 text-amber-600"}),(0,Xe.jsxs)(vl,{className:"text-amber-800",children:[(0,Xe.jsx)("p",{className:"font-bold m-0",children:(0,Tr.__)("No products on sale!","productbay")}),(0,Xe.jsx)("p",{className:"text-sm mt-2 m-0",children:(0,Tr.__)("Set sale prices on some products to use this source type.","productbay")}),(0,Xe.jsxs)("a",{target:"_blank",href:Ol,className:"mt-2 inline-flex items-center text-sm text-amber-900 hover:text-blue-600 border border-amber-900 hover:border-blue-500 px-2 py-1 rounded-md",children:[(0,Tr.__)("Manage products","productbay"),(0,Xe.jsx)(kl,{className:"w-3 h-3 ml-1"})]})]})]})]}),"category"===t.type&&(0,Xe.jsx)("div",{className:"animate-fade-in",children:(0,Xe.jsx)(Ml,{})}),"specific"===t.type&&(0,Xe.jsx)("div",{className:"animate-fade-in",children:(0,Xe.jsx)(Rl,{})})]}),(0,Xe.jsxs)("section",{className:"border-t border-gray-200 pt-8 px-4",children:[(0,Xe.jsx)(ho,{title:(0,Tr.__)("Table Columns","productbay"),description:(0,Tr.__)("Configure which columns to display and their order","productbay"),isRequired:!0}),(0,Xe.jsx)(Us,{columns:d,onAddColumn:u,onReorderColumns:p,onRemoveColumn:h,onUpdateColumn:m})]}),(0,Xe.jsx)("section",{className:"pt-8 px-4",children:(0,Xe.jsx)(eo,{value:i.features.bulkSelect,onChange:e=>c({bulkSelect:e})})})]})},zl=["table","display","options"],Ll=[{value:"table",label:(0,Tr.__)("Table","productbay"),icon:(0,Xe.jsx)(nl,{})},{value:"display",label:(0,Tr.__)("Display","productbay"),icon:(0,Xe.jsx)(sl,{})},{value:"options",label:(0,Tr.__)("Options","productbay"),icon:(0,Xe.jsx)(ol,{})}],Pl=()=>{const{id:e}=function(){let{matches:e}=s.useContext(Z),t=e[e.length-1];return t?t.params:{}}(),t=!e||"new"===e,r=oe(),{isCopied:a,copy:n}=zo(),{tableId:o,tableTitle:l,setTitle:i,tableStatus:c,setStatus:d,loadTable:u,saveTable:p,isLoading:h,error:m}=xl();(0,s.useEffect)(()=>{t?xl.getState().resetStore():u(parseInt(e))},[e,t,u]);const{toast:b}=et(),[g,x]=(0,s.useState)(void 0),f=`[productbay id="${o}"]`,[y,v]=(0,s.useState)(!1),[w,j]=So("table",zl),N="publish"===c;return h&&!t?(0,Xe.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,Xe.jsx)(ul,{className:"animate-pulse size-12"})}):m?(0,Xe.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[400px] text-center p-8 bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,Xe.jsx)("div",{className:"bg-red-50 p-4 rounded-full mb-4 flex items-center justify-center",children:(0,Xe.jsx)(ll,{className:"size-8 text-red-500"})}),(0,Xe.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:(0,Tr.__)("Table Not Found","productbay")}),(0,Xe.jsx)("p",{className:"text-gray-500 max-w-md mb-6",children:(0,Tr.__)("The table you are looking for does not exist or has been deleted.","productbay")}),(0,Xe.jsxs)("div",{className:"flex gap-4",children:[(0,Xe.jsx)(Ir,{variant:"outline",className:"cursor-pointer",onClick:()=>r(Il.TABLES),children:(0,Tr.__)("View Tables","productbay")}),(0,Xe.jsxs)(Ir,{onClick:()=>{xl.getState().resetStore(),r($l.path)},className:"cursor-pointer",children:[(0,Xe.jsx)(Wr,{className:"size-4 mr-2"}),$l.label]})]})]}):(0,Xe.jsxs)(Xe.Fragment,{children:[o&&(0,Xe.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-6 flex flex-col md:flex-row items-center justify-between gap-4",children:[(0,Xe.jsx)("span",{className:"font-semibold text-lg text-blue-900",children:(0,Tr.__)("Shortcode:","productbay")}),(0,Xe.jsx)("code",{className:"bg-gray-100 select-all text-lg px-2 py-1 rounded border border-gray-200 text-gray-800 font-mono",children:f}),(0,Xe.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,Xe.jsx)(Cl,{content:(0,Tr.__)("Copy this shortcode and paste it into any Page or Post to display this table. ","productbay"),children:(0,Xe.jsx)(ct,{className:"size-6 text-gray-500 cursor-pointer"})}),(0,Xe.jsx)(Ir,{size:"xs",variant:"outline",onClick:()=>{n(f)},className:"cursor-pointer transition-colors w-20 "+(a?"bg-green-50 hover:bg-green-100 text-green-700 border-green-200":"bg-white hover:bg-blue-100 text-blue-700 border-blue-200"),children:a?(0,Xe.jsxs)(Xe.Fragment,{children:[(0,Xe.jsx)(Jo,{className:"size-3 mr-1.5"}),(0,Tr.__)("Copied!","productbay")]}):(0,Xe.jsxs)(Xe.Fragment,{children:[(0,Xe.jsx)(Go,{className:"size-3 mr-1.5"}),(0,Tr.__)("Copy","productbay")]})})]})]}),(0,Xe.jsx)("div",{className:"sticky top-[32px] z-20 bg-wp-bg/95 backdrop-blur-sm -mx-4 px-4 py-3 mb-4 border-b border-gray-200/50 sm:-mx-6 sm:px-6 md:-mx-8 md:px-8",children:(0,Xe.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[(0,Xe.jsx)("div",{className:"order-2 md:order-1",children:(0,Xe.jsx)(dl,{value:l,onChange:e=>{i(e),g&&x(void 0)},error:g,placeholder:(0,Tr.__)("Enter table name...","productbay")})}),(0,Xe.jsxs)("div",{className:"flex items-center justify-between md:justify-left gap-4 order-1 md:order-2",children:[!t&&(0,Xe.jsx)(Cl,{content:(0,Tr.__)("Delete this table","productbay"),children:(0,Xe.jsx)(Ir,{size:"sm",variant:"ghost",onClick:async()=>{if(confirm((0,Tr.__)("Are you sure you want to delete this table? This action cannot be undone.","productbay")))try{await(0,Or.n)(`tables/${o}`,{method:"DELETE"}),b({title:(0,Tr.__)("Deleted","productbay"),description:(0,Tr.__)("Table deleted successfully.","productbay"),type:"success"}),r(Il.TABLES)}catch(e){b({title:(0,Tr.__)("Error","productbay"),description:(0,Tr.__)("Failed to delete table.","productbay"),type:"error"})}},className:"text-red-500 hover:text-red-700 hover:bg-red-50 px-2 cursor-pointer",children:(0,Xe.jsx)(Ls,{className:"size-4"})})}),(0,Xe.jsxs)("div",{className:"flex items-center justify-between w-40 gap-2 bg-white px-4 py-2 rounded-md transition-colors",children:[(0,Xe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Xe.jsx)("span",{className:Sr("size-2 rounded-full",N?"bg-green-500":"bg-gray-400")}),(0,Xe.jsx)("span",{className:Sr("text-sm font-medium min-w-[52px]",N?"text-green-600":"text-gray-500"),children:N?(0,Tr.__)("Published","productbay"):(0,Tr.__)("Private","productbay")})]}),(0,Xe.jsx)(Js,{size:"sm",checked:N,onChange:e=>d(e.target.checked?"publish":"private"),title:N?(0,Tr.__)("Click toggle to set private","productbay"):(0,Tr.__)("Click toggle to publish","productbay")})]}),(0,Xe.jsxs)(Ir,{size:"default",onClick:async()=>{if(!l.trim()){const e=(0,Tr.__)("Table name is required.","productbay");return x(e),void b({title:(0,Tr.__)("Validation Error","productbay"),description:e,type:"error"})}v(!0);const e=await p();if(v(!1),e){b({title:(0,Tr.__)("Success","productbay"),description:(0,Tr.__)("Table saved successfully.","productbay"),type:"success"});const e=xl.getState().tableId;t&&e&&r(Il.TABLE_EDITOR.replace(":id",e.toString()))}else b({title:(0,Tr.__)("Error","productbay"),description:m||(0,Tr.__)("Failed to save table.","productbay"),type:"error"})},disabled:y||h,className:"w-32 flex items-center justify-between cursor-pointer "+(y?"opacity-75 cursor-wait":""),children:[y?(0,Tr.__)("Saving...","productbay"):(0,Tr.__)("Save Table","productbay"),y?(0,Xe.jsx)(il,{className:"size-4 ml-2 animate-spin"}):(0,Xe.jsx)(yo,{className:"size-4 ml-2"})]})]})]})}),(0,Xe.jsxs)("div",{className:"w-full grid grid-cols-1 md:grid-cols-5 gap-6 rounded-lg",children:[(0,Xe.jsxs)(ko,{tabs:Ll,value:w,className:"md:col-span-3",onChange:j,"aria-label":(0,Tr.__)("Table configuration tabs","productbay"),children:["table"===w&&(0,Xe.jsx)(Al,{}),"display"===w&&(0,Xe.jsx)(_l,{}),"options"===w&&(0,Xe.jsx)(Nl,{})]}),(0,Xe.jsx)("div",{className:"md:col-span-2",children:(0,Xe.jsx)(jl,{className:"sticky top-[132px] z-10"})})]})]})},Il={DASHBOARD:"/dash",NEW:"/new",SETTINGS:"/settings",TABLES:"/tables",TABLE_EDITOR:"/table/:id"},Bl=[{path:Il.DASHBOARD,element:()=>{const e=oe(),{status:t,fetchStatus:r,error:a}=Fr();if((0,s.useEffect)(()=>{r()},[r]),a)return(0,Xe.jsxs)("div",{className:"p-4 bg-red-50 text-red-600 rounded-lg",children:[(0,Tr.__)("Error:","productbay")," ",a]});const n=!t;return(0,Xe.jsxs)("div",{className:"space-y-6",children:[(0,Xe.jsx)("div",{className:"flex justify-between items-center",children:(0,Xe.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:(0,Tr.__)("Dashboard","productbay")})}),!n&&0===t?.product_count&&(0,Xe.jsxs)("div",{className:"bg-white p-6 rounded-xl flex flex-col md:flex-row items-center gap-6 mb-6 shadow-sm border border-orange-500",children:[(0,Xe.jsx)("div",{className:"p-4 rounded-2xl text-orange-500 shrink-0",children:(0,Xe.jsx)(Hr,{size:32})}),(0,Xe.jsxs)("div",{className:"flex-1 text-center md:text-left",children:[(0,Xe.jsx)("h3",{className:"text-lg font-bold text-red-950 m-0 pb-1",children:(0,Tr.__)("No Published Products Found","productbay")}),(0,Xe.jsxs)("p",{className:"text-gray-600 text-sm max-w-2xl",children:[(0,Tr.__)("ProductBay requires published WooCommerce products to build your tables.","productbay"),(0,Xe.jsx)("br",{}),(0,Tr.__)("We couldn't find any products in your WooCommerce store yet.","productbay"),(0,Xe.jsx)("br",{}),(0,Tr.__)("Create your first product to start building high-converting tables.","productbay")]})]}),(0,Xe.jsx)("div",{className:"shrink-0",children:(0,Xe.jsxs)(Ir,{variant:"secondary",className:"cursor-pointer border border-green-500",onClick:()=>window.open(Ol,"_blank"),children:[(0,Xe.jsx)(Wr,{size:18,className:"mr-2"}),(0,Tr.__)("Add Products","productbay")]})})]}),n?(0,Xe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[1,2].map(e=>(0,Xe.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100 flex items-center gap-4",children:[(0,Xe.jsx)(Br,{className:"h-12 w-12 rounded-lg"}),(0,Xe.jsxs)("div",{className:"space-y-2 w-full",children:[(0,Xe.jsx)(Br,{className:"h-4 w-24"}),(0,Xe.jsx)(Br,{className:"h-8 w-16"})]})]},e))}):0===t?.table_count?(0,Xe.jsxs)("div",{className:"bg-white p-12 rounded-xl shadow-sm border border-gray-100 text-center animate-fade-in",children:[(0,Xe.jsx)("div",{className:"bg-blue-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6 text-blue-600",children:(0,Xe.jsx)(Wr,{size:32})}),(0,Xe.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:(0,Tr.__)("Welcome to ProductBay","productbay")}),(0,Xe.jsx)("p",{className:"text-gray-500 max-w-md mx-auto mb-8",children:(0,Tr.__)("Get started by creating your first product table. It takes less than 2 minutes to significantly improve your conversion rate.","productbay")}),(0,Xe.jsxs)(Ir,{onClick:()=>e(Il.NEW),className:"cursor-pointer",variant:"default",size:"lg",children:[(0,Xe.jsx)(Wr,{size:20,className:"mr-2"}),(0,Tr.__)("Create First Table","productbay")]})]}):(0,Xe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-fade-in",children:[(0,Xe.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100 flex items-center gap-4",children:[(0,Xe.jsx)("div",{className:"bg-purple-50 p-3 rounded-lg text-purple-600",children:(0,Xe.jsx)(Hr,{size:24})}),(0,Xe.jsxs)("div",{children:[(0,Xe.jsx)("p",{className:"text-gray-500 text-sm",children:(0,Tr.__)("Published WooCommerce Products","productbay")}),(0,Xe.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:t?.product_count})]})]}),(0,Xe.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100 flex items-center gap-4",children:[(0,Xe.jsx)("div",{className:"bg-blue-50 p-3 rounded-lg text-blue-600",children:(0,Xe.jsx)(qr,{size:24})}),(0,Xe.jsxs)("div",{children:[(0,Xe.jsx)("p",{className:"text-gray-500 text-sm",children:(0,Tr.__)("Active ProductBay Tables","productbay")}),(0,Xe.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:t?.table_count})]})]})]}),(0,Xe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Xe.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100",children:[(0,Xe.jsxs)("div",{className:"flex items-center gap-3 mb-4 text-gray-800",children:[(0,Xe.jsx)(Ur,{className:"text-blue-500"}),(0,Xe.jsx)("h3",{className:"font-bold",children:(0,Tr.__)("Getting Started","productbay")})]}),(0,Xe.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:(0,Tr.__)("Watch our quick video guide or read the documentation to master ProductBay in minutes.","productbay")}),(0,Xe.jsxs)("div",{className:"flex gap-3 text-sm",children:[(0,Xe.jsx)("a",{href:"#",className:"text-blue-600 hover:underline underline-offset-4",children:(0,Tr.__)("Watch Video","productbay")}),(0,Xe.jsx)("span",{className:"text-gray-300",children:"|"}),(0,Xe.jsx)("a",{href:"#",className:"text-blue-600 hover:underline underline-offset-4",children:(0,Tr.__)("Documentation","productbay")})]})]}),(0,Xe.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100",children:[(0,Xe.jsxs)("div",{className:"flex items-center gap-3 mb-4 text-gray-800",children:[(0,Xe.jsx)(Vr,{className:"text-orange-500"}),(0,Xe.jsx)("h3",{className:"font-bold",children:(0,Tr.__)("Help & Support","productbay")})]}),(0,Xe.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:(0,Tr.__)("Need help? Have a feature request? We'd love to hear from you.","productbay")}),(0,Xe.jsx)(Ve,{to:"/help",className:"text-blue-600 hover:underline underline-offset-4 text-sm font-medium",children:(0,Tr.__)("Contact Support","productbay")})]})]})]})},label:(0,Tr.__)("Dashboard","productbay"),showInNav:!1},{path:Il.TABLES,element:()=>{const[e,t]=(0,s.useState)([]),[r,a]=(0,s.useState)(!0),[n,o]=(0,s.useState)(""),[i,c]=(0,s.useState)([]),[d,u]=(0,s.useState)([]),[p,h]=(0,s.useState)([]),[m,b]=(0,s.useState)(""),[g,x]=(0,s.useState)(1),[f,y]=(0,s.useState)(""),[v,w]=(0,s.useState)(10),[j,N]=(0,s.useState)(!1),[_,k]=(0,s.useState)({key:"date",direction:"desc"}),{status:C,loading:S,fetchStatus:E,error:R}=Fr();(0,s.useEffect)(()=>{E()},[E]);const[D,T]=(0,s.useState)({type:null,tableId:null,tableName:""}),[M,A]=(0,s.useState)({}),{toast:z}=et(),L=ae();(0,s.useEffect)(()=>{P()},[L.state?.refresh]);const P=async()=>{try{const e=await(0,Or.n)("tables");t(e)}catch(e){console.error(e),z({title:(0,Tr.__)("Error","productbay"),description:(0,Tr.__)("Failed to load tables","productbay"),type:"error"})}finally{a(!1)}},I=()=>{T({type:null,tableId:null,tableName:""})},{copy:B}=zo(),[$,O]=(0,s.useState)(null),F=l().useMemo(()=>e.filter(e=>{const t=e.title.toLowerCase().includes(n.toLowerCase())||e.id.toString()===n.replace("#","")||e.shortcode.toLowerCase().includes(n.toLowerCase()),r=0===i.length||i.includes(e.status),a="object"==typeof e.source&&null!==e.source?e.source.type||"all":e.source||"all",s=0===d.length||d.includes(a);return t&&r&&s}),[e,n,i,d]),H=l().useMemo(()=>{const e=[...F];return null!==_&&e.sort((e,t)=>{let r=e[_.key],a=t[_.key];return"date"===_.key?(r=new Date(e.date.replace(" ","T")).getTime(),a=new Date(t.date.replace(" ","T")).getTime()):"source"===_.key?(r="object"==typeof e.source&&null!==e.source?e.source.type||"all":e.source||"all",a="object"==typeof t.source&&null!==t.source?t.source.type||"all":t.source||"all"):"string"==typeof r&&(r=r.toLowerCase(),a=a.toLowerCase()),r<a?"asc"===_.direction?-1:1:r>a?"asc"===_.direction?1:-1:0}),e},[F,_]),W=Math.ceil(H.length/v),q=H.slice((g-1)*v,g*v),U=e=>{let t="asc";_&&_.key===e&&"asc"===_.direction&&(t="desc"),k({key:e,direction:t})},V=({columnKey:e})=>_?.key!==e?(0,Xe.jsx)(Wo,{className:"w-3 h-3 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity ml-1"}):"asc"===_.direction?(0,Xe.jsx)(qo,{className:"w-3 h-3 text-blue-600 ml-1"}):(0,Xe.jsx)(Uo,{className:"w-3 h-3 text-blue-600 ml-1"});return(0,Xe.jsxs)("div",{className:"space-y-6",children:[!r&&0===C?.product_count&&(0,Xe.jsxs)("div",{className:"bg-white p-6 rounded-xl flex flex-col md:flex-row items-center gap-6 mb-6 shadow-sm border border-orange-500",children:[(0,Xe.jsx)("div",{className:"p-4 rounded-2xl text-orange-500 shrink-0",children:(0,Xe.jsx)(Hr,{size:32})}),(0,Xe.jsxs)("div",{className:"flex-1 text-center md:text-left",children:[(0,Xe.jsx)("h3",{className:"text-lg font-bold text-red-950 m-0 pb-1",children:(0,Tr.__)("No Published Products Found","productbay")}),(0,Xe.jsxs)("p",{className:"text-gray-600 text-sm max-w-2xl",children:[(0,Tr.__)("ProductBay requires published WooCommerce products to build your tables.","productbay"),(0,Xe.jsx)("br",{}),(0,Tr.__)("We couldn't find any products in your WooCommerce store yet.","productbay"),(0,Xe.jsx)("br",{}),(0,Tr.__)("Create your first product to start building high-converting tables.","productbay")]})]}),(0,Xe.jsx)("div",{className:"shrink-0",children:(0,Xe.jsxs)(Ir,{variant:"secondary",className:"cursor-pointer border border-green-500",onClick:()=>window.open(Ol,"_blank"),children:[(0,Xe.jsx)(Wr,{size:18,className:"mr-2"}),(0,Tr.__)("Add Products","productbay")]})})]}),(0,Xe.jsx)("div",{className:"flex justify-between items-center",children:(0,Xe.jsxs)("h1",{className:"text-2xl font-bold text-gray-800 m-0",children:[(0,Xe.jsx)("span",{className:"mr-1",children:(0,Tr.__)("All Tables","productbay")}),S?(0,Xe.jsx)("span",{className:"animate-pulse font-medium",children:"(*)"}):(0,Xe.jsxs)("span",{className:"font-medium text-gray-600",children:["(",C?.table_count,")"]})]})}),(0,Xe.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 py-2",children:[(0,Xe.jsxs)("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[(0,Xe.jsx)("div",{className:"w-48",children:(0,Xe.jsx)(Xs,{placeholder:(0,Tr.__)("Bulk Actions","productbay"),label:(0,Tr.__)("Actions","productbay"),allowDeselect:!0,options:Zo,value:m,onChange:b})}),(0,Xe.jsx)(Ir,{variant:"default",className:"px-3 py-2 text-sm disabled:opacity-50 font-medium h-10",disabled:0===p.length||!m,onClick:async()=>{if(m&&0!==p.length){a(!0);try{if("delete"===m)await Promise.all(p.map(e=>(0,Or.n)(`tables/${e}`,{method:"DELETE"}))),t(e=>e.filter(e=>!p.includes(e.id))),z({title:(0,Tr.__)("Success","productbay"),description:(0,Tr.sprintf)(/* translators: %d: number of tables deleted */ /* translators: %d: number of tables deleted */
(0,Tr.__)("Deleted %d tables successfully","productbay"),p.length),type:"success"});else if("published"===m||"private"===m){const r="published"===m?"publish":"private";await Promise.all(p.map(async t=>{const a=e.find(e=>e.id===t);if(!a)return;if(a.status===r)return;const n={id:a.id,title:a.title,status:r,source:a.source||{},columns:a.columns||[],settings:a.settings||{},style:a.style||{}};await(0,Or.n)("tables",{method:"POST",body:JSON.stringify({data:n})})})),t(e=>e.map(e=>p.includes(e.id)?{...e,status:r}:e)),z({title:(0,Tr.__)("Success","productbay"),description:(0,Tr.sprintf)(/* translators: %d: number of tables updated */ /* translators: %d: number of tables updated */
(0,Tr.__)("Updated status for %d tables","productbay"),p.length),type:"success"})}}catch(e){console.error(e),z({title:(0,Tr.__)("Error","productbay"),description:(0,Tr.__)("Failed to apply bulk action","productbay"),type:"error"})}finally{a(!1),h([]),b("")}}},children:(0,Tr.__)("Apply","productbay")}),p.length>0&&(0,Xe.jsx)("span",{className:"text-sm text-gray-500 ml-2",children:(0,Tr.sprintf)(/* translators: %d: number of selected items */ /* translators: %d: number of selected items */
(0,Tr.__)("%d items selected","productbay"),p.length)})]}),(0,Xe.jsxs)("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[(0,Xe.jsxs)("div",{className:"relative w-full sm:w-64",children:[(0,Xe.jsx)(Do,{type:"text",placeholder:(0,Tr.__)("Search tables...","productbay"),className:"pr-9",value:n,onChange:e=>o(e.target.value)}),n?(0,Xe.jsx)("button",{onClick:()=>o(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 p-1 bg-transparent rounded hover:bg-gray-200 cursor-pointer flex items-center justify-center",children:(0,Xe.jsx)(ut,{size:16})}):(0,Xe.jsx)(Vo,{size:16,className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]}),(0,Xe.jsx)("div",{children:(0,Xe.jsxs)(Io,{children:[(0,Xe.jsx)(Bo,{asChild:!0,children:(0,Xe.jsxs)(Ir,{variant:"outline",className:"gap-2 bg-white relative",children:[(0,Xe.jsx)(Ko,{className:"w-4 h-4 text-gray-500"}),(0,Tr.__)("Filter","productbay"),(i.length>0||d.length>0)&&(0,Xe.jsx)("span",{className:"absolute -top-2 -right-2 bg-blue-600 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full",children:i.length+d.length})]})}),(0,Xe.jsxs)($o,{align:"end",className:"w-56 p-2",children:[(0,Xe.jsx)(Fo,{children:(0,Tr.__)("Status","productbay")}),tl.map(e=>(0,Xe.jsx)(Oo,{closeOnSelect:!1,onClick:t=>{c(t=>t.includes(e.value)?t.filter(t=>t!==e.value):[...t,e.value])},children:(0,Xe.jsxs)("div",{className:"flex items-center w-full justify-between",children:[(0,Xe.jsx)("span",{children:e.label}),i.includes(e.value)&&(0,Xe.jsx)(lt,{className:"w-4 h-4 text-blue-600"})]})},e.value)),(0,Xe.jsx)(Ho,{}),(0,Xe.jsx)(Fo,{children:(0,Tr.__)("Source","productbay")}),rl.map(e=>(0,Xe.jsx)(Oo,{closeOnSelect:!1,onClick:t=>{u(t=>t.includes(e.value)?t.filter(t=>t!==e.value):[...t,e.value])},children:(0,Xe.jsxs)("div",{className:"flex items-center w-full justify-between",children:[(0,Xe.jsx)("span",{children:e.label}),d.includes(e.value)&&(0,Xe.jsx)(lt,{className:"w-4 h-4 text-blue-600"})]})},e.value)),(i.length>0||d.length>0)&&(0,Xe.jsxs)(Xe.Fragment,{children:[(0,Xe.jsx)(Ho,{}),(0,Xe.jsx)(Oo,{className:"text-red-600 focus:text-red-700 justify-center font-medium mt-1",onClick:e=>{c([]),u([])},children:(0,Tr.__)("Clear Filters","productbay")})]})]})]})})]})]}),(0,Xe.jsx)("div",{className:"bg-white rounded-lg shadow-xs border border-gray-200 overflow-hidden",children:(0,Xe.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,Xe.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,Xe.jsxs)("tr",{children:[(0,Xe.jsx)("th",{className:"px-4 py-4 w-10 text-center",children:(0,Xe.jsx)("input",{type:"checkbox",className:"rounded border-gray-400 bg-wp-bg text-blue-600 focus:ring-blue-500",checked:q.length>0&&p.length===q.length,onChange:e=>{e.target.checked?h(q.map(e=>e.id)):h([])}})}),(0,Xe.jsx)("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 group transition-colors select-none",onClick:()=>U("title"),children:(0,Xe.jsxs)("div",{className:"flex items-center",children:[(0,Tr.__)("Title","productbay"),(0,Xe.jsx)(V,{columnKey:"title"})]})}),(0,Xe.jsx)("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider w-24 cursor-pointer hover:bg-gray-100 group transition-colors select-none",onClick:()=>U("status"),children:(0,Xe.jsxs)("div",{className:"flex items-center",children:[(0,Tr.__)("Status","productbay"),(0,Xe.jsx)(V,{columnKey:"status"})]})}),(0,Xe.jsx)("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:(0,Tr.__)("Shortcode","productbay")}),(0,Xe.jsx)("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 group transition-colors select-none",onClick:()=>U("source"),children:(0,Xe.jsxs)("div",{className:"flex items-center",children:[(0,Tr.__)("Product Source","productbay"),(0,Xe.jsx)(V,{columnKey:"source"})]})}),(0,Xe.jsx)("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider w-32 cursor-pointer hover:bg-gray-100 group transition-colors select-none",onClick:()=>U("date"),children:(0,Xe.jsxs)("div",{className:"flex items-center",children:[(0,Tr.__)("Date","productbay"),(0,Xe.jsx)(V,{columnKey:"date"})]})})]})}),(0,Xe.jsx)("tbody",{className:"divide-y divide-gray-200",children:r?Array.from({length:5}).map((e,t)=>(0,Xe.jsxs)("tr",{children:[(0,Xe.jsx)("td",{className:"px-4 py-4 text-center",children:(0,Xe.jsx)(Br,{className:"h-4 w-4 rounded mx-auto"})}),(0,Xe.jsx)("td",{className:"p-4",children:(0,Xe.jsx)("div",{className:"space-y-2",children:(0,Xe.jsx)(Br,{className:"h-5 w-48"})})}),(0,Xe.jsx)("td",{className:"p-4",children:(0,Xe.jsx)(Br,{className:"h-6 w-20 rounded-full"})}),(0,Xe.jsx)("td",{className:"p-4",children:(0,Xe.jsx)(Br,{className:"h-8 w-24 rounded"})}),(0,Xe.jsx)("td",{className:"p-4",children:(0,Xe.jsx)(Br,{className:"h-6 w-32 rounded-full"})}),(0,Xe.jsx)("td",{className:"p-4",children:(0,Xe.jsxs)("div",{className:"space-y-1",children:[(0,Xe.jsx)(Br,{className:"h-4 w-24"}),(0,Xe.jsx)(Br,{className:"h-3 w-20"})]})})]},t)):0===q.length?(0,Xe.jsx)("tr",{children:(0,Xe.jsx)("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-400",children:0===e.length?(0,Xe.jsx)(al,{}):(0,Xe.jsxs)("div",{className:"flex flex-col items-center justify-center py-8",children:[(0,Xe.jsx)("div",{className:"bg-gray-50 rounded-full p-4 mb-4",children:(0,Xe.jsx)(Vo,{size:32,className:"text-gray-400"})}),(0,Xe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:(0,Tr.__)("No tables found","productbay")}),(0,Xe.jsx)("p",{className:"text-gray-500 text-sm max-w-sm text-center mb-6",children:(0,Tr.__)("Your search query or filters did not match any tables. Try adjusting your search term or filters.","productbay")}),(0,Xe.jsx)(Ir,{variant:"outline",onClick:()=>{o(""),c([]),u([])},className:"cursor-pointer",children:(0,Tr.__)("Clear Search & Filters","productbay")})]})})}):q.map(e=>{const t=!!M[e.id];return M[e.id],(0,Xe.jsxs)("tr",{className:"group hover:bg-gray-50 transition-colors "+(t?"opacity-50":""),children:[(0,Xe.jsx)("td",{className:"px-4 py-4 text-center",children:(0,Xe.jsx)("input",{type:"checkbox",className:"rounded border-gray-400 bg-wp-bg text-blue-600 focus:ring-blue-500",checked:p.includes(e.id),onChange:()=>{return t=e.id,void(p.includes(t)?h(p.filter(e=>e!==t)):h([...p,t]));var t},disabled:t})}),(0,Xe.jsxs)("td",{className:"p-4 relative",children:[(0,Xe.jsx)("div",{className:"font-medium text-wp-text text-base flex items-center gap-2",children:(0,Xe.jsxs)(Ve,{to:`/table/${e.id}`,className:"hover:text-blue-600",children:[e.title,(0,Xe.jsxs)("span",{className:"ml-2 text-sm font-normal text-gray-400",children:["(",e.columns?.length||0," ",(0,Tr.__)("cols","productbay"),")"]}),t&&(0,Xe.jsx)(Yo,{className:"w-4 h-4 inline-block ml-2 animate-spin"})]})}),(0,Xe.jsxs)("div",{className:"flex items-center gap-2 mt-1 text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,Xe.jsx)(Ve,{to:`/table/${e.id}`,className:"text-blue-600 hover:underline underline-offset-4 bg-transparent cursor-pointer",children:(0,Tr.__)("Edit","productbay")}),(0,Xe.jsx)("span",{className:"text-gray-300",children:"|"}),(0,Xe.jsx)("button",{onClick:()=>{return t=e.id,r=e.title,void T({type:"duplicate",tableId:t,tableName:r});var t,r},className:"text-blue-600 hover:underline underline-offset-4 bg-transparent cursor-pointer",disabled:t,children:(0,Tr.__)("Duplicate","productbay")}),(0,Xe.jsx)("span",{className:"text-gray-300",children:"|"}),(0,Xe.jsx)("button",{onClick:()=>{return t=e.id,r=e.title,a=e.status,void T({type:"toggle",tableId:t,tableName:r,currentStatus:a});var t,r,a},className:"text-blue-600 hover:underline underline-offset-4 bg-transparent cursor-pointer",disabled:t,children:"publish"===e.status?(0,Tr.__)("Set Private","productbay"):(0,Tr.__)("Publish","productbay")}),(0,Xe.jsx)("span",{className:"text-gray-300",children:"|"}),(0,Xe.jsx)("button",{onClick:()=>{return t=e.id,r=e.title,void T({type:"delete",tableId:t,tableName:r});var t,r},className:"text-red-600 hover:underline underline-offset-4 bg-transparent cursor-pointer",disabled:t,children:(0,Tr.__)("Delete","productbay")})]})]}),(0,Xe.jsx)("td",{className:"p-4",children:"publish"===e.status?(0,Xe.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:(0,Tr.__)("Published","productbay")}):(0,Xe.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:(0,Tr.__)("Private","productbay")})}),(0,Xe.jsx)("td",{className:"p-4",children:(0,Xe.jsxs)("div",{className:"bg-gray-100 inline-flex text-gray-600 px-3 py-1 rounded border border-gray-300 items-center gap-1",children:[(0,Xe.jsx)("span",{className:"select-all font-mono text-sm bg-transparent p-1 hover:bg-gray-200",children:e.shortcode}),(0,Xe.jsx)(Ir,{variant:"outline",size:"xs",onClick:()=>{return t=e.shortcode,r=e.id,B(t),O(r),void setTimeout(()=>O(e=>e===r?null:e),2e3);var t,r},title:$===e.id?(0,Tr.__)("Copied!","productbay"):(0,Tr.__)("Copy shortcode","productbay"),className:"cursor-pointer py-1 px-1.5 ml-2 transition-colors "+($===e.id?"bg-green-50 border-green-200 text-green-600 hover:bg-green-100 hover:text-green-700":"bg-transparent hover:bg-white text-gray-600"),disabled:t,children:$===e.id?(0,Xe.jsx)(Jo,{className:"w-4 h-4"}):(0,Xe.jsx)(Go,{className:"w-4 h-4"})})]})}),(0,Xe.jsx)("td",{className:"p-4 text-sm text-gray-600 capitalize",children:(0,Xe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Xe.jsx)("span",{children:"object"==typeof e.source&&null!==e.source?e.source.type||"Custom":e.source||"WooCommerce"}),void 0!==e.productCount&&(0,Xe.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-[11px] font-medium bg-gray-100 text-gray-600 border border-gray-200",title:(0,Tr.__)("Matching Products","productbay"),children:e.productCount})]})}),(0,Xe.jsx)("td",{className:"p-4 whitespace-nowrap text-sm text-gray-500",children:e.date&&(0,Xe.jsxs)("div",{className:"flex flex-col",children:["publish"===e.status?(0,Xe.jsxs)("span",{className:"font-medium text-xs text-gray-700",children:[(0,Tr.__)("Published","productbay"),": Â ",new Date(e.date.replace(" ","T")).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})]}):(0,Xe.jsxs)("span",{className:"font-medium text-xs text-gray-700",children:[(0,Tr.__)("Created","productbay"),": Â ",new Date(e.date.replace(" ","T")).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})]}),e.modifiedDate&&e.modifiedDate!==e.date&&(0,Xe.jsxs)("span",{className:"text-xs text-gray-400 mt-1",title:e.modifiedDate,children:[(0,Tr.__)("Modified","productbay"),": Â ",new Date(e.modifiedDate.replace(" ","T")).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})]})]})})]},e.id)})})]})}),(0,Xe.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Xe.jsx)("div",{className:"text-sm text-gray-500 px-1",children:(0,Tr.sprintf)(/* translators: %1$d: start index, %2$d: end index, %3$d: total entries */ /* translators: %1$d: start index, %2$d: end index, %3$d: total entries */
(0,Tr.__)("Showing %1$d to %2$d of %3$d entries","productbay"),(g-1)*v+1,Math.min(g*v,F.length),F.length)}),(0,Xe.jsxs)("div",{className:"flex items-center gap-4 bg-white px-4 py-2 rounded-lg shadow-xs border border-gray-200",children:[(0,Xe.jsxs)("div",{className:"flex items-center justify-center gap-2 h-8 pr-4 border-r border-gray-200 ",children:[(0,Xe.jsx)("span",{className:"text-sm text-gray-500 whitespace-nowrap hidden sm:inline",children:(0,Tr.__)("Rows per page:","productbay")}),j?(0,Xe.jsxs)("div",{className:"relative w-26",children:[(0,Xe.jsx)(Do,{type:"number",min:1,className:"h-8 pr-6 text-xs",value:v,onChange:e=>{const t=parseInt(e.target.value);!isNaN(t)&&t>0?(w(t),x(1)):""===e.target.value&&w(0)}}),(0,Xe.jsx)("button",{onClick:()=>{w(10),N(!1),x(1)},className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:(0,Xe.jsx)(ut,{className:"w-3 h-3"})})]}):(0,Xe.jsx)("div",{className:"w-26",children:(0,Xe.jsx)(Xs,{size:"xs",options:el,value:j?"custom":v.toString(),onChange:e=>{"custom"===e?N(!0):(N(!1),w(Number(e)),x(1))}})})]}),(0,Xe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Xe.jsx)(Ir,{size:"xs",variant:"outline",onClick:()=>x(e=>Math.max(1,e-1)),disabled:1===g,children:(0,Xe.jsx)(Xo,{size:16})}),Array.from({length:W},(e,t)=>t+1).map(e=>(0,Xe.jsx)(Ir,{size:"xs",variant:g===e?"default":"outline",disabled:g===e,onClick:()=>x(e),children:e},e)),(0,Xe.jsx)(Ir,{size:"xs",variant:"outline",onClick:()=>x(e=>Math.min(W,e+1)),disabled:g===W,children:(0,Xe.jsx)(Qo,{size:16})})]}),(0,Xe.jsxs)("div",{className:"flex items-center gap-2 border-l border-gray-200 pl-4 h-8",children:[(0,Xe.jsx)("span",{className:"text-sm text-gray-500 whitespace-nowrap",children:(0,Tr.__)("Go to page","productbay")}),(0,Xe.jsx)(Do,{type:"number",min:1,max:W,className:"w-16 h-8 text-xs px-2",value:f,onChange:e=>y(e.target.value),onKeyDown:e=>{if("Enter"===e.key){const e=parseInt(f);!isNaN(e)&&e>=1&&e<=W&&(x(e),y(""))}},placeholder:"#"})]})]})]}),(0,Xe.jsx)(Co,{isOpen:"delete"===D.type,onClose:I,title:(0,Tr.__)("Delete Table?","productbay"),maxWidth:"md",primaryButton:{text:(0,Tr.__)("Delete","productbay"),onClick:async()=>{if(!D.tableId)return;const e=D.tableId;A(t=>({...t,[e]:"delete"})),I();try{await(0,Or.n)(`tables/${e}`,{method:"DELETE"}),t(t=>t.filter(t=>t.id!==e)),z({title:(0,Tr.__)("Success","productbay"),description:(0,Tr.__)("Table deleted successfully","productbay"),type:"success"})}catch(e){console.error(e),z({title:(0,Tr.__)("Error","productbay"),description:(0,Tr.__)("Failed to delete table","productbay"),type:"error"})}finally{A(t=>{const r={...t};return delete r[e],r})}},variant:"danger"},secondaryButton:{text:(0,Tr.__)("Cancel","productbay"),onClick:I,variant:"secondary"},children:(0,Xe.jsx)("p",{className:"text-gray-700",children:(0,Tr.sprintf)(/* translators: %s: table name */ /* translators: %s: table name */
(0,Tr.__)('Are you sure you want to delete "%s"? This action cannot be undone.',"productbay"),D.tableName)})}),(0,Xe.jsx)(Co,{isOpen:"duplicate"===D.type,onClose:I,title:(0,Tr.__)("Duplicate Table?","productbay"),maxWidth:"md",primaryButton:{text:(0,Tr.__)("Duplicate","productbay"),onClick:async()=>{if(!D.tableId)return;const r=D.tableId,a=e.find(e=>e.id===r);if(a){A(e=>({...e,[r]:"duplicate"})),I();try{const e={title:`${a.title} (Copy)`,status:"private",source:a.source||{},columns:a.columns||[],settings:a.settings||{},style:a.style||{}},r=await(0,Or.n)("tables",{method:"POST",body:JSON.stringify({data:e})});t(e=>[r,...e]),z({title:(0,Tr.__)("Success","productbay"),description:(0,Tr.__)("Table duplicated successfully","productbay"),type:"success"})}catch(e){console.error(e),z({title:(0,Tr.__)("Error","productbay"),description:(0,Tr.__)("Failed to duplicate table","productbay"),type:"error"})}finally{A(e=>{const t={...e};return delete t[r],t})}}},variant:"primary"},secondaryButton:{text:(0,Tr.__)("Cancel","productbay"),onClick:I,variant:"secondary"},children:(0,Xe.jsx)("p",{className:"text-gray-700",children:(0,Tr.sprintf)(/* translators: %s: table name */ /* translators: %s: table name */
(0,Tr.__)('Create a copy of "%s"?',"productbay"),D.tableName)})}),(0,Xe.jsx)(Co,{isOpen:"toggle"===D.type,onClose:I,title:(0,Tr.__)("Change Table Status?","productbay"),maxWidth:"md",primaryButton:{text:"publish"===D.currentStatus?(0,Tr.__)("Set Private","productbay"):(0,Tr.__)("Publish","productbay"),onClick:async()=>{if(!D.tableId)return;const r=D.tableId,a=e.find(e=>e.id===r);if(!a)return;const n="publish"===a.status?"private":"publish";A(e=>({...e,[r]:"toggle"})),I();try{const e={id:a.id,title:a.title,status:n,source:a.source||{},columns:a.columns||[],settings:a.settings||{},style:a.style||{}};await(0,Or.n)("tables",{method:"POST",body:JSON.stringify({data:e})}),t(e=>e.map(e=>e.id===r?{...e,status:n}:e)),z({title:(0,Tr.__)("Success","productbay"),description:"publish"===n?(0,Tr.__)("Table published successfully","productbay"):(0,Tr.__)("Table set to private successfully","productbay"),type:"success"})}catch(e){console.error(e),z({title:(0,Tr.__)("Error","productbay"),description:(0,Tr.__)("Failed to update table status","productbay"),type:"error"})}finally{A(e=>{const t={...e};return delete t[r],t})}},variant:"publish"===D.currentStatus?"danger":"primary"},secondaryButton:{text:(0,Tr.__)("Cancel","productbay"),onClick:I,variant:"secondary"},children:(0,Xe.jsx)("p",{className:"text-gray-700",children:"publish"===D.currentStatus?(0,Tr.sprintf)(/* translators: %s: table name */ /* translators: %s: table name */
(0,Tr.__)('Are you sure you want to set "%s" to private?',"productbay"),D.tableName):(0,Tr.sprintf)(/* translators: %s: table name */ /* translators: %s: table name */
(0,Tr.__)('Are you sure you want to publish "%s"?',"productbay"),D.tableName)})})]})},label:(0,Tr.__)("Tables","productbay"),showInNav:!0},{path:Il.SETTINGS,element:()=>{const[e,t]=So("default",Mo),[r,a]=(0,s.useState)(!1),n=(0,s.useRef)(void 0),{settings:o,loading:l,saving:i,isDirty:c,originalSettings:d,fetchSettings:u,updateSettings:p,saveSettings:h}=(0,_o.C)(),{toast:m}=et();(0,s.useEffect)(()=>{u()},[u]);const b=o.table_defaults||{},g=b.source||{type:"all",queryArgs:{categoryIds:[],tagIds:[],postIds:[],excludes:[],stockStatus:"any",priceRange:{min:0,max:null}},sort:{orderBy:"date",order:"DESC"}},x=b.style||{header:{bgColor:"#f8f9fa",textColor:"#333333",fontSize:"14px"},body:{bgColor:"#ffffff",textColor:"#555555",rowAlternate:!1,altBgColor:"#f9f9f9",altTextColor:"#555555",borderColor:"#eeeeee"},button:{bgColor:"#2271b1",textColor:"#ffffff",borderRadius:"4px",icon:"cart",hoverBgColor:"#135e96",hoverTextColor:"#ffffff"},layout:{borderStyle:"solid",borderColor:"#e5e7eb",borderRadiusEnabled:!0,borderRadius:"8px",cellPadding:"normal"},typography:{headerFontWeight:"bold",headerTextTransform:"uppercase"},hover:{rowHoverEnabled:!0,rowHoverBgColor:"#f3f4f6",rowHoverTextColor:""},responsive:{mode:"standard"}},f=b.settings||{features:{search:!0,sorting:!0,pagination:!0,export:!1,priceRange:!1,bulkSelect:{enabled:!0,position:"last",width:{value:64,unit:"px"},visibility:"all"}},pagination:{limit:10,position:"bottom"},cart:{enable:!0,method:"button",showQuantity:!0,ajaxAdd:!0},filters:{enabled:!0,activeTaxonomies:["product_cat"]}},y=b.columns||[{id:"col_image_default",type:"image",heading:"Image",advanced:{showHeading:!0,width:{value:92,unit:"px"},visibility:"all",order:1},settings:{imageSize:"thumbnail",linkTarget:"product"}},{id:"col_name_default",type:"name",heading:"Product",advanced:{showHeading:!0,width:{value:0,unit:"auto"},visibility:"all",order:2}},{id:"col_price_default",type:"price",heading:"Price",advanced:{showHeading:!0,width:{value:0,unit:"auto"},visibility:"all",order:3}},{id:"col_button_default",type:"button",heading:"Add to Cart",advanced:{showHeading:!0,width:{value:0,unit:"auto"},visibility:"all",order:4}}],v=(e,t)=>{p({...o,table_defaults:{...b,[e]:"columns"===e?t:{...b[e],...t}}})},w=e=>v("settings",{...f,features:{...f.features,...e}}),[j,N]=(0,s.useState)(!1);return(0,Xe.jsxs)("div",{className:"w-full space-y-6",children:[(0,Xe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xe.jsx)("h1",{className:"text-2xl font-bold text-gray-800 m-0",children:(0,Tr.__)("Settings","productbay")}),(0,Xe.jsxs)("div",{className:"flex items-center gap-3",children:["default"===e&&(0,Xe.jsxs)(Ir,{variant:"outline",onClick:()=>{N(!0)},className:"text-gray-500 hover:bg-red-500 hover:text-white cursor-pointer",title:(0,Tr.__)("Reset to Factory Defaults","productbay"),children:[(0,Tr.__)("Reset Defaults","productbay"),(0,Xe.jsx)(fo,{className:"w-4 h-4 ml-2"})]}),(0,Xe.jsxs)(Ir,{onClick:async()=>{n.current=d.show_admin_bar;try{await h(),m({title:(0,Tr.__)("Settings saved!","productbay"),description:(0,Tr.__)("Your settings have been saved successfully.","productbay"),type:"success"}),n.current!==o.show_admin_bar&&a(!0)}catch(e){m({title:(0,Tr.__)("Failed to save settings","productbay"),description:e.message||(0,Tr.__)("An error occurred while saving your settings.","productbay"),type:"error"})}},disabled:i||!c,variant:"default",className:"w-36 "+(i||!c?"cursor-not-allowed":"cursor-pointer"),children:[i?(0,Tr.__)("Saving...","productbay"):(0,Tr.__)("Save Changes","productbay"),(0,Xe.jsx)(yo,{className:"w-4 h-4 ml-2"})]})]})]}),(0,Xe.jsxs)(ko,{tabs:Ao,value:e,onChange:t,"aria-label":(0,Tr.__)("Settings tabs","productbay"),children:["default"===e&&(0,Xe.jsx)("div",{className:"space-y-10 p-6",children:(0,Xe.jsxs)("div",{className:"max-w-4xl space-y-10",children:[(0,Xe.jsxs)("div",{children:[(0,Xe.jsx)("h2",{className:"text-lg font-bold text-gray-900 mb-2",children:(0,Tr.__)("Default Source","productbay")}),(0,Xe.jsx)("p",{className:"text-gray-500 mb-6",children:(0,Tr.__)("Configure the default data source settings for new tables.","productbay")}),(0,Xe.jsx)(No,{source:g,setSourceType:e=>v("source",{...g,type:e}),className:"border-none"})]}),(0,Xe.jsx)("hr",{className:"border-b-2 border-gray-200"}),(0,Xe.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,Xe.jsxs)("div",{children:[(0,Xe.jsx)("h2",{className:"text-lg font-bold text-gray-900 mb-2",children:(0,Tr.__)("Default Columns","productbay")}),(0,Xe.jsx)("p",{className:"text-gray-500 mb-6",children:(0,Tr.__)("Configure the default columns for new tables.","productbay")}),(0,Xe.jsx)(Vs,{columns:y,onChange:e=>v("columns",e)})]}),(0,Xe.jsx)(eo,{value:f.features.bulkSelect,onChange:e=>w({bulkSelect:e})})]}),(0,Xe.jsx)("hr",{className:"border-b-2 border-gray-200"}),(0,Xe.jsxs)("div",{children:[(0,Xe.jsx)("h2",{className:"text-lg font-bold text-gray-900 mb-2",children:(0,Tr.__)("Default Styling","productbay")}),(0,Xe.jsx)("p",{className:"text-gray-500 mb-6",children:(0,Tr.__)("Set the default look and feel for your tables.","productbay")}),(0,Xe.jsx)(bo,{style:x,setHeaderStyle:e=>v("style",{...x,header:{...x.header,...e}}),setBodyStyle:e=>v("style",{...x,body:{...x.body,...e}}),setButtonStyle:e=>v("style",{...x,button:{...x.button,...e}}),setLayoutStyle:e=>v("style",{...x,layout:{...x.layout,...e}}),setTypographyStyle:e=>v("style",{...x,typography:{...x.typography,...e}}),setHoverStyle:e=>v("style",{...x,hover:{...x.hover,...e}}),className:"border-none"})]}),(0,Xe.jsx)("hr",{className:"border-b-2 border-gray-200"}),(0,Xe.jsxs)("div",{children:[(0,Xe.jsx)("h2",{className:"text-lg font-bold text-gray-900 mb-2",children:(0,Tr.__)("Default Functionality","productbay")}),(0,Xe.jsx)("p",{className:"text-gray-500 mb-6",children:(0,Tr.__)("Configure default features like sorting, pagination, and filters.","productbay")}),(0,Xe.jsx)(xo,{settings:f,setFeatures:w,setPagination:e=>v("settings",{...f,pagination:{...f.pagination,...e}}),setCart:e=>v("settings",{...f,cart:{...f.cart,...e}}),className:"border-none"})]})]})}),"plugin"===e&&(0,Xe.jsxs)("div",{className:"space-y-6",children:[(0,Xe.jsx)(Eo,{settings:o,setSettings:p,loading:l}),(0,Xe.jsx)(Ro,{settings:o,setSettings:p,loading:l}),(0,Xe.jsx)(To,{loading:l})]})]}),(0,Xe.jsx)(Co,{isOpen:r,onClose:()=>a(!1),title:(0,Tr.__)("Page Reload Required","productbay"),maxWidth:"sm",closeOnBackdropClick:!1,primaryButton:{text:(0,Tr.__)("Reload Now","productbay"),onClick:()=>{window.location.reload()},variant:"primary",icon:(0,Xe.jsx)(vo,{className:"w-4 h-4"})},secondaryButton:{text:(0,Tr.__)("Later","productbay"),onClick:()=>a(!1),variant:"secondary"},children:(0,Xe.jsx)("p",{className:"text-gray-600 m-0",children:(0,Tr.__)("The admin bar setting requires a page reload to take effect. Would you like to reload now?","productbay")})}),(0,Xe.jsx)(Co,{isOpen:j,onClose:()=>N(!1),title:(0,Tr.__)("Reset Global Defaults?","productbay"),maxWidth:"sm",closeOnBackdropClick:!0,primaryButton:{text:(0,Tr.__)("Yes, Reset Defaults","productbay"),onClick:()=>{p({...o,table_defaults:{source:{type:"all",queryArgs:{categoryIds:[],tagIds:[],postIds:[],excludes:[],stockStatus:"any",priceRange:{min:0,max:null}},sort:{orderBy:"date",order:"DESC"}},style:{header:{bgColor:"#f8f9fa",textColor:"#333333",fontSize:"14px"},body:{bgColor:"#ffffff",textColor:"#555555",rowAlternate:!1,altBgColor:"#f9f9f9",altTextColor:"#555555",borderColor:"#eeeeee"},button:{bgColor:"#2271b1",textColor:"#ffffff",borderRadius:"4px",icon:"cart",hoverBgColor:"#135e96",hoverTextColor:"#ffffff"},layout:{borderStyle:"solid",borderColor:"#e5e7eb",borderRadiusEnabled:!0,borderRadius:"8px",cellPadding:"normal"},typography:{headerFontWeight:"bold",headerTextTransform:"uppercase"},hover:{rowHoverEnabled:!0,rowHoverBgColor:"#f3f4f6",rowHoverTextColor:""},responsive:{mode:"standard"}},settings:{features:{search:!0,sorting:!0,pagination:!0,export:!1,priceRange:!1,bulkSelect:{enabled:!0,position:"last",width:{value:64,unit:"px"},visibility:"all"}},pagination:{limit:10,position:"bottom"},cart:{enable:!0,method:"button",showQuantity:!0,ajaxAdd:!0},filters:{enabled:!0,activeTaxonomies:["product_cat"]}},columns:[{id:"col_image_default",type:"image",heading:"Image",advanced:{showHeading:!0,width:{value:92,unit:"px"},visibility:"all",order:1},settings:{imageSize:"thumbnail",linkTarget:"product"}},{id:"col_name_default",type:"name",heading:"Product",advanced:{showHeading:!0,width:{value:0,unit:"auto"},visibility:"all",order:2}},{id:"col_price_default",type:"price",heading:"Price",advanced:{showHeading:!0,width:{value:0,unit:"auto"},visibility:"all",order:3}},{id:"col_button_default",type:"button",heading:"Add to Cart",advanced:{showHeading:!0,width:{value:0,unit:"auto"},visibility:"all",order:4}}]}}),N(!1),m({title:(0,Tr.__)("Defaults Reset","productbay"),description:(0,Tr.__)("Global default settings have been reset to factory values.","productbay"),type:"success"})},variant:"danger",icon:(0,Xe.jsx)(fo,{className:"w-4 h-4"})},secondaryButton:{text:(0,Tr.__)("Cancel","productbay"),onClick:()=>N(!1),variant:"secondary"},children:(0,Xe.jsx)("p",{className:"text-gray-600 m-0",children:(0,Tr.__)("Are you sure you want to reset all global default configurations to their factory settings? This action cannot be undone.","productbay")})})]})},label:(0,Tr.__)("Settings","productbay"),showInNav:!0},{path:Il.NEW,element:Pl,showInNav:!1},{path:Il.TABLE_EDITOR,element:Pl,showInNav:!1}],$l={path:Il.NEW,element:Pl,label:(0,Tr.__)("Create New Table","productbay"),showInNav:!1},Ol="/wp-admin/edit.php?post_type=product",Fl=ot("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]),Hl=({className:e,...t})=>(0,Xe.jsxs)("svg",{width:"291",height:"64",viewBox:"0 0 291 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,...t,children:[(0,Xe.jsx)("rect",{width:"64",height:"64",rx:"16",fill:"#f05c2a"}),(0,Xe.jsx)("path",{d:"M42.023 13.428a8.533 8.533 0 0 1 8.533 8.533v20.267a8.533 8.533 0 0 1-8.533 8.533H21.756a8.533 8.533 0 0 1-8.533-8.533V21.961a8.533 8.533 0 0 1 8.533-8.533zM29.226 46.495h12.797a4.267 4.267 0 0 0 4.266-4.267v-11.2H29.226zm-11.737-4.267a4.267 4.267 0 0 0 4.267 4.267h3.203V31.028h-7.47zm11.737-15.467h17.063v-4.8a4.267 4.267 0 0 0-4.267-4.266H29.227zm-7.47-9.066a4.267 4.267 0 0 0-4.267 4.266v4.8h7.47v-9.066z",fill:"#fff"}),(0,Xe.jsx)("path",{d:"M288.576 24.777c.758 0 1.274.77.987 1.471l-11.271 27.528c-.164.4-.554.662-.987.662h-1.154a1.067 1.067 0 0 1-.988-1.47l3.208-7.842c.106-.258.106-.548.001-.806l-7.37-18.073a1.067 1.067 0 0 1 .988-1.47h1.399c.441 0 .836.271.995.682l5.065 13.075c.353.91 1.642.908 1.991-.004l5.003-13.067c.158-.413.555-.686.996-.686zm-41.901 10.01q0-3.091 1.251-5.41 1.252-2.355 3.423-3.643 2.208-1.288 4.894-1.288 2.65 0 4.6 1.14.54.317 1.004.677c.615.48 1.903.049 1.903-.73 0-.418.339-.756.756-.756h1.563c.59 0 1.067.478 1.067 1.067v18.033c0 .589-.477 1.066-1.067 1.066h-1.539a.78.78 0 0 1-.78-.779c0-.802-1.307-1.239-1.937-.742q-.482.38-1.043.712-1.951 1.14-4.564 1.14-2.686 0-4.857-1.324t-3.423-3.717-1.251-5.446m17.075.036q0-2.281-.92-3.974-.92-1.692-2.502-2.576-1.545-.92-3.422-.92t-3.423.883q-1.545.884-2.465 2.576t-.92 3.975q0 2.318.92 4.048.92 1.693 2.465 2.612 1.546.885 3.423.884 1.877 0 3.422-.884 1.582-.92 2.502-2.612.92-1.73.92-4.012m-23.093-4.431c-.543.461-.472 2.034.083 2.481a6.4 6.4 0 0 1 1.84 2.282q.699 1.361.699 2.907 0 1.95-.994 3.533-.993 1.545-2.907 2.465-1.876.884-4.453.883h-8.501a1.067 1.067 0 0 1-1.067-1.066V20.36c0-.59.478-1.067 1.067-1.067h8.133q2.613 0 4.453.883 1.84.846 2.76 2.319.92 1.47.92 3.312 0 2.28-1.251 3.79a6.3 6.3 0 0 1-.782.794m-11.951-1.088c0 .59.478 1.067 1.067 1.067h4.564q2.355 0 3.643-1.104t1.288-3.055-1.288-3.054-3.717-1.104h-4.49c-.589 0-1.067.478-1.067 1.067zm5.925 12.88q2.502 0 3.901-1.178 1.398-1.178 1.398-3.275 0-2.135-1.472-3.35-1.472-1.25-3.937-1.25h-4.748c-.589 0-1.067.477-1.067 1.066v6.92c0 .589.478 1.067 1.067 1.067zm-15.14-2.687c.59 0 1.067.478 1.067 1.067v3.203c0 .589-.477 1.066-1.067 1.066h-2.135q-3.422 0-5.336-1.656-1.913-1.692-1.913-5.483V30.59c0-.59-.478-1.067-1.067-1.067h-.369a1.067 1.067 0 0 1-1.067-1.066v-3.093c0-.589.478-1.066 1.067-1.066h.369c.589 0 1.067-.478 1.067-1.067V20.36c0-.59.477-1.067 1.067-1.067h4.159c.589 0 1.067.477 1.067 1.067v2.871c0 .59.477 1.067 1.066 1.067h1.989c.589 0 1.066.477 1.066 1.066v3.093c0 .589-.477 1.066-1.066 1.066h-1.989c-.589 0-1.066.478-1.066 1.067v7.177q0 .92.441 1.324.442.405 1.472.405zm-33.91-4.931q0-3.201 1.288-5.594 1.325-2.39 3.643-3.68 2.355-1.288 5.373-1.288 3.864 0 6.44 2.024 2.14 1.657 3.07 4.426c.217.646-.293 1.278-.974 1.278H199.8c-.45 0-.839-.29-1.056-.684q-.923-1.67-2.969-1.67-1.73 0-2.76 1.36-1.03 1.326-1.031 3.828t1.031 3.864q1.03 1.325 2.76 1.325 2.046 0 2.969-1.671c.217-.394.606-.684 1.056-.684h4.615c.683 0 1.193.636.971 1.282q-.931 2.705-3.061 4.385-2.613 2.06-6.44 2.06-3.018 0-5.373-1.287-2.318-1.289-3.643-3.68-1.288-2.393-1.288-5.594m-4.336-10.268c.589 0 1.067.478 1.067 1.067v18.401c0 .59-.478 1.067-1.067 1.067h-4.554a.67.67 0 0 1-.672-.672c0-.656-.955-1.006-1.482-.615a8 8 0 0 1-1.131.698q-1.619.81-3.606.81-2.355 0-4.159-1.03-1.803-1.068-2.796-3.055-.994-1.988-.994-4.674v-10.93c0-.59.478-1.067 1.067-1.067h4.122c.59 0 1.067.478 1.067 1.067v10.084q0 2.06 1.067 3.201 1.068 1.14 2.871 1.141 1.839 0 2.907-1.14 1.067-1.141 1.067-3.202V25.364c0-.59.478-1.067 1.067-1.067zm-45.438 10.231q0-3.165 1.177-5.557 1.215-2.391 3.275-3.68 2.061-1.288 4.6-1.288 2.024 0 3.68.847c.944.472 2.65-.186 2.65-1.242v-4.941c0-.59.478-1.067 1.067-1.067h4.159c.589 0 1.067.478 1.067 1.067v25.098c0 .59-.478 1.067-1.067 1.067h-4.587a.64.64 0 0 1-.639-.639c0-.647-1.016-.993-1.529-.598a7 7 0 0 1-1.01.648q-1.62.884-3.791.883-2.539 0-4.6-1.287-2.06-1.326-3.275-3.717-1.177-2.43-1.177-5.594m15.382.037q0-2.356-1.325-3.717-1.287-1.362-3.165-1.361-1.877 0-3.201 1.361-1.288 1.325-1.288 3.68t1.288 3.754q1.325 1.36 3.201 1.361 1.878 0 3.165-1.361 1.325-1.362 1.325-3.717m-28.215 10.562q-3.017 0-5.447-1.288-2.391-1.289-3.79-3.68-1.362-2.393-1.362-5.594 0-3.165 1.399-5.557 1.398-2.429 3.827-3.717t5.446-1.288q3.018 0 5.447 1.288 2.429 1.29 3.827 3.717 1.398 2.392 1.398 5.557t-1.435 5.594a9.46 9.46 0 0 1-3.864 3.68q-2.428 1.287-5.446 1.288m0-5.447q1.803 0 3.054-1.325 1.288-1.324 1.288-3.79t-1.251-3.79q-1.214-1.326-3.018-1.325-1.839 0-3.054 1.325-1.215 1.288-1.214 3.79 0 2.466 1.177 3.79 1.215 1.326 3.018 1.325m-18.795-14.598c0 .78 1.145 1.17 1.752.68a8 8 0 0 1 1.008-.691 6.9 6.9 0 0 1 2.617-.922c.583-.08 1.063.406 1.063.995v4.527c0 .59-.478 1.067-1.067 1.067h-.663q-2.355 0-3.532 1.03-1.178.994-1.178 3.533v8.465c0 .589-.478 1.066-1.067 1.066h-4.16a1.066 1.066 0 0 1-1.066-1.066V25.365c0-.59.478-1.067 1.067-1.067h4.442c.433 0 .784.351.784.784m-9.569 2.233q0 2.245-1.03 4.122-1.03 1.84-3.165 2.98-2.135 1.142-5.299 1.142h-2.834c-.59 0-1.067.477-1.067 1.066v7.14c0 .59-.477 1.067-1.067 1.067H75.99c-.59 0-1.067-.477-1.067-1.066v-23.7c0-.59.478-1.067 1.067-1.067h9.127q3.09 0 5.226 1.067 2.134 1.067 3.201 2.944 1.068 1.876 1.067 4.305m-9.972 3.239q1.803 0 2.686-.847.883-.846.883-2.392t-.883-2.392-2.686-.846h-2.356c-.59 0-1.067.477-1.067 1.067v4.343c0 .59.478 1.067 1.067 1.067z",fill:"#001f3f"})]}),Wl=()=>{const e=oe(),[t,r]=(0,s.useState)(!1),a=Bl.filter(e=>e.showInNav),n=()=>{r(!1)};return(0,Xe.jsxs)("nav",{className:"w-full bg-white shadow-sm border-b border-gray-200 relative",children:[(0,Xe.jsxs)("div",{className:"py-3 px-6 h-16 flex justify-between items-center",children:[(0,Xe.jsx)("div",{className:"flex items-center justify-content-center gap-2",children:(0,Xe.jsx)(Hl,{className:"h-9 w-auto"})}),(0,Xe.jsxs)("div",{className:"hidden md:flex items-center",children:[(0,Xe.jsx)("div",{className:"flex space-x-2 mr-8",children:a.map(e=>(0,Xe.jsx)(Ke,{to:e.path,className:({isActive:e})=>"flex items-center px-4 h-9 rounded-lg text-sm font-semibold transition-colors\n\t\t\t\t\t\t\t\t\t"+(e?"bg-productbay-secondary text-gray-900":"text-gray-500 hover:bg-gray-100 hover:text-gray-900"),children:e.label},e.path))}),(0,Xe.jsxs)(Ir,{onClick:()=>e($l.path),variant:"outline",className:"cursor-pointer px-4 py-2 rounded-lg border-productbay-primary text-productbay-primary hover:bg-blue-100/70 hover:text-blue-700 hover:border-blue-700 flex items-center justify-between",children:[(0,Xe.jsx)("span",{className:"font-semibold",children:$l.label}),(0,Xe.jsx)("div",{className:"w-6 h-6 flex items-center justify-center p-0.5 bg-productbay-primary rounded-full ml-2",children:(0,Xe.jsx)(Wr,{size:12,className:"text-white",strokeWidth:3})})]})]}),(0,Xe.jsx)("button",{type:"button",onClick:()=>{r(!t)},className:"md:hidden p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors","aria-label":t?(0,Tr.__)("Close menu","productbay"):(0,Tr.__)("Open menu","productbay"),"aria-expanded":t,children:t?(0,Xe.jsx)(ut,{size:24}):(0,Xe.jsx)(Fl,{size:24})})]}),t&&(0,Xe.jsx)("div",{className:"md:hidden absolute top-16 left-0 right-0 bg-white border-b border-gray-200 shadow-lg z-50",children:(0,Xe.jsxs)("div",{className:"flex flex-col p-4 space-y-2",children:[a.map(e=>(0,Xe.jsx)(Ke,{to:e.path,onClick:n,className:({isActive:e})=>"flex items-center px-4 py-3 rounded-lg text-sm font-semibold transition-colors\n\t\t\t\t\t\t\t\t\t"+(e?"bg-productbay-secondary text-gray-900":"text-gray-500 hover:text-gray-900 hover:bg-gray-50"),children:e.label},e.path)),(0,Xe.jsxs)(Ir,{onClick:()=>{e($l.path),n()},variant:"outline",className:"cursor-pointer w-full h-10 px-4 py-2 rounded-lg border-productbay-primary text-productbay-primary hover:bg-blue-50 hover:text-blue-700 hover:border-blue-700 flex items-center justify-center mt-2",children:[(0,Xe.jsx)("span",{className:"font-semibold",children:$l.label}),(0,Xe.jsx)("div",{className:"w-6 h-6 flex items-center justify-center p-0.5 bg-productbay-primary rounded-full ml-2",children:(0,Xe.jsx)(Wr,{size:12,className:"text-white",strokeWidth:3})})]})]})})]})},ql=()=>(0,Xe.jsxs)("footer",{className:"my-6",children:[(0,Xe.jsxs)("div",{className:"relative py-4",children:[(0,Xe.jsx)("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:(0,Xe.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,Xe.jsx)("div",{className:"relative flex justify-center",children:(0,Xe.jsx)("span",{className:"bg-wp-bg px-4",children:(0,Xe.jsx)(ul,{className:"size-10 grayscale"})})})]}),(0,Xe.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[(0,Xe.jsx)("a",{className:"hover:underline underline-offset-4 w-20 text-center",href:"https://wpanchorbay.com/productbay/",target:"_blank",rel:"noopener noreferrer",children:(0,Tr.__)("Learn More","productbay")}),(0,Xe.jsx)("span",{className:"hidden sm:inline text-gray-700",children:"â—Ž"}),(0,Xe.jsx)("a",{className:"hover:underline underline-offset-4 w-20 text-center",href:"https://wpanchorbay.com/support/",target:"_blank",rel:"noopener noreferrer",children:(0,Tr.__)("Support","productbay")})]})]}),Ul=ot("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Vl=ot("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Kl=({steps:e,currentStep:t,classNames:r,onStepClick:a})=>(0,Xe.jsx)("div",{className:Sr("w-full py-4 pb-8",r?.root),children:(0,Xe.jsx)("div",{className:"flex items-center w-full justify-between relative px-2",children:e.map((n,s)=>{const o=s+1,i=o<t,c=o===t,d=!!a,u=s===e.length-1;return(0,Xe.jsxs)(l().Fragment,{children:[(0,Xe.jsxs)("div",{className:"relative flex flex-col items-center flex-shrink-0",children:[(0,Xe.jsx)("div",{role:d?"button":"presentation",onClick:()=>d&&a&&a(s),className:Sr("w-11 h-11 rounded-full flex items-center justify-center transition-all duration-300 shadow-sm z-10 font-bold",i?"bg-green-500 text-white":c?"bg-blue-600 text-white shadow-md":"bg-gray-200 text-gray-500",d&&"cursor-pointer hover:opacity-90 hover:scale-105",r?.circle),children:i?(0,Xe.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2.5,children:(0,Xe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}):(0,Xe.jsx)("span",{className:"text-lg",children:o})}),(0,Xe.jsx)("div",{className:Sr("absolute top-[3.25rem] text-sm font-semibold whitespace-nowrap",i?"text-green-500":c?"text-blue-600":"text-gray-400",r?.label),children:n})]}),!u&&(0,Xe.jsx)("div",{className:Sr("flex-1 h-[3px] mx-4 rounded-full transition-colors duration-500",i?"bg-green-500":"bg-gray-200",r?.bar)})]},n)})})}),Yl=({titleError:e,onTitleErrorClear:t})=>{const{tableTitle:r,setTitle:a,source:n,setSourceType:o,sourceStats:l,sourceStatsLoading:i,fetchSourceStats:c,preloadCategories:d}=xl();(0,s.useEffect)(()=>{d()},[d]),(0,s.useEffect)(()=>{c(n.type)},[n.type,c]);const u=l[n.type],p=i[n.type]||!u;return(0,Xe.jsxs)("div",{className:"w-full max-w-2xl mx-auto space-y-8",children:[(0,Xe.jsx)("h1",{className:"text-center text-2xl font-bold text-gray-800 my-4 pb-2",children:(0,Tr.__)("Create a New Table","productbay")}),(0,Xe.jsxs)("div",{className:"space-y-2",children:[(0,Xe.jsxs)("label",{htmlFor:"wizard-table-name",className:"block text-sm font-semibold text-gray-700",children:[(0,Tr.__)("Table Name","productbay"),(0,Xe.jsx)("span",{className:"text-red-500 ml-0.5",children:"*"})]}),(0,Xe.jsx)("input",{id:"wizard-table-name",type:"text",autoFocus:!0,value:r,onChange:r=>{a(r.target.value),e&&t&&t()},placeholder:(0,Tr.__)("e.g. Summer Sale Products","productbay"),className:"w-full h-12 px-4 text-base border rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 "+(e?"border-red-400 focus:ring-red-300 bg-red-50":"border-gray-300 focus:ring-blue-300 focus:border-blue-400")}),e&&(0,Xe.jsx)("p",{className:"text-sm text-red-500 mt-1",children:e})]}),(0,Xe.jsx)("div",{className:"space-y-4",children:(0,Xe.jsxs)(No,{source:n,setSourceType:o,children:["all"===n.type&&(0,Xe.jsxs)("div",{className:"animate-fade-in space-y-4",children:[(0,Xe.jsx)(Tl,{categoryCount:u?.categories||0,productCount:u?.products||0,loading:p,showEmpty:!0}),!p&&0===u?.products&&(0,Xe.jsxs)(yl,{variant:"warning",className:"bg-amber-50 border-amber-200",children:[(0,Xe.jsx)(ll,{className:"w-4 h-4 mt-0.5 text-amber-600"}),(0,Xe.jsxs)(vl,{className:"text-amber-800",children:[(0,Xe.jsx)("p",{className:"font-bold m-0",children:(0,Tr.__)("No products found!","productbay")}),(0,Xe.jsx)("p",{className:"text-sm mt-2 m-0",children:(0,Tr.__)("Your WooCommerce store appears to be empty. Add some products to create a table.","productbay")}),(0,Xe.jsxs)("a",{target:"_blank",href:`${window.ajaxurl?.split("admin-ajax.php")[0]}post-new.php?post_type=product`,className:"mt-2 inline-flex items-center text-sm text-amber-900 hover:text-blue-600 border border-amber-900 hover:border-blue-500 px-2 py-1 rounded-md",children:[(0,Tr.__)("Add your first product","productbay"),(0,Xe.jsx)(kl,{className:"w-3 h-3 ml-1"})]})]})]})]}),"sale"===n.type&&(0,Xe.jsxs)("div",{className:"animate-fade-in space-y-4",children:[(0,Xe.jsx)(Tl,{categoryCount:u?.categories||0,productCount:u?.products||0,loading:p,showEmpty:!0}),!p&&0===u?.products&&(0,Xe.jsxs)(yl,{variant:"warning",className:"bg-amber-50 border-amber-200",children:[(0,Xe.jsx)(ll,{className:"w-4 h-4 mt-0.5 text-amber-600"}),(0,Xe.jsxs)(vl,{className:"text-amber-800",children:[(0,Xe.jsx)("p",{className:"font-bold m-0",children:(0,Tr.__)("No products on sale!","productbay")}),(0,Xe.jsx)("p",{className:"text-sm mt-2 m-0",children:(0,Tr.__)("Set sale prices on some products to use this source type.","productbay")}),(0,Xe.jsxs)("a",{target:"_blank",href:Ol,className:"mt-2 inline-flex items-center text-sm text-amber-900 hover:text-blue-600 border border-amber-900 hover:border-blue-500 px-2 py-1 rounded-md",children:[(0,Tr.__)("Manage products","productbay"),(0,Xe.jsx)(kl,{className:"w-3 h-3 ml-1"})]})]})]})]}),"category"===n.type&&(0,Xe.jsx)("div",{className:"animate-fade-in",children:(0,Xe.jsx)(Ml,{})}),"specific"===n.type&&(0,Xe.jsx)("div",{className:"animate-fade-in",children:(0,Xe.jsx)(Rl,{})})]})})]})},Jl=()=>{const{columns:e,addColumn:t,reorderColumns:r,removeColumn:a,updateColumn:n,settings:s,setFeatures:o}=xl();return(0,Xe.jsxs)("div",{className:"w-full grid grid-cols-1 lg:grid-cols-5 gap-6",children:[(0,Xe.jsxs)("div",{className:"lg:col-span-3 space-y-6",children:[(0,Xe.jsxs)("section",{className:"px-2",children:[(0,Xe.jsx)(ho,{title:(0,Tr.__)("Table Columns","productbay"),description:(0,Tr.__)("Configure which columns to display and their order","productbay"),isRequired:!0}),(0,Xe.jsx)(Us,{columns:e,onAddColumn:t,onReorderColumns:r,onRemoveColumn:a,onUpdateColumn:n})]}),(0,Xe.jsx)("section",{className:"px-2",children:(0,Xe.jsx)(eo,{value:s.features.bulkSelect,onChange:e=>o({bulkSelect:e})})})]}),(0,Xe.jsx)("div",{className:"lg:col-span-2 min-w-0",children:(0,Xe.jsx)(jl,{className:"sticky top-4"})})]})},Gl=()=>{const{style:e,setHeaderStyle:t,setBodyStyle:r,setButtonStyle:a,setLayoutStyle:n,setTypographyStyle:s,setHoverStyle:o}=xl();return(0,Xe.jsxs)("div",{className:"w-full grid grid-cols-1 lg:grid-cols-5 gap-6",children:[(0,Xe.jsx)("div",{className:"lg:col-span-3",children:(0,Xe.jsx)(bo,{style:e,setHeaderStyle:t,setBodyStyle:r,setButtonStyle:a,setLayoutStyle:n,setTypographyStyle:s,setHoverStyle:o})}),(0,Xe.jsx)("div",{className:"lg:col-span-2 min-w-0",children:(0,Xe.jsx)(jl,{className:"sticky top-4"})})]})},Xl=()=>{const{settings:e,setFeatures:t,setPagination:r,setCart:a}=xl();return(0,Xe.jsxs)("div",{className:"w-full grid grid-cols-1 lg:grid-cols-5 gap-6",children:[(0,Xe.jsx)("div",{className:"lg:col-span-3",children:(0,Xe.jsx)(xo,{settings:e,setFeatures:t,setPagination:r,setCart:a})}),(0,Xe.jsx)("div",{className:"lg:col-span-2 min-w-0",children:(0,Xe.jsx)(jl,{className:"sticky top-4"})})]})},Ql=ot("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Zl=["#fce18a","#ff726d","#b48def","#f4306d","#42A5F5","#66BB6A","#FFB74D"],ei=({duration:e=5e3,pieceCount:t=120})=>{const[r,a]=(0,s.useState)([]);return(0,s.useEffect)(()=>{const r=Array.from({length:t}).map((e,t)=>({id:t,left:100*Math.random(),width:8+8*Math.random(),height:12+14*Math.random(),backgroundColor:Zl[Math.floor(Math.random()*Zl.length)],animationDuration:2+2.5*Math.random(),animationDelay:.3*Math.random(),rotate:360*Math.random(),shape:Math.random()>.5?"rect":"circle"}));if(a(r),e>0){const t=setTimeout(()=>{a([])},e);return()=>clearTimeout(t)}},[e,t]),0===r.length?null:(0,Xe.jsxs)("div",{className:"fixed inset-0 pointer-events-none z-[100000] overflow-hidden h-screen w-screen absolute top-0 left-0",children:[(0,Xe.jsx)("style",{children:"\n                @keyframes pb-confetti-fall {\n                    0% {\n                        transform: translateY(-5vh) rotateX(0) rotateY(0) rotateZ(var(--pb-rotate-start));\n                        opacity: 1;\n                    }\n                    80% {\n                        opacity: 1;\n                    }\n                    100% {\n                        transform: translateY(110vh) rotateX(720deg) rotateY(360deg) rotateZ(var(--pb-rotate-end));\n                        opacity: 0;\n                    }\n                }\n            "}),r.map(e=>(0,Xe.jsx)("div",{style:{position:"absolute",left:`${e.left}%`,top:"-5vh",width:`${e.width}px`,height:`${e.height}px`,backgroundColor:e.backgroundColor,borderRadius:"circle"===e.shape?"50%":"0px","--pb-rotate-start":`${e.rotate}deg`,"--pb-rotate-end":`${e.rotate+360+720*Math.random()}deg`,animation:`pb-confetti-fall ${e.animationDuration}s ease-in ${e.animationDelay}s forwards`,opacity:0}},e.id))]})},ti=({onClose:e})=>{const{tableId:t}=xl(),{isCopied:r,copy:a}=zo(),n=oe(),[s,o]=l().useState(0),i=`[productbay id="${t}"]`;return(0,Xe.jsxs)("div",{className:"flex flex-col items-center justify-center text-center py-8 px-4 max-w-lg mx-auto",children:[(0,Xe.jsx)(ei,{duration:5e3,pieceCount:150},s),(0,Xe.jsx)("div",{className:"w-20 h-20 rounded-full bg-green-100 flex items-center justify-center mb-6",children:(0,Xe.jsx)(Ql,{className:"w-12 h-12 text-green-500"})}),(0,Xe.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:(0,Tr.__)("Table Created Successfully!","productbay")}),(0,Xe.jsx)("p",{className:"text-gray-500 mb-8",children:(0,Tr.__)("Your ProductBay table is ready to be embedded on your website","productbay")}),(0,Xe.jsxs)("div",{className:"w-full bg-white border border-gray-200 rounded-xl p-5 mb-8 shadow-sm",children:[(0,Xe.jsxs)("div",{className:"flex items-start gap-3 mb-4",children:[(0,Xe.jsx)("div",{className:"w-9 h-9 rounded-lg bg-blue-50 flex items-center justify-center flex-shrink-0",children:(0,Xe.jsx)("span",{className:"text-blue-600 font-mono font-bold text-sm",children:"</>"})}),(0,Xe.jsxs)("div",{className:"text-left",children:[(0,Xe.jsx)("h3",{className:"text-sm font-semibold text-gray-900 m-0",children:(0,Tr.__)("Your Shortcode","productbay")}),(0,Xe.jsx)("p",{className:"text-xs text-gray-500 m-0 mt-0.5",children:(0,Tr.__)("Copy and paste this code into any page or post","productbay")})]})]}),(0,Xe.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-3",children:[(0,Xe.jsx)("div",{className:"flex-1 bg-gray-50 border border-gray-200 rounded-lg px-4 py-3",children:(0,Xe.jsx)("code",{className:"text-sm font-mono text-gray-800 bg-transparent select-all",children:i})}),(0,Xe.jsx)(Ir,{size:"default",onClick:()=>{a(i)},className:"cursor-pointer text-white border-0 flex-shrink-0 transition-colors w-24 "+(r?"bg-green-600 hover:bg-green-700":"bg-green-500 hover:bg-green-600"),children:r?(0,Xe.jsxs)(Xe.Fragment,{children:[(0,Xe.jsx)(lt,{className:"w-4 h-4 mr-1.5"}),(0,Tr.__)("Copied!","productbay")]}):(0,Xe.jsxs)(Xe.Fragment,{children:[(0,Xe.jsx)(Go,{className:"w-4 h-4 mr-1.5"}),(0,Tr.__)("Copy","productbay")]})})]})]}),(0,Xe.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-4",children:[(0,Xe.jsxs)(Ir,{size:"lg",onClick:()=>{e(),t&&n(Il.TABLE_EDITOR.replace(":id",t.toString()))},className:"cursor-pointer bg-green-500 hover:bg-green-600 font-medium text-white border-0 shiny-btn",children:[(0,Tr.__)("View/Edit this table","productbay"),(0,Xe.jsx)(kl,{className:"w-4 h-4 ml-2"})]}),(0,Xe.jsxs)(Ir,{size:"lg",variant:"default",onClick:()=>{e(),n(Il.TABLES,{state:{refresh:Date.now()}})},className:"cursor-pointer border-0 font-medium shiny-btn",children:[(0,Tr.__)("Show all tables","productbay"),(0,Xe.jsx)(Vl,{className:"w-4 h-4 ml-2"})]})]}),(0,Xe.jsx)(Ir,{variant:"outline",size:"lg",onClick:()=>o(e=>e+1),className:"mt-8 text-gray-400 hover:text-gray-600 hover:bg-gray-100 cursor-pointer",children:"ðŸŽ‰"})]})},ri=[(0,Tr.__)("Setup","productbay"),(0,Tr.__)("Columns","productbay"),(0,Tr.__)("Display","productbay"),(0,Tr.__)("Options","productbay"),(0,Tr.__)("Finish","productbay")],ai={1:(0,Tr.__)("Name your table and choose a product source","productbay"),2:(0,Tr.__)("Select and configure the columns for your table","productbay"),3:(0,Tr.__)("Customize colors, layout, and typography","productbay"),4:(0,Tr.__)("Configure search, pagination, and cart options","productbay"),5:(0,Tr.__)("Your table is ready!","productbay")},ni=({isOpen:e,onClose:t})=>{const[r,a]=(0,s.useState)(1),[n,o]=(0,s.useState)(void 0),[l,i]=(0,s.useState)(!1),{tableTitle:c,saveTable:d,error:u}=xl(),{toast:p}=et(),h=oe(),m=(0,s.useCallback)(async()=>{if(1!==r||c.trim()){if(4===r){i(!0);const e=await d();return i(!1),void(e?(p({title:(0,Tr.__)("Success","productbay"),description:(0,Tr.__)("Table saved successfully.","productbay"),type:"success"}),a(5),h(Il.TABLES,{state:{refresh:Date.now()},replace:!0})):p({title:(0,Tr.__)("Error","productbay"),description:u||(0,Tr.__)("Failed to save table.","productbay"),type:"error"}))}a(e=>Math.min(e+1,5))}else o((0,Tr.__)("Table name is required.","productbay"))},[r,c,d,u,p,h]),b=(0,s.useCallback)(()=>{a(e=>Math.max(e-1,1))},[]),g=(0,s.useCallback)(e=>{const t=e+1;t<r&&5!==r&&a(t)},[r]),x=(0,s.useCallback)(()=>{a(1),o(void 0),t()},[t]);if(!e)return null;const f=document.getElementById("productbay-root")||document.body;return(0,Kr.createPortal)((0,Xe.jsx)("div",{className:"fixed inset-0 z-[60000] bg-black/65 flex items-center justify-center",onClick:5===r?x:void 0,children:(0,Xe.jsxs)("div",{className:"relative max-w-7xl w-full max-h-[90vh] h-full overflow-hidden flex flex-col bg-white rounded-lg border border-gray-200 shadow-xl mx-4",onClick:e=>e.stopPropagation(),children:[(0,Xe.jsxs)("div",{className:"flex-shrink-0 border-b border-gray-200 bg-white",children:[(0,Xe.jsxs)("div",{className:"flex items-center justify-between px-6 py-3 bg-gray-50 border-b border-gray-200",children:[(0,Xe.jsxs)("div",{className:"flex flex-col md:flex-row gap-2 md:items-center",children:[(0,Xe.jsx)("h2",{className:"text-lg font-bold text-gray-900 m-0",children:ri[r-1]}),(0,Xe.jsx)("p",{className:"md:border-l md:border-gray-200 md:pl-2 text-sm text-gray-500 m-0",children:ai[r]})]}),5!==r?(0,Xe.jsx)("button",{onClick:x,title:(0,Tr.__)("Close wizard","productbay"),"aria-label":(0,Tr.__)("Close wizard","productbay"),className:"p-2 rounded-lg text-gray-400 hover:text-gray-600 hover:bg-red-100 transition-colors cursor-pointer",children:(0,Xe.jsx)(ut,{className:"w-5 h-5"})}):(0,Xe.jsx)("button",{onClick:x,title:(0,Tr.__)("Close","productbay"),"aria-label":(0,Tr.__)("Close","productbay"),className:"p-2 rounded-lg text-gray-400 hover:text-gray-600 hover:bg-gray-100 transition-colors cursor-pointer",children:(0,Xe.jsx)(ut,{className:"w-5 h-5"})})]}),(0,Xe.jsx)("div",{className:"px-6 pb-2",children:(0,Xe.jsx)(Kl,{steps:ri,currentStep:r,onStepClick:5!==r?g:void 0})})]}),(0,Xe.jsxs)("div",{className:"flex-1 overflow-y-scroll overflow-x-hidden p-6 bg-gray-50/50",children:[1===r&&(0,Xe.jsx)(Yl,{titleError:n,onTitleErrorClear:()=>o(void 0)}),2===r&&(0,Xe.jsx)(Jl,{}),3===r&&(0,Xe.jsx)(Gl,{}),4===r&&(0,Xe.jsx)(Xl,{}),5===r&&(0,Xe.jsx)(ti,{onClose:x})]}),5!==r&&(0,Xe.jsx)("div",{className:"flex-shrink-0 border-t border-gray-200 bg-white px-6 py-4",children:(0,Xe.jsxs)("div",{className:"flex items-center justify-between max-w-7xl mx-auto",children:[(0,Xe.jsx)("div",{children:r>1&&(0,Xe.jsxs)(Ir,{size:"lg",variant:"outline",onClick:b,className:"cursor-pointer",children:[(0,Xe.jsx)(Ul,{className:"w-4 h-4 mr-2"}),(0,Tr.__)("Back","productbay")]})}),(0,Xe.jsx)(Ir,{size:"lg",onClick:m,disabled:l,className:Sr("cursor-pointer min-w-[140px] flex items-center justify-center",l&&"opacity-75 cursor-wait"),children:4===r?(0,Xe.jsxs)(Xe.Fragment,{children:[l?(0,Tr.__)("Creating...","productbay"):(0,Tr.__)("Create Table","productbay"),l?(0,Xe.jsx)(il,{className:"w-4 h-4 ml-2 animate-spin"}):(0,Xe.jsx)(Vl,{className:"w-4 h-4 ml-2"})]}):(0,Xe.jsxs)(Xe.Fragment,{children:[(0,Tr.__)("Next","productbay"),(0,Xe.jsx)(Vl,{className:"w-4 h-4 ml-2"})]})})]})})]})}),f)},si=({children:e})=>{(()=>{const e=ae();(0,s.useEffect)(()=>{const t=e.pathname;let r="productbay";t===Il.DASHBOARD?r="productbay":t===Il.SETTINGS?r="productbay-settings":t===Il.NEW?r="productbay-new":t===Il.TABLES||t.startsWith("/edit")?r="productbay":t===Il.HELP&&(r="productbay-help");const a=new URL(window.location.href),n=a.searchParams;if(n.get("page")!==r){n.set("page",r);const e=`${a.pathname}?${n.toString()}${window.location.hash}`;window.history.replaceState(null,"",e)}const s=document.querySelectorAll("ul.wp-submenu a"),o=Array.from(s).find(e=>{const t=e.getAttribute("href");if(!t)return!1;const a=t.startsWith("admin.php"),n=t.startsWith(window.location.origin)&&t.includes("admin.php");if(!a&&!n)return!1;try{return new URL(t,window.location.origin).searchParams.get("page")===r}catch{return t.includes(`page=${r}&`)||t.endsWith(`page=${r}`)}});if(o){const e=o.closest("ul.wp-submenu");if(e){e.querySelectorAll("li").forEach(e=>e.classList.remove("current")),e.querySelectorAll("a").forEach(e=>e.classList.remove("current"));const t=o.closest("li");t&&t.classList.add("current"),o.classList.add("current")}}},[e])})();const t=ae(),[r,a]=(0,s.useState)(!1),[n,o]=(0,s.useState)(!1),l=(0,s.useCallback)(()=>{xl.getState().resetStore(),a(!0)},[]);(0,s.useEffect)(()=>{const e=window.productBaySettings?.isFirstTime,r="/"===t.pathname||"/tables"===t.pathname||""===t.pathname;e&&r&&(o(!0),setTimeout(()=>{o(!1),l()},2500),(0,Or.n)("system/onboard",{method:"POST"}).catch(console.error),window.productBaySettings&&(window.productBaySettings.isFirstTime=!1))},[t.pathname,l]);const i=(0,s.useCallback)(()=>{a(!1),xl.getState().resetStore()},[]);return(0,Xe.jsxs)("div",{className:"productbay-app bg-wp-bg font-sans text-wp-text p-0 m-0",children:[(0,Xe.jsx)(Wl,{}),(0,Xe.jsx)("main",{className:"p-2 sm:p-4 md:p-6 lg:p-8 max-w-7xl mx-auto",children:e}),(0,Xe.jsx)(ql,{}),!r&&(0,Xe.jsx)("button",{className:"fixed bottom-[20px] right-[20px] text-white rounded-full p-[12px] shadow-xl transition-all duration-300 hover:scale-110 hover:shadow-[#EE00FF]/30 z-[100] cursor-pointer",style:{background:"linear-gradient(to bottom, #EE00FF, #3300B3)"},onClick:l,title:(0,Tr.__)("Open Create Table Wizard","productbay"),children:(0,Xe.jsx)(Mr,{size:24})}),(0,Xe.jsx)(ni,{isOpen:r,onClose:i}),n&&(0,Xe.jsx)("div",{className:"fixed inset-0 z-[100000] flex flex-col items-center justify-center bg-[#f0f0f1] animate-in fade-in duration-500",children:(0,Xe.jsxs)("div",{className:"flex flex-col items-center justify-center animate-bounce-slow",children:[(0,Xe.jsx)(ul,{className:"w-32 h-32 mb-6 shadow-2xl rounded-[28px]"}),(0,Xe.jsx)("h1",{className:"text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-purple-600",children:(0,Tr.__)("Welcome to ProductBay","productbay")}),(0,Xe.jsx)("p",{className:"text-gray-500 mt-4 text-lg",children:(0,Tr.__)("Getting everything ready for you...","productbay")})]})})]})},oi=()=>(0,Xe.jsx)(qe,{children:(0,Xe.jsx)(Ze,{children:(0,Xe.jsxs)(si,{children:[(0,Xe.jsx)(we,{children:Bl.map(e=>(0,Xe.jsx)(ye,{path:e.path,element:(0,Xe.jsx)(e.element,{})},e.path))}),(0,Xe.jsx)(Dr,{})]})})}),li=window.wp.domReady;var ii=n.n(li);const ci=window.wp.element;ii()(()=>{if(!window.location.hash)switch(new URLSearchParams(window.location.search).get("page")){case"productbay-tables":case"productbay":case"productbay-dash":window.location.hash=`#${Il.TABLES}`;break;case"productbay-new":window.location.hash=`#${Il.NEW}`;break;case"productbay-settings":window.location.hash=`#${Il.SETTINGS}`}const e=document.getElementById("productbay-root");e&&(0,ci.createRoot)(e).render((0,Xe.jsx)(oi,{}))})})();